(function(){__.set("__.QosSS");
__.QosSS.init=function(c,b){
	this.t=this.t||[(new Date()).getTime()];
	this.name=c;
	for(var d=1;d<6;d++){
		this.t[d]=this.t[d]||this.t[0]}this.cfg=b||{};
		var f=this;
		this._cache={};
		this._cacheKey={};
		this._cacheCnt=0;__.each(this.cfg,function(k,g){
			f._cache[g]={};
			if(__.lang.isString(k)){
				__.each(k.split(" "),function(l){
					f._cache[g][l]=true;
					if(!f._cacheKey[l]){
						f._cacheKey[l]=true;f._cacheCnt++}})
			}
			else{if(__.lang.isArray(k)){__.each(k,function(l){f._cache[g][l]=true;if(!f._cacheKey[l]){f._cacheKey[l]=true;f._cacheCnt++}})}}},true)};__.QosSS.call=function(){var c=this,b=c.t;this.image=new Image();this.image.src=["http://qos.report.qq.com/collect?type=1&name=",this.name,"&1=",b[1]-b[0],"&2=",b[2]-b[0],"&3=",b[3]-b[0],"&4=",b[4]-b[0],"&5=",b[5]-b[0]].join("");this.set=__.lang.EF;__.log(this.image.src)};__.QosSS.set=function(b){var f=b.split(" "),c=(new Date()).getTime(),d=this;__.each(f,function(g){if(d._cacheKey[g]===true){d._cacheKey[g]=c;__.each(d._cache,function(l,k){if(l[g]===true){l[g]=c;d.t[k]=Math.max(d.t[k],c)}},true);d._cacheCnt--;if(d._cacheCnt===0){d.call()}__.log(g,c)}})};try{__.set("__.app.QosSS");__.app.QosSS.set||(__.app.QosSS.set=function(){})}catch(a){}}());(function(){var c=__,b="1.0.0",d="__.app.postJs",a=(function(){var v=c.Dom,l=c.config.doc,u=c.Event,m=c.Lang,o=0,s=function(z){z=new String(z);return z.replace(/&/g,"&#38;").replace(/\"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;").replace(/>/g,"&#62;")},t=function(z){try{return decodeURIComponent(z)}catch(A){return""}},f=function(F,A){var E={};F=new String(F);var z=F.split(A||"&"),D=0,B=z.length,C,H,G;for(;D<B;D++){if((C=z[D].split("="))[0]){H=t(C[0]);G=C[1]?t(C[1]):"";if(H in E){if(E[H].constructor!=Array){E[H]=[E[H]]}if(G){E[H].push(G)}}else{E[H]=G}}}return E},g={},q=function(z){if(z in g){var B=g[z];if(typeof B.onOk=="function"){try{B.onOk(B.dom,z)}catch(A){}}v.remEl(B.dom.parentNode)}},p=function(B,A){var C=v.addEl({css:"display:none",html:['<iframe id="',B,'" name="',B,'" style="display:none;"></iframe>'].join("")},l.body),z=function(){q(B)};C=v.f(B);g[B]={dom:C,onOk:A.onOk,handler:z};if(C.addEventListener||C.attachEvent){u.on(C,"load",z)}else{C.onload=z}},k=function(z,I){o++;var B="IFRAME_POST_"+o,A=document.createElement("FORM"),H=[],E=null;if(I.sPost){var C=f(I.sPost);for(var K in C){var G=C[K];if(G.constructor!=Array){H.push('<input type="hidden" name="',s(K),'" value="',s(G),'">')}else{for(var F=0,D=G.length;F<D;F++){H.push('<input type="hidden" name="',s(K),'" value="',s(G[F]),'">')}}}}A=v.addEl({tag:"FORM",action:z,method:"post",target:B,html:H.join("")},l.body);A.target=B;if(I.charset){A.acceptCharset=I.charset;if(!!document.all){E=document.charset;document.charset=I.charset}}p(B,{onOk:function(M,L){if(typeof I.onOk=="function"){I.onOk(M)}v.remEl(A)}});try{A.submit()}catch(J){alert("\u60a8\u7684\u6d4f\u89c8\u5668(IE6)\u7684\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u8de8\u57df\u8bbf\u95ee\uff0c\u8bf7\u542f\u7528\u201c\u8de8\u57df\u6d4f\u89c8\u5b50\u6846\u67b6\u201d\u6216\u5347\u7ea7\u60a8\u7684\u6d4f\u89c8\u5668\u5230IE8\u3001Firefox\u3001Chrome\u3002")}if(E&&!!document.all){document.charset=E}};return{p:k,n:function(B,z){var A={};m.objExtend(A,z);A.onOk=function(C){var E=C.contentWindow.name;try{z.onOk(E)}catch(D){}};k(B,A)}}}());c.set(d,a)}());(function(){var c=__,b="1.0.0",d="__.app.msgbox",a=(function(){var C=c.Dom,B=c.Event,t=c.config.doc,A={"0":{html:"\u81ea\u9009\u80a1\u63d0\u9192\u4fe1\u606f\u5df2\u4fdd\u5b58",el:{css:"width:279px;height:66px;border:1px solid #EED59F;background-color:#FEF7C0;display:none;position:absolute",child:[{css:"width:14px;height:14px;background:url(http://mat1.gtimg.com/finance//stock/quotpage/msgbox.png) -17px 0 no-repeat;float:right;cursor:pointer;",cls:"_msgbox_CLOSE"},{css:"width:217px;height:17px;float:left;margin:8px 0 0 50px;font-size:13px;_margin-left:25px;_margin-top:22px;",child:[{css:"width:17px;height:17px;background:url(http://mat1.gtimg.com/finance//stock/quotpage/msgbox.png) 0 0 no-repeat;float:left;"},{css:"width:183px;height:17px;float:left;line-height:17px;padding-left:14px;",cls:"_msgbox_HTML"}]},{css:"width:200px;height:15px;line-height:15px;font-size:12px;text-align:right;padding-right:6px;float:right;margin-top:9px;",cls:"HTML_FOOT"}]}}},z={},o=function(E){if(l[E]){clearTimeout(l[E]);l[E]=false}var D=C.f(E);if(D){D.style.display="none"}k[E]=false;if(z[E]){clearTimeout(z[E]);z[E]=false}},u=function(D,E){if(z["_msgbox_"+D]){clearTimeout(z["_msgbox_"+D])}s["_msgbox_"+D]=E;if(E>0){z["_msgbox_"+D]=setTimeout((function(){return function(){o("_msgbox_"+D)}}()),E*1000)}},l={},v=function(G,D,F,E){if(E&&E>0){E=E*1000}else{E=0}if(l[G]){clearTimeout(l[G])}l[G]=setTimeout(function(){q(G,D,F)},E)},q=function(H,D,E){if(l[H]){clearTimeout(l[H]);l[H]=false}var F=C.f(H);if(F){F.style.visibility="hidden";F.style.display="block";g(H,[F,D,E]);F.style.visibility="visible";var G=C.f("._msgbox_IFRAME",F);if(G){G.style.width=F.clientWidth+"px";G.style.height=F.clientHeight+"px"}}},k={},p=null,g=function(O,D){var E=document.documentElement.scrollWidth,J=document.documentElement.clientHeight,S=false;if(O&&D){k[O]=D}for(var U in k){if(k[U]){var K=k[U][0],F=k[U][1],P=k[U][2];try{if(F){var H=C.getPosition(F,"offsetLeft"),G=C.getPosition(F,"offsetTop")+F.clientHeight+5,I=K.clientWidth,Q=K.clientHeight;if(P&&H){var M=C.getPosition(P,"offsetLeft"),L=C.getPosition(P,"offsetTop"),N=P.clientWidth,T=P.clientHeight;if(H<=M){H=M+5}if(H+I>=M+N){H=M+N-I-5}if(H<M){H=M+N/2}if(G<=L){G=L+5}if(G+Q>=L+T){G=L+T-Q-5}if(G<L){G=L+T/2}}if(H){K.style.top=G+"px";K.style.left=H+"px"}}else{K.style.top=document.documentElement.scrollTop+(J-K.clientHeight)/2+"px";K.style.left=(E-K.clientWidth)/2+"px"}S=true}catch(R){}}}if(S){p=setTimeout(g,50)}},m={},s={},f=function(D,J,E){if(typeof J=="undefined"&&(D in A)){J=A[D].html||J}var H=C.f("_msgbox_"+D),F,N,K;if(!H){if(D in A){E=A[D].el||E}if(E){E.id=E.id||"_msgbox_"+D}else{E={id:"_msgbox_"+D}}H=C.addEl(E,t.body);if(c.config.ua.ie==6){C.addEl({tag:"IFRAME",cls:"_msgbox_IFRAME",frameBorder:0,css:"Z-INDEX:-1;FILTER:alpha(opacity=0);LEFT:-1px;WIDTH:1000px;POSITION:absolute;TOP:0px;HEIGHT:3000px"},H)}if(C.f("._msgbox_CLOSE",H)){B.on(C.f("._msgbox_CLOSE",H),"click",(function(){return function(){o(E.id)}}()))}if(J.mouseevent!==false){B.on(H,"mouseover",(function(){return function(){if(z["_msgbox_"+D]){clearTimeout(z["_msgbox_"+D]);z["_msgbox_"+D]=0}}}()));B.on(H,"mouseout",(function(){return function(){if(s["_msgbox_"+D]>0&&!z["_msgbox_"+D]){u(D,s["_msgbox_"+D])}}}()))}}else{if(D in m){for(F in m[D]){N=m[D][F];K=F.split("_");L=C.f("."+F,H);if(L){if(K[0]=="EV"&&K.length>1&&typeof N=="function"){B.off(L,K[1].toLowerCase(),N)}}}}}var O=3,L,I=null,G=0,M=null;if(typeof J=="string"){L=C.f("._msgbox_HTML",H);if(L){L.innerHTML=J}else{H.innerHTML=J}}else{if(typeof J=="object"){m[D]=J;for(F in J){N=J[F];switch(F){case"autoclose":O=N;break;case"delay":G=N;break;case"html":L=C.f("._msgbox_HTML",H);if(L){L.innerHTML=N}else{H.innerHTML=N}break;case"position":I=N;break;case"parent":M=N;break;default:K=F.split("_");L=C.f("."+F,H);if(L){if(K[0]=="EV"&&K.length>1&&typeof N=="function"){B.on(L,K[1].toLowerCase(),N)}else{if(typeof N=="string"){L.innerHTML=N}}}break}}}}v("_msgbox_"+D,I,M,G);u(D,O)};return{o:f,close:function(D,E){if(E&&E>0){u(D,E)}else{o("_msgbox_"+D)}}}}());c.set(d,a)}());(function(){var c=__,b="1.0.0",d="__.app.scroll",a=(function(){var A=c.Lang,E=c.Dom,D=c.Event,m=c.config.doc,g=function(G){if(G.pageX||G.pageY){return{x:G.pageX,y:G.pageY}}if(c.config.ie){return{x:G.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:G.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}}else{return{x:G.clientX+document.body.scrollLeft-document.body.clientLeft,y:G.clientY+document.body.scrollTop-document.body.clientTop}}},k=function(I,G){if(I._send_event!==true){return}var H;if(m.createEvent){H=m.createEvent("HTMLEvents");H.initEvent("mousemove",true,true)}else{H=m.createEventObject();H.eventType="onmousemove"}H.clientY=I._dom_mcontentwrapper.clientHeight-parseInt(I._dom_contentwrapper.style.top,10)-15;H.clientX=0;H.memo={y:G};if(m.createEvent){I._dom_contentwrapper.dispatchEvent(H)}else{I._dom_contentwrapper.fireEvent(H.eventType,H)}},F=function(H){if(H._select_down===1&&H._select_y>=0){var G=E.getPosition(H._dom_mcontentwrapper,"offsetTop"),I=G+H._client_height;if(H._select_y>I-18){t(H,true,I-H._select_y-15);k(H,I-H._select_y-15)}else{if(H._select_y<G+18){t(H,true,G-H._select_y+15);k(H,G-H._select_y+15)}}}else{clearInterval(H._select_timer);H._select_timer=0}},B=null,t=function(M,J,K,P){if(B!==null){clearTimeout(B);B=setTimeout(function(){B=null;t(M,J,K,P)},100);return 0}p(M);var L=0,I=0;if(J===false){L=K*Math.max(0,M._content_height-M._client_height)/(M._scroll_top_end-M._scroll_top_beg);I=K}else{if(J===true){L=K;I=K*(M._scroll_top_end-M._scroll_top_beg)/Math.max(1,M._content_height-M._client_height)}else{L=J*M.CFG.step;I=J*M.CFG.step*(M._scroll_top_end-M._scroll_top_beg)/Math.max(1,M._content_height-M._client_height)}}var N=0,H=false,O=parseInt(M._dom_contentwrapper.style.top,10),G=Math.floor(O+L);if(G>0){G=0;N=1}else{if(G<M._client_height-M._content_height){G=M._client_height-M._content_height;N=-1}}o(M,G,P);return N},o=function(H,J,K){H._dom_contentwrapper.style.top=J+"px";H._top=J;var G=Math.min(H._scroll_top_end,Math.max(H._scroll_top_beg,H._scroll_top_beg+Math.floor(0-J*(H._scroll_top_end-H._scroll_top_beg)/Math.max(1,H._content_height-H._client_height))));H._dom_vscrollerbar.style.top=G+"px";if(typeof H.onScroll=="function"){try{H.onScroll(K)}catch(I){}}},l=0,z=null,u=function(G,H){H=H||window.event;l+=H.wheelDelta?(H.wheelDelta/120):(-H.detail/3);if(G.CFG.stopMouseWheel!==false){D.stopEvent(H)}if(z){return}z=setTimeout(function(){z=null;var I=t(G,l);l=0},100)},s=function(H,I){I=I||window.event;var K=g(I),J=K.y,G=E.getPosition(H._dom_vscrollerbar,"offsetTop");if(J<G){t(H,1)}if(J>G){t(H,-1)}},f=function(G){if(G._client_height>=G._content_height){G._content_height=G._client_height;G._dom_vscrollerbar.style.display="none";if(G.CFG.always_display===false){G.hide()}}else{G._dom_vscrollerbar.style.display="block";if(G.CFG.always_display===false){G.show()}}},p=function(K){if(K._dom_contentwrapper.scrollHeight<15){return}var G=K._dom_contentwrapper.scrollHeight,J=parseInt(K._dom_div.style.width,10);G=isNaN(G)?0:G;J=isNaN(J)?0:J;G=G<K._client_height?K._client_height:G;J=J<K._dom_div.clientWidth?K._dom_div.clientWidth:J;if(K._client_width!=J){K._client_width=J;K._dom_mcontentwrapper.style.width=(J-11)+"px";K._dom_scrollwrapper.style.width=J+"px";K._dom_vscrollerbase.style.left=(J-11)+"px"}if(K._content_height==G){return}K._content_height=G;f(K);var L=parseInt(K._dom_vscrollerbase.style.height,10);L=L>0?L:K._dom_vscrollerbase.clientHeight;var I=Math.max(30,Math.min(L,Math.floor(K._client_height*L/G)));K._dom_vscrollerbar.style.height=I+"px";K._dom_vscrollerbarend.style.top=(I-3)+"px";var H=L-I-K._scroll_top_beg;if(H>0&&H!=K._scroll_top_end){K._scroll_top_end=H}t(K,0,0,true)},v=function(I){var H=function(J){if(!(!!J.preventDefault)){m.onselectstart=function(){return false}}else{m.onmousedown=function(K){K.preventDefault()}}},G=function(J){if(!(!!J.preventDefault)){m.onselectstart=null}else{m.onmousedown=null}};D.on(I._dom_mcontentwrapper,"DOMMouseScroll",function(J){u(I,J)});D.on(I._dom_mcontentwrapper,"mousewheel",function(J){u(I,J)});D.on(I._dom_vscrollerbase,"click",function(J){s(I,J)});D.on(I._dom_vscrollerbar,"click",function(J){D.stopEvent(J)});D.on(I._dom_vscrollerbar,"mousedown",function(J){I._drag_down=true;I._drag_y=J.clientY;H(J)});D.on(c.config.doc.body,"mouseup",function(J){if(I._drag_down===true){t(I,false,I._drag_y-J.clientY);G(J)}I._drag_down=false;I._select_down=0;I._drag_y=-1;I._select_y=-1});D.on(c.config.doc,"mousemove",function(K){if(K.memo&&K.memo.y!==0){return false}var J=true;if(I._drag_down===true){t(I,false,I._drag_y-K.clientY);I._drag_y=K.clientY;J=false}if(I._select_down===1){var L=g(K);I._select_y=L.y;J=false}return J});D.on(I._dom_contentwrapper,"mousedown",function(J){I._select_down=1;I._select_timer=setInterval(function(){F(I)},100)});if(c.config.ie){D.on(I._dom_contentwrapper,"resize",function(){p(I)})}else{setInterval(function(){p(I)},200)}},C=function(K){var I=K._dom_div.innerHTML,G=parseInt(K._dom_div.style.height,10),J=parseInt(K._dom_div.style.width,10);G=isNaN(G)?0:G;J=isNaN(J)?0:J;G=G||K._dom_div.clientHeight;J=J||K._dom_div.clientWidth;K._dom_div.innerHTML="";K._dom_mcontentwrapper=E.addEl({id:K.CFG.div+"_mcontentwrapper",cls:"mcontentwrapper",css:"width:"+(J-11)+"px;height:"+G+"px;position:relative;overflow:hidden;z-index:2;"},K._dom_div);K._dom_contentwrapper=E.addEl({id:K.CFG.div+"_contentwrapper",cls:"contentwrapper",css:"position:relative;top:0px;width:100%;display:block;padding:0px;left:0pt;",html:I},K._dom_mcontentwrapper);K._dom_scrollwrapper=E.addEl({id:K.CFG.div+"_scrollwrapper",cls:"scrollwrapper",css:"width:"+(J>0?(J+"px"):"100%")+";height:"+G+"px;position:absolute;top:0px;left:0px;overflow:hidden;"},K._dom_div);K._dom_zoomdetectdiv=E.addEl({id:K.CFG.div+"_zoomdetectdiv",cls:"zoomdetectdiv",css:"font-size: 12px; height: 1em; width: 1em; position: absolute; z-index: -999; visibility: hidden;"},K._dom_scrollwrapper);K._dom_vscrollerbase=E.addEl({id:K.CFG.div+"_vscrollerbase",cls:"vscrollerbase scrollgeneric",css:"height:"+G+"px;left:"+(J-11)+"px; visibility: visible;"},K._dom_scrollwrapper);K._dom_vscrollerbar=E.addEl({id:K.CFG.div+"_vscrollerbar",cls:"vscrollerbar scrollgeneric",css:"padding:0px;top:7px;z-index:2; visibility: visible;"},K._dom_vscrollerbase);K._dom_vscrollerbasebeg=E.addEl({id:K.CFG.div+"_vscrollerbasebeg",cls:"vscrollerbasebeg scrollgeneric",css:"height:7px;"},K._dom_vscrollerbase);K._dom_vscrollerbaseend=E.addEl({id:K.CFG.div+"_vscrollerbaseend",cls:"vscrollerbaseend scrollgeneric",css:"top:"+(G-7)+"px;"},K._dom_vscrollerbase);K._dom_vscrollerbarbeg=E.addEl({id:K.CFG.div+"_vscrollerbarbeg",cls:"vscrollerbarbeg scrollgeneric",css:"height:3px;"},K._dom_vscrollerbar);K._dom_vscrollerbarend=E.addEl({id:K.CFG.div+"_vscrollerbarend",cls:"vscrollerbarend scrollgeneric",css:"height:3px;"},K._dom_vscrollerbar);K._content_height=K._dom_contentwrapper.scrollHeight;K._client_height=G;K._client_width=J;if(K._client_height>=K._content_height){K._content_height=K._client_height;K._dom_vscrollerbar.style.display="none";if(K.CFG.always_display===false){K.hide()}}K._scroll_top_beg=7;var H=parseInt(K._dom_vscrollerbar.style.height,10),L=parseInt(K._dom_vscrollerbase.style.height,10);H=H>0?H:K._dom_vscrollerbar.clientHeight;L=L>0?L:K._dom_vscrollerbase.clientHeight;K._scroll_top_end=L-H-K._scroll_top_beg},q=function(H,G){A.objExtend(H.CFG,G);H._dom_div=E.f(H.CFG.div);if(!H._dom_div){return false}C(H);v(H);return true};return c.Class.extend({_top:0,CFG:{step:50,always_display:true},hide:function(G){if(G===false){f(this)}else{this._dom_scrollwrapper.style.display="none"}},show:function(G){if(G===false){f(this)}else{this._dom_scrollwrapper.style.display="block"}},scroll:function(H,G,I){if(G===true){o(this,H,I)}else{t(this,true,H-this._top,I)}},_scroll:function(I,G,H){t(this,I,G,H)},_mousewheel:function(G){u(this,G)},init:function(G){return q(this,G)},getContent:function(){return this._dom_contentwrapper}})}());c.set(d,a)}());(function(){var g=__,c="1.3.0",m=g.Dom,l=g.Event,k=g.Lang,a=g.Cookie,b=g.Table,d=g.config.win,f=g.config.doc;g.set("__.app.login");__.app.login=(function(){var E,z,D,t="",v,o,u=function(I,G,H){try{if(typeof(__.app.recentCode)=="undefined"){g.set("__.app.recentCode")}if(!G&&__.app.recentCode.loginInfo){I(__.app.recentCode.loginInfo);return}}catch(J){g.set("__.app.recentCode")}g.load("http://stockapp.finance.qq.com/pstock/view/pstkapi.php?appn="+o+"&action=show",function(){I(__.app.recentCode.loginInfo)});if(H&&H.interval&&H.interval>0){var K=setInterval((function(){return function(){g.load("http://stockapp.finance.qq.com/pstock/view/pstkapi.php?appn="+o+"&action=show",function(){I(__.app.recentCode.loginInfo)})}}()),H.interval)}},s=function(K,G){if(z&&E){var H=document.documentElement.scrollWidth,J=document.documentElement.clientHeight,I=document.documentElement.scrollHeight;if(C.mask){z.style.height=(I>J?I:J)+"px";z.style.left=0+"px"}E.style.top=document.documentElement.scrollTop+(J-E.clientHeight)/2+"px";E.style.left=(H-E.clientWidth)/2+"px";if(K&&G){if(K<300){K=371;G=276}E.style.width=K+"px";E.style.height=G+"px";E.style.visibility="hidden";E.style.visibility="visible"}}if(!v){v=setInterval(s,50)}},q=function(G){if(G){B(G)}if(!E){E=m.addEl({tag:"div",css:"display:none;position:absolute;visibility:hidden;width:1px; height:1px;padding:0;margin:0px;z-index:1000;",align:"center"},f.body);D=m.addEl({tag:"iframe",frameBorder:"0",scrolling:"auto",width:"100%",height:"100%"},E);D.frameBorder=0;z=m.addEl({tag:"div",css:"position:absolute;width:100%;height:100%;background:#000;display:none;top:0px;left:0px;z-index:999;filter:alpha(opacity=30);-moz-opacity:0.3;opacity: 0.3;"},f.body)}try{D.src=t;z.style.display=C.mask?"block":"none";E.style.display="block";s()}catch(H){}},p=function(){if(E){E.style.display="none"}if(z){z.style.display="none"}if(v){clearTimeout(v);v=0}},A=function(){a.del("uin","/",".qq.com");a.del("skey","/",".qq.com");a.del("luin","/",".qq.com");a.del("lkey","/",".qq.com");try{if(typeof(__.app.recentCode.loginInfo)!="undefined"){__.app.recentCode.loginInfo={code:1,msg:"",data:{stock:"",nickname:""}}}}catch(G){}},C={mask:true,code:null,appn:null,active:1,login_appn:null,url:null,s_url:null,low_login_enable:2,low_login_hour:4320},F=true,B=function(G){k.objExtend(C,G);if(G.url){t=G.url}else{if(G.s_url){t=["http://ui.ptlogin2.qq.com/cgi-bin/login?qlogin_auto_login=1",C.low_login_enable>0?"&low_login=1":"","&appid=5000801&s_url=",encodeURIComponent(G.s_url),"&f_url=loginerroralert"].join("")}else{t=["http://ui.ptlogin2.qq.com/cgi-bin/login?qlogin_auto_login=1",C.low_login_enable>0?"&low_login=1":"","&qlogin_jumpname=pstk&qlogin_param=",encodeURIComponent(["appn=",C.login_appn||C.appn,"&check=2&parameter1=",C.code,"&parameter2=",C.active,"&action=show&",Math.random()].join("")),"&appid=5000801&s_url=",encodeURIComponent(["http://stockapp.finance.qq.com/pstock/view/pstk.php?appn=",C.login_appn||C.appn,"&check=2&parameter1=",C.code,"&parameter2=",C.active,"&action=show&",Math.random()].join("")),"&f_url=loginerroralert"].join("")}}o=G.appn};d.ptlogin2_onResize=function(H,G){s(H,G);if(F){F=false;try{var J=D.contentDocument||D.Document;if(C.low_login_enable==2){var K=J.getElementById("low_login_enable");if(K){K.checked=true}}if(C.low_login_enable&&C.low_login_hour){K=m.f('select[name="low_login_hour"]',J);if(K){K.value=C.low_login_hour}}}catch(I){}}};d.ptlogin2_onClose=function(){p()};return{open:q,init:B,close:p,check:u,logout:A}}())}());(function(){if(window.NEWSTOCKPROXY){return}var a={GP:"stk","GP-A":"stka","GP-B":"stkb",ZQ:"wrrts",KJ:"of","KJ-CX":"of","KJ-DQLC":"of","KJ-HB":"of",FJ:"cf","FJ-CX":"cf",QDII:"of","QDII-ETF":"etf","QDII-LOF":"lof","QDII-FOF":"of",LOF:"lof",ETF:"etf",QZ:"wrrts","QZ-NX":"cbbc",ZS:"idx"};var k={"101":"\u5206\u7ec4\u6570\u91cf\u8fbe\u5230\u4e0a\u9650","102":"\u975e\u6cd5\u7ec4id","103":"\u8be5\u5206\u7ec4\u5df2\u5b58\u5728","104":"\u5206\u7ec4\u540d\u975e\u6cd5","105":"\u5220\u9664\u6700\u540e\u4e00\u4e2a\u5206\u7ec4","106":"\u80a1\u7968\u4e0d\u5b58\u5728","107":"go\u65f6\u65b0\u65e7\u7ec4\u5217\u8868\u4e0d\u4e00\u81f4","0":"\u6b63\u786e","-1":"\u5176\u4ed6\u9519\u8bef"};var g=document.getElementsByTagName("head")[0];var C=0;var c=__&&(__.config&&__.config.ua&&__.config.ua.ie||__.ua&&__.ua.ie);function B(){return"NEWSTOCKPROXY"+(new Date().getTime())+C++}function u(F,H,I){var J;if(c){try{if(F=="iframe"){J=document.createElement('<iframe name="'+H.name+'"></iframe>')}else{if(F=="form"){J=document.createElement("<form></form>")}}}catch(K){}}J=J||document.createElement(F);for(var G in H){if(G=="style"){J.style.cssText=H[G]}else{if(G=="name"||G=="action"||G=="target"||G=="method"||G=="src"){J[G]=H[G]}else{J.setAttribute(G,H[G])}}}I&&I.appendChild(J);return J}function E(G,I){var F=B();window[F]=function(J){H.onload=H.onerror=H.onreadystatechange=null;g.removeChild(H);window[F]=null;I(J)};var H=u("script",{sync:true,src:G.replace("<%callback%>",F)});H.onload=H.onerror=H.onreadystatechange=function(){if(/loaded|complete|undefined/.test(H.readyState)){window[F]&&window[F]()}};g.appendChild(H)}function o(J,K){if(typeof J=="string"){J=[J]}var G=J.length;var H=[];var F=function(L,M){E(L,function(N){H[M]=N;G--;if(G===0){K.apply(this,H)}})};for(var I=0;I<G;I++){F(J[I],I)}}function z(H,L,M){var G=B();var F=document.body;var J=u("iframe",{name:"ifm"+G,id:"ifm"+G,style:"display:none"},F);var K=u("form",{action:H,target:"ifm"+G,method:"post","accept-charset":"utf-8",style:"display:none"},F);L._callback=G;for(var I in L){u("input",{type:"hidden",name:I,value:L[I]},K)}window[G]=function(N){F.removeChild(K);F.removeChild(J);window[G]=null;M(N)};__&&(__.config&&__.config.ua&&__.config.ua.ie||__.ua&&__.ua.ie)&&(document.chartset="utf-8");K.submit()}var m={};var l={};var A={};function D(F,G){o(["http://webstock.finance.qq.com/stockapp/zixuanguweb/stocklist?callback=<%callback%>&app=web&range=group&uin="+F,"http://ifzq.finance.qq.com/other/tips/hastips/query?uin="+F+"&_callback=<%callback%>"],function(I,H){m[F]=I&&I.data;A[F]={};var N=[];var M={};if(H&&H.data){for(var J=0;J<H.data.length;J++){M[H.data[J]]=1}}if(I.data&&I.data.grouplist){var L=I.data.grouplist.stocklist;for(var J=0;J<L.length;J++){var K=L[J].symbol.replace(/\.[^\.]+$/,"");N.push((A[F][K]=A[F][L[J].symbol]=[L[J].symbol,!L[J].numbers||L[J].numbers=="0"?L[J].cost:(L[J].cost/L[J].numbers),L[J].numbers||0,a[L[J].type],L[J].note,L[J].cost,M[L[J].symbol]||0]).join("~"))}}l[F]=M;G(window.stockInfo={code:I.code||H.code||0,msg:I.msg||H.code,data:{stock:N.join("|")}})})}function s(F){if(F.code!=0){var G=F.data;if(G&&G.record&&G.record[0]){for(var H in G.record[0]){H=G.record[0][H];return{code:H,msg:k[H]||"\u672a\u77e5\u9519\u8bef"}}}}return F}function q(F,H,I){var G=m[F];if(G==undefined){return D(F,function(){q(F,H,I)})}if(G&&G.grouplist){z("http://newstock.finance.qq.com/stockapp/Updstockweb/operseq?app=web&uin="+F,{seq:JSON.stringify([{grpid:G.grouplist.groupinfo.id,act:"sa",code:H,timestamp:+new Date()}])},function(K){var J=s(K);D(F,function(L){window.stockInfo.code=J.code;window.stockInfo.msg=J.msg;I(window.stockInfo)})})}else{I({code:-1,msg:"\u83b7\u53d6\u6570\u636e\u5931\u8d25",data:{stock:""}})}}function p(G,I,J){var H=m[G];if(H==undefined){return D(G,function(){p(G,I,J)})}var F=l[G];if(H&&F&&H.grouplist){z("http://newstock.finance.qq.com/stockapp/Updstockweb/operseq?app=web&uin="+G,{seq:JSON.stringify([{grpid:H.grouplist.groupinfo.id,act:"sd",code:I,timestamp:+new Date()}])},function(L){var K=s(L);if(K.code==0&&F[I]==1){o("http://ifzq.finance.qq.com/other/tips/modall/mod?_callback=<%callback%>&uin="+G+"&code="+I+"&high=0.00&low=0.00&updown=-1.00&type="+(I.substr(0,2)=="jj"?"&isfund=1&action=close":""),function(){D(G,function(){window.stockInfo.code=K.code;window.stockInfo.msg=K.msg;J(window.stockInfo)})})}else{D(G,function(){window.stockInfo.code=K.code;window.stockInfo.msg=K.msg;J(window.stockInfo)})}})}else{J({code:-1,msg:"\u83b7\u53d6\u6570\u636e\u5931\u8d25",data:{stock:""}})}}function b(G,H,M){var K=m[G];if(K==undefined){return D(G,function(){b(G,H,M)})}if(K&&K.grouplist){var F={};for(var J=0;J<H.length;J++){H[J]=H[J].split("~")[0];F[H[J]]=true}var L=[],I=0;for(var J=0;J<K.grouplist.stocklist.length;J++){var N=K.grouplist.stocklist[J].symbol;if(F[N]){L.push(H[I]);I++}else{L.push(N)}}z("http://newstock.finance.qq.com/stockapp/Updstockweb/operseq?app=web&uin="+G,{seq:JSON.stringify([{grpid:K.grouplist.groupinfo.id,act:"so",codelist:L.join("~"),timestamp:+new Date()}])},function(P){var O=s(P);D(G,function(){window.stockInfo.code=O.code;window.stockInfo.msg=O.msg;M(window.stockInfo)})})}else{M({code:-1,msg:"\u83b7\u53d6\u6570\u636e\u5931\u8d25",data:{stock:""}})}}function d(G,I,F,J){var H=m[G];if(H==undefined){return D(G,function(){d(G,I,F,J)})}if(A[G]&&A[G][I]&&H&&H.grouplist){z("http://newstock.finance.qq.com/stockapp/Updstockweb/operseq?app=web&uin="+G,{seq:JSON.stringify([{grpid:H.grouplist.groupinfo.id,act:"nu",code:I,notes:F,timestamp:+new Date()}])},function(L){var K=s(L);if(K.code==0){A[G][I][4]=F}J({code:K.code,msg:K.msg,data:{stock:A[G][I].join("~")}})})}else{J({code:-1,msg:"\u83b7\u53d6\u6570\u636e\u5931\u8d25",data:{stock:""}})}}function f(H,J,K){var I=m[H];if(I==undefined){return D(H,function(){f(H,J,K)})}if(A[H]&&A[H][J]&&I&&I.grouplist){if(J.substr(0,2)=="us"){J=A[H][J][0]}var F=J.substr(0,2);var G=["http://ifzq.finance.qq.com/other/tips/getall/query?_callback=<%callback%>&uin="+H+"&code="+J];o(G,function(P){if(!P){P={code:-1,msg:"\u53d1\u751f\u9519\u8bef"}}else{if(P.code==0){var O=F=="jj"?[0,0]:[0,0,0,0,0,0,0,0,0];var N=P.data;if(N.price&&N.price[0]&&N.price[0][0]){var M=N.price[0];if(M[3]>0){O[0]=1;O[1]=M[3]}if(M[1]>0){O[2]=1;O[3]=M[1]}if(M[2]>0){O[4]=1;O[5]=M[2]}}if(N.info&&N.info.length){for(var L=0;L<N.info.length;L++){var M=N.info[L];if(M[1]=="2010"||M[1]=="2020"||M[1]=="2030"||M[1]=="2040"){O[6]=1}else{if(M[1]=="2011"||M[1]=="2021"||M[1]=="2031"||M[1]=="2041"){O[7]=1}else{if(M[1]=="4010"){O[8]=1}}}}}if(N.fundjz&&N.fundjz[0]){if(N.fundjz[0][1]=="3030"){O[0]=1}}P.data={alert:O.join("~")}}}K(window.stockInfo=P)})}else{if(A[H]&&A[H][J]){K({code:-1,msg:"\u83b7\u53d6\u6570\u636e\u5931\u8d25",data:{stock:""}})}else{K({code:8,msg:"\u60a8\u672a\u5b9a\u5236\u8be5\u80a1\u7968\uff01",data:{stock:""}})}}}function t(G,H,K,N){if(m[G]==undefined){return D(G,function(){t(G,H,K,N)})}if(A[G]&&A[G][H]){if(H.substr(0,2)=="us"){H=A[G][H][0]}K=K.split("~");var J=H.substr(0,2);var F={sh:["2010","2011","4010"],sz:["2010","2011","4010"],hk:["2020","2021"],us:["2040","2041"],jj:[]};var L=[];for(var I=6;I<9;I++){K[I]=="1"&&F[J][I-6]&&L.push(F[J][I-6])}var M=J=="jj"&&K[0]=="0"||K[0]=="0"&&K[2]=="0"&&K[4]=="0"&&K[6]=="0"&&K[7]!="1"&&K[8]!="1";o("http://ifzq.finance.qq.com/other/tips/modall/mod?_callback=<%callback%>&uin="+G+"&code="+H+"&high="+(K[2]=="1"?K[3]:"0.00")+"&low="+(K[4]=="1"?K[5]||"0.00":"0.00")+"&updown="+(K[0]=="1"?K[1]||"-1.00":"-1.00")+"&type="+L.join(",")+(J=="jj"?("&isfund=1&action="+(K[0]==1?"open":"close")):""),function(O){O.data={alert:[H,0,0,"stk","",0,M?0:1].join("~")};N(window.stockInfo=O)})}else{N({code:8,msg:"\u60a8\u672a\u5b9a\u5236\u8be5\u80a1\u7968\uff01",data:{alert:""}})}}var v=window.NEWSTOCKPROXY={get:function(F,G){D(F,G)},add:function(F,G,H){q(F,G,H)},del:function(F,G,H){p(F,G,H)},ord:function(F,G,H){b(F,G,H)},nte:function(G,H,F,I){d(G,H,F,I)},alt:{load:function(F,G,H){f(F,G,H)},save:function(F,H,G,I){t(F,H,G,I)},api:function(G,F,H){if(F.type=="load"){this.load(G,F.code,H)}else{if(F.type=="save"){this.save(G,F.code,F.result.join("~"),H)}}}}}})();(function(){var b=__,a="1.0.1",c="stdTime";b.set("__.app."+c);b.app[c]=(function(){var s=b.config.win,B=b.Lang,g,o=0,v=0,t=0,A={},u=function(){},C=function(){},d=function(){if(s.v_stdunixtime&&s.v_stdunixtime!==null){t=1*s.v_stdunixtime;try{C(t,o)}catch(E){}s.v_stdunixtime=null}},k=function(){if(s.v_marketStat&&s.v_marketStat!==null){v+=1;B.e(s.v_marketStat.split("|"),function(F){F=F.split("_");if(F.length>2){if(!A[F[0]]||F[1]!=A[F[0]][0]||F[2]!=A[F[0]][1]){try{u(F,v)}catch(E){}}A[F[0]]=[F[1],F[2]]}});s.v_marketStat=null}},z=function(){return t},l={MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEK:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],TIMEZON:{}},q=function(G,F){var E;switch(F){case"d":E=G.getDate();return E<10?("0"+E):E;case"D":return l.WEEK[G.getDay()].substr(0,3);case"j":return G.getDate();case"l":return l.WEEK[G.getDay()];case"N":E=G.getDay();return E>0?E:7;case"S":E=G.getDate();if(E>20){E=E%10}if(E==1){return"st"}if(E==2){return"nd"}if(E==3){return"rd"}return"th";case"w":return G.getDay();case"z":E=new Date(G.getTime());E.setMonth(0,1);return((G.getTime()-E.getTime())/(1000*60*60*24)).toFixed(0);case"W":return"";case"F":return l.MONTH[G.getMonth()];case"m":E=G.getMonth()+1;return E<10?("0"+E):E;case"M":return l.MONTH[G.getMonth()].substr(0,3);case"n":return G.getMonth()+1;case"t":return"";case"L":return"";case"Y":return G.getFullYear();case"y":return(""+G.getFullYear()).substr(-2);case"a":return G.getHours()>12?"pm":"am";case"A":return G.getHours()>12?"PM":"AM";case"g":E=G.getHours();return E>12?E-12:E;case"h":E=G.getHours();if(E>12){E-=12}return E<10?("0"+E):E;case"G":return G.getHours();case"H":E=G.getHours();return E<10?("0"+E):E;case"i":E=G.getMinutes();return E<10?("0"+E):E;case"s":E=G.getSeconds();return E<10?("0"+E):E;default:return F}return""},m=function(F,E){E=E||t;if(E>0){F=typeof F=="undefined"?8:F;return new Date((E+(F-8)*3600)*1000)}else{return null}},D=function(){return A},f=false,p=function(E){if(f){return}f=true;g=E&&E.cron||new b.CronLoader();u=E&&E.onMktStatChange||u;C=E&&E.onStdTimeChange||C;g.subscribe({name:"stdTime",qtName:"stdunixtime,marketStat",interval:1,noWait:true,judge:function(G){var I=[],F=0;if(G%60===0){I.push("marketStat");F=3}if(G%600===0){I.push("stdunixtime");F=3}if(F==3){this.qtName=I.join(",")}if(t>0){o+=1;t+=1;try{C(t,o)}catch(H){}}return F},onOk:function(){d();k()}});if(!E||!E.cron){g.start()}};return{init:p,getDate:m,formatDate:function(I,H){if(typeof I=="string"&&typeof H=="undefined"){H=I;I=new Date(t*1000)}if(I&&H){var F=[],G,E=H.length;for(G=0;G<E;G++){F.push(q(I,H.charAt(G)))}return F.join("")}return""},getStdTime:z,getMktStat:D}}())}());(function(){var b=__,a="1.0.1",c="stockStat";b.set("__.app."+c);b.app[c]=(function(){var F=b.Dom,v=b.Table,q=b.config.win,C=b.Lang,f=function(M,I){if(M.length<=I){return M}var N=M,K=0,J,L;for(J=0;J<N.length;J++){L=N.charCodeAt(J);if(L>=913&&L<=65509){K+=1}else{K+=1/2}if(K>I){return N.substr(0,J)+".."}}return N},p,o,A,E,g,s,k,D=null,d=function(){},t=function(N){N=N||"\u505c\u724c";try{d(s,D,k)}catch(L){}var K=F.f,J=D?true:false,I=D&&D[4]?D[4]:"#";if(N=="\u9000\u5e02"||N=="\u672a\u4e0a\u5e02"){J=true;if(E=="HK"){I="http://stockhtm.finance.qq.com/hk/quotpage/q/"+g.substr(2)+".htm#notice"}else{if(E=="US"){I="javascript:void(0)"}else{I="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+g.substr(2)+".htm#notice"}}}if(J){if(K("spTP")){K("spTP").style.display="block";K("spFP").style.display="none";if(I){K("spTP").innerHTML='<a href="'+I+'" target="_self">'+N+"</a>"}}try{K("#fbar1 span").innerHTML=N}catch(L){}try{K("#fbar2 span").innerHTML=N}catch(L){}if(K("tfp1")){K("tfp1").className="clr pos_re"}if(K("tbar1")){K("tbar1").style.display="block"}if(K("fbar1")){K("fbar1").style.display="block"}if(K("rb3")){K("rb3").className="pos_re"}if(K("tbar2")){K("tbar2").style.display="block"}if(K("fbar2")){K("fbar2").style.display="block"}if(K("ssp3")){var M=K("ssp3");M.innerHTML=N;M.style.color="#f00"}if(K("sp3132")){K("sp3132").style.display="none"}}else{if(K("spTP")){K("spTP").style.display="none";K("spFP").style.display="block"}if(K("tfp1")){K("tfp1").className="clr"}if(K("tbar1")){K("tbar1").style.display="none"}if(K("fbar1")){K("fbar1").style.display="none"}if(K("rb3")){K("rb3").className=""}if(K("tbar2")){K("tbar2").style.display="none"}if(K("fbar2")){K("fbar2").style.display="none"}if(K("sp3132")){K("sp3132").style.display="block"}}},B=function(P){P=P||"\u505c\u724c";try{t(P)}catch(O){}try{if(D){var K=D[3]+D[2],J,I,Q="\u505c\u724c",N=F.f,L=9;if(K){if(K.substr(0,1)!="\u56e0"){K="\u56e0"+K}if(D[4]){J=function(R,M){return'<a target="_blank" href="'+D[4]+'" title="'+M+'">'+R+"</a>"};Q=J(f(K,L),K);I=function(U){var T=F.f(U),S,R,M;if(T){S=T.getElementsByTagName("span");for(R=0,M=S.length;R<M;R++){if(S[R].innerHTML=="\u505c\u724c"){S[R].innerHTML=J("\u505c\u724c",K);break}}}};I("fbar1");I("fbar2")}else{Q=f(K,L)}}p.innerHTML=Q;p.title=K;o.style.display="none";p.style.display="block"}else{o.style.display="block";p.style.display="none"}}catch(O){}},G=function(){if(z.indexOf("S")>=0){if(E=="HK"){D=[A,"","","","http://stockhtm.finance.qq.com/hk/quotpage/q/"+A+".htm#notice"];B();return}if(E=="US"){D=[A,"","","","javascript:void(0)"];B();return}b.load("http://stockjs.finance.qq.com/sstock/list/suspension/js/"+g+".js?"+Math.random(),function(){if(q["suspension_"+g]){var I=q["suspension_"+g];D=[A,I.ZQJC,I.PERIOD,I.REASON,"http://stockhtm.finance.qq.com/sstock/quotpage/q/"+A+".htm#notice"];B()}})}else{if(z.indexOf("D")>=0){B("\u9000\u5e02")}else{if(z.indexOf("U")>=0){B("\u672a\u4e0a\u5e02")}else{D=null;B()}}}},H=function(){return},u=function(J){if(J[0]==E){var I=__.Dom.f("stat-text");s=J[1];k=J[2];__.Dom.f("#stat-img img").src="http://mat1.gtimg.com/finance/stock_hq/hk_"+J[1]+".gif";I.style.display="none";I.innerHTML=J[2];I.style.display="";G()}},z="",l=function(I){if(z!=I[40]){z=I[40];G();H()}},m=function(I){p=I&&I.tfp||"tagTFP";p=F.f(p);o=I&&I.stat||"tagStat";o=F.f(o);A=I&&I.code;E=I&&I.type;g=I&&I.symbol;E=v.MAP_STOCKTYPE[E].toLocaleUpperCase();d=I&&I.onTFP||d;var K=__.Dom.f("stat-text"),J=__.Dom.f("stat-title");if(K&&J){__.onReady(function(){document.body.appendChild(J);J.style.position="absolute";J.style.top=(F.getPosition(K,"offsetTop")+K.clientHeight+5)+"px";J.style.left=F.getPosition(K,"offsetLeft")+"px";__.Event.on(K,"mouseover",function(){J.style.top=(F.getPosition(K,"offsetTop")+K.clientHeight+5)+"px";J.style.left=F.getPosition(K,"offsetLeft")+"px";J.style.display="block"});__.Event.on(K,"mouseout",function(){J.style.display="none"})})}};return{init:m,mktStatChange:u,priceChange:l}}())}());(function(){var c=__,d="__.app.tophot",b="1.1.0",a=(function(){var E=c.Dom,A=c.Lang,p=c.config.win,k=null,s=c.Table,B=[],f=0,F=function(G){if(f==G){return}f=G;if(f==1){q()}},q=function(G){if(__.lang.isFunction(G)){B.push(G)}if(f==1){__.each(B,function(H){H()})}},l={},z=function(G,H){G.childNodes[0].href=s._getUrlByType(H[0],0);G.childNodes[1].className=H[6]>0?"up":(H[6]<0?"down":"same")},C=function(G,H){G.childNodes[0].innerHTML=H[1];G.childNodes[0].href=s._getUrlByType(H[2],H[0]);G.childNodes[1].className=H[4]>0?"up":(H[4]<0?"down":"same")},v=function(G){A.e(G.split(","),function(H){if(p["v_"+H]&&l[H]){if(D=="jj"){z(l[H],p["v_"+H].split("~"))}else{C(l[H],p["v_"+H].split("~"))}}});F(1)},m=function(){var G=[];A.e(E.$(".top-hot .stock"),function(I){var H=I.getAttribute("q");if(H){G.push("s_"+H);l["s_"+H]=I}});return G},g=false,t,u=true,D,o=function(I,H,J){D=H;if(g){return}if(I){k=I}else{k=new c.CronLoader()}t=k.subscribe({qtName:m().join(","),interval:5,runOnce:H=="jj"?true:false,judge:5,onOk:function(){try{v(this.qtName)}catch(K){}}});u=J===false?false:true;var G=function(){var K=["http://stockhtm.finance.qq.com/",H=="hk"?"hk":(H=="jj"?"fund":"sstock"),"/quotpage/inc_hot/hot_all.js?",Math.random()].join("");c.load(K,function(){if(p.v_hot_all){var M=p.v_hot_all.split("|"),O,R,P=[],Q={0:"jj",1:"sh",51:"sz",100:"r_hk"};for(O=0;O<13&&O<M.length;O++){R=M[O].split("_");if(Q[R[1]]){P.push("s_"+Q[R[1]]+R[0])}}if(P.length>10){c.load("http://qt.gtimg.cn/q="+P.join(","),function(){var W=['<div class="title">\u5b9e\u65f6\u70ed\u70b9\uff1a</div>'];for(var U=0;U<P.length;U++){var V=P[U],Y=p["v_"+V]&&p["v_"+V].split("~");if(Y){W.push('<nobr><div class="stock" q="',V.substr(2),'"><a boss="6019" target="',u?"_self":"_blank",'" href="',s._getUrlByType(Y[2],Y[0]),'">',Y[1],'</a><span class="',Y[4]>0?"up":(Y[4]<0?"down":"same"),'"></span></div></nobr>')}}if(E.f(".top-hot-box")){E.f(".top-hot-box").innerHTML=W.join("")}else{if(E.f(".top-hot")){E.f(".top-hot").innerHTML=W.join("")}}var T=k.jobs[5];for(var S=0,X=T.length;S<X;S++){if(T[S].id==t){T[S].qtName=m().join(",");break}}})}var N=H=="hk"?"v_hot_HK":(H=="jj"?"v_hot_JJ":"v_hot_SS"),L=[];for(;O<M.length;O++){L.push(M[O])}p[N]=L.join("|");p.v_hot_all=null}})};if(H!="jj"){setInterval(function(){G()},10*60*1000);G()}if(!I){k.start()}g=true};return{init:o,onReady:q}}());c.set(d,a)}());(function(){var a=__,b="1.2.0";a.set("__.app.multiexchange");a.app.multiexchange=(function(){var C=a.Dom,B=a.Event,z=a.Lang,q=a.log,p=a.config.win,s=a.Table,o=s.processors,f,k,A,D={HKDHKD:1,HKDCNY:0.78,HKDUSD:0.13,USDUSD:1,USDCNY:6.8,USDHKD:7.8,CNYUSD:0.15,CNYCNY:1,CNYHKD:1.14},c=0.88,t,v,g={"1":"\u4e0a\u6d77","51":"\u6df1\u5733","100":"\u9999\u6e2f","200":"\u7ebd\u7ea6","350":"\u671f\u8d27"},m=function(F,E){if(E=="100"){return"HKD"}if(E=="200"){return"USD"}if(E=="51"&&F.substr(0,2)=="20"){return"HKD"}if(E=="1"&&F.substr(0,2)=="90"){return"USD"}return"CNY"},d=function(){z.e(C.$(".suspension",v),function(F){if(F.title){return}var E=F.getAttribute("symbol");if(E){if(p["suspension_"+E]){F.title=p["suspension_"+E]["REASON"]+" "+p["suspension_"+E]["PERIOD"];F.href="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+E.substr(2)+".htm#notice"}else{a.load("http://stockjs.finance.qq.com/sstock/list/suspension/js/"+E+".js?"+Math.random(),(function(){var H=F,G=E;return function(){if(p["suspension_"+G]){H.title=p["suspension_"+G]["REASON"]+" "+p["suspension_"+G]["PERIOD"];H.href="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+G.substr(2)+".htm#notice"}else{H.title="\u505c\u724c"}}}()))}}})},u=function(J){if(J[k]){var F=J[k].split("~"),I=F[3],H=F[0],E=-1,G=false;p["v_"+A]=J[A];s.fill(A,t,[function(L){if(L[0]=="350"){L[5]=parseFloat(L[5]).toFixed(2)}E+=1;if(L[0]=="1"||L[0]=="51"||L[0]=="100"){if(L[40].indexOf("S")>=0){G=true;return['<span class="fc1"><a boss="1006" href="',s._getUrlByType(L[2],L[0]),'">',g[L[0]],":",L[0]=="350"?L[1]:L[2],'</a></span> <a class="fc1 suspension" symbol="',s.MAP_STOCKTYPE[L[0]],L[2],'" style="font-weight:normal;padding-left:10px;">\u505c\u724c</a>'].join("")}}G=true;return['<span class="fc1"><a boss="1006" href="',s._getUrlByType(L[2],L[0]),'">',g[L[0]],":",L[0]=="350"?L[1]:L[2],"</a></span> ",L[0]=="350"?o.S_PRICE(L):o.L_PRICE(L)," ",L[0]=="350"?o.S_PERCENT(L):o.L_PERCENT(L)].join("")},function(M){if(M[0]=="350"){return"\u5747&nbsp;&nbsp;\u4ef7:"+M[18]}var L=m(M[2],M[0]),P=m(F[2],F[0]),O=D[L+P],Q="",N=(I*100/(M[3]*O)).toFixed(2);if(L=="HKD"&&P=="CNY"){O=D.HKDCNY;Q="\u6bd4\u4ef7=A\u80a1\u80a1\u4ef7/\uff08\u6c47\u7387*\u6e2f\u80a1\u80a1\u4ef7\uff09\uff0c\u6c47\u7387\u662f\uff1a1\u5143\u6e2f\u5e01\u5151\u6362"+O+"\u5143\u4eba\u6c11\u5e01";N=(I*100/(M[3]*O)).toFixed(2)}else{if(P=="HKD"&&L=="CNY"){O=D.HKDCNY;Q="\u6bd4\u4ef7=A\u80a1\u80a1\u4ef7/\uff08\u6c47\u7387*\u6e2f\u80a1\u80a1\u4ef7\uff09\uff0c\u6c47\u7387\u662f\uff1a1\u5143\u6e2f\u5e01\u5151\u6362"+O+"\u5143\u4eba\u6c11\u5e01";N=(M[3]*100/(I*O)).toFixed(2)}}if(Number(I)===0||Number(M[3])===0){return"\u6bd4&nbsp;&nbsp;\u4ef7:--"}else{return['<span title="',Q,'">\u6bd4&nbsp;&nbsp;\u4ef7:',N,"%<span>"].join("")}},function(L){if(L[0]=="350"){if(L[13]<10000){return"\u6301\u4ed3\u91cf:"+L[13]}else{return"\u6301\u4ed3\u91cf:"+(L[13]/10000).toFixed(2)+"\u4e07"}}return"\u6628&nbsp;&nbsp;\u6536:"+L[4]},function(L){if(L[0]=="350"){if(L[19]<10000){return"\u65e5\u589e\u4ed3:"+L[19]}else{return"\u65e5\u589e\u4ed3:"+(L[19]/10000).toFixed(2)+"\u4e07"}}return"\u4eca&nbsp;&nbsp;\u5f00:"+L[5]},function(L){if(L[0]=="350"){return"\u6700&nbsp;&nbsp;\u9ad8:"+L[10]}return"\u6700&nbsp;&nbsp;\u9ad8:"+L[33]},function(L){if(L[0]=="350"){return"\u6700&nbsp;&nbsp;\u4f4e:"+L[11]}return"\u6700&nbsp;&nbsp;\u4f4e:"+L[34]}]);if(G&&v.style.display!="block"){v.style.display="block";try{__.app.recentCode.setLimit(3+E,102+E*21)}catch(K){}}}},l=function(E){if("main" in E){k=E.main}if("other" in E){A=E.other}A=A.replace(/(^|,)us[^,]+($|,)/i,"");if("HKDCNY" in E){c=E.HKDCNY}if("div" in E){v=C.f(E.div)}else{v=C.f("div-multi-exchange")}if("tr" in E){t=C.f(E.tr)}else{if(v){t=C.f("tr",v)}}if(k&&A&&t){if("cron" in E){f=E.cron}else{f=new a.FnCronLoader()}try{f.addJob({type:2,interval:4,judge:2,noWait:true,keys:k+","+A,onData:function(G){u(G)}})}catch(F){}if(!"cron" in E){f.start()}}else{if(v){v.style.display="none"}}};return{init:l}}())}());(function(){var c=__,d="__.app.marquee",b="1.0.0",a=(function(){var k=c.Lang,f=c.Dom,p=c.Event,l=function(u,v){var q=parseInt(u._CFG.dom.scrollTop,10),s=parseInt(u._CFG.dom.scrollHeight,10)/2;if(v=="up"){q--}else{q++}if(q>=s){q=q>s?1:0}else{if(q<=0){q=q<0?s-1:s}}u._CFG.dom.scrollTop=q;if(q%u._CFG.lineHeight!==0){if(u._scroll_timer!==null){clearTimeout(u._scroll_timer)}u._scroll_timer=setTimeout(function(){l(u,v)},u._CFG.speed)}else{u._scroll_timer=null}},m=function(q,s){g(q);if(q._timer===null){q._timer=setInterval(function(){if(q._pause!==true){l(q,s)}},q._CFG.timeout)}q.scrolling=true},g=function(q){if(q._timer!==null){clearInterval(q._timer);q._timer=null}q.scrolling=false},o=function(s,q){k.objExtend(s._CFG,q);s._CFG.dom=f.f(s._CFG.dom);if(!s._CFG.dom){return}s._CFG.lineHeight=s._CFG.lineHeight||s._CFG.dom.style.lineHeight||s._CFG.dom.clientHeight;s._CFG.dom.innerHTML+=s._CFG.dom.innerHTML;p.on(s._CFG.dom,"mouseover",function(){s._pause=true});p.on(s._CFG.dom,"mouseout",function(){s._pause=false});if(s._CFG.autoStart!==false){m(s,s._CFG.autoStart)}};return __.Class.extend({_timer:null,_scroll_timer:null,_pause:false,scrolling:false,_CFG:{speed:10,timeout:2500,autoStart:"down",lineHeight:0,dom:null},init:function(q){o(this,q)},start:function(q){m(this,q||"down")},stop:function(){g(this)},scroll:function(q){l(this,q)}})}());c.set(d,a)}());if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(t,b,u,f,m,p,k,g,d,s,o){if(!document.createElement||!document.getElementById){return}this.DETECT_KEY=o?o:"detectflash";this.skipDetect=true;this.params=new Object();this.variables=new Object();this.attributes=new Array();if(t){this.setAttribute("swf",t)}if(b){this.setAttribute("id",b)}if(u){this.setAttribute("width",u)}if(f){this.setAttribute("height",f)}if(m){this.setAttribute("version",new deconcept.PlayerVersion(m.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion(this.getAttribute("version"),k);if(p){this.addParam("bgcolor",p)}else{this.addParam("wmode","transparent")}var a=g?g:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",k);this.setAttribute("doExpressInstall",false);var l=(d)?d:window.location;this.setAttribute("xiRedirectUrl",l);this.setAttribute("redirectUrl","");if(s){this.setAttribute("redirectUrl",s)}};deconcept.SWFObject.prototype={setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(b,a){this.params[b]=a},getParams:function(){return this.params},addVariable:function(b,a){this.variables[b]=a},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c.push(b+"="+a[b])}return c},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn")}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var g=this.getParams();for(var f in g){b+=[f]+'="'+g[f]+'" '}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"'}b+=' pluginspage="http://www.macromedia.com/go/getflashplayer"/>'}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX")}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var f in c){b+='<param name="'+f+'" value="'+c[f]+'" />'}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />'}b+="</object>"}return b},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(k,g){var d=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){d=new deconcept.PlayerVersion(a.description.replace(/([a-z]|[A-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");for(var b=15;b>6;b--){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);d=new deconcept.PlayerVersion([b,0,0]);break}catch(f){}}}catch(f){}if(k&&d.major>k.major){return d}if(!k||((k.minor!=0||k.rev!=0)&&d.major==k.major)||d.major!=6||g){try{d=new deconcept.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(","))}catch(f){}}}return d};deconcept.PlayerVersion=function(a){this.major=parseInt(a[0])!=null?parseInt(a[0]):0;this.minor=parseInt(a[1])||0;this.rev=parseInt(a[2])||0};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false}if(this.major>a.major){return true}if(this.minor<a.minor){return false}if(this.minor>a.minor){return true}if(this.rev<a.rev){return false}return true};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(d){var b=d.indexOf(c+"=");var a=(d.indexOf("&",b)>-1)?d.indexOf("&",b):d.length;if(d.length>1&&b>-1){return d.substring(d.indexOf("=",b)+1,a)}}return""}};if(Array.prototype.push==null){Array.prototype.push=function(a){this[this.length]=a;return this.length}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;JSON=new function(){this.decode=function(){var filter,result,self,tmp;if($$("toString")){switch(arguments.length){case 2:self=arguments[0];filter=arguments[1];break;case 1:if($[typeof arguments[0]](arguments[0])===Function){self=this;filter=arguments[0]}else{self=arguments[0]}break;default:self=this;break}if(rc.test(self)){try{result=e("(".concat(self,")"));if(filter&&result!==null&&(tmp=$[typeof result](result))&&(tmp===Array||tmp===Object)){for(self in result){result[self]=v(self,result)?filter(self,result[self]):result[self]}}}catch(z){}}else{throw new JSONError("bad data")}}return result};this.parse=this.decode;this.encode=function(){var self=arguments.length?arguments[0]:this,result,tmp;if(self===null){result="null"}else{if(self!==undefined&&(tmp=$[typeof self](self))){switch(tmp){case Array:result=[];for(var i=0,j=0,k=self.length;j<k;j++){if(self[j]!==undefined&&(tmp=JSON.encode(self[j]))){result[i++]=tmp}}result="[".concat(result.join(","),"]");break;case Boolean:result=String(self);break;case Date:result='"'.concat(self.getFullYear(),"-",d(self.getMonth()+1),"-",d(self.getDate()),"T",d(self.getHours()),":",d(self.getMinutes()),":",d(self.getSeconds()),'"');break;case Function:break;case Number:result=isFinite(self)?String(self):"null";break;case String:result='"'.concat(self.replace(rs,s).replace(ru,u),'"');break;default:var i=0,key;result=[];for(key in self){if(self[key]!==undefined&&(tmp=JSON.encode(self[key]))){result[i++]='"'.concat(key.replace(rs,s).replace(ru,u),'":',tmp)}}result="{".concat(result.join(","),"}");break}}}return result};this.stringify=this.encode;this.toDate=function(){var self=arguments.length?arguments[0]:this,result;if(rd.test(self)){result=new Date;result.setHours(i(self,11,2));result.setMinutes(i(self,14,2));result.setSeconds(i(self,17,2));result.setMonth(i(self,5,2)-1);result.setDate(i(self,8,2));result.setFullYear(i(self,0,4))}else{if(rt.test(self)){result=new Date(self*1000)}}return result};var c={"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d=function(n){return n<10?"0".concat(n):n},e=function(c,f,e){e=eval;delete eval;if(typeof eval==="undefined"){eval=e}f=eval(""+c);eval=e;return f},i=function(e,p,l){return 1*e.substr(p,l)},p=["","000","00","0",""],rc=null,rd=/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs=/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt=/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru=/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s=function(i,d){return"\\".concat(c[d])},u=function(i,d){var n=d.charCodeAt(0).toString(16);return"\\u".concat(p[n.length],n)},v=function(k,v){return $[typeof result](result)!==Function&&(v.hasOwnProperty?v.hasOwnProperty(k):v.constructor.prototype[k]!==v[k])},$={"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(o){return o instanceof o.constructor?o.constructor:null},string:function(){return String},"undefined":function(){return null}},$$=function(m){function $(c,t){t=c[m];delete c[m];try{e(c)}catch(z){c[m]=t;return 1}}return $(Array)&&$(Object)};try{rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}};if(__===undefined){__={}}if(__.app===undefined){__.app={}}__.app.FlashProxy=(function(){var a=null,b=function(){var f=false,g=null;if(navigator.plugins&&navigator.mimeTypes.length){var c=navigator.plugins["Shockwave Flash"];if(c&&c.description){f=c.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")[0]}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){g=1;var d=3;while(g){try{d++;g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d);f=d}catch(o){g=null}}}else{try{g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(m){try{g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=6;g.AllowScriptAccess="always"}catch(l){if(f==6){return f}}try{g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(k){}}if(g!==null&&g!==undefined){f=g.GetVariable("$version").split(" ")[1].split(",")[0]}}}return f};window.FlashLog=function(c){};return{getFlashVersion:function(){if(a===null){a=b()}return a},addAction:function(d,c){this._actionMap=this._actionMap||{};if(d in this._actionMap){this._actionMap[d].push(c)}else{this._actionMap[d]=[c]}},delAction:function(g,f){var d=this._actionMap&&this._actionMap[g],c;for(c=0;c<d.length;c++){if(f==d[c]){d.splice(c,1)}}},doAction:function(){var d=arguments,g=d.length,f,k,c=[];if(g>0){k=d[0];for(f=1;f<g;f++){c.push(d[f])}if(this._actionMap){k=this._actionMap[d[0]];for(f=0;f<k.length;f++){if(typeof k[f]=="function"){k[f].apply(this,c)}}}}},init:function(l){l=l||{width:"505",height:"330",swfId:"swfId",ctnId:"ctnId",swfUrl:"swfUrl"};var c=l.width||"505",f=l.height||"330",d=l.swfId||"swfId",g=l.ctnId||"ctnId",k=l.swfUrl||"swfUrl";var m=new SWFObject(k,d,c,f,"10.0.1","#fcfcfc");m.addParam("allowNetworking","all");m.addParam("allowScriptAccess","always");m.addParam("allowFullScreen","true");m.addParam("wmode",l.wmode||"transparent");return new __.app.FlashBridge(d,g,m)}}}());__.app.FlashBridge=function(b,c,a){this.swfId=b;this.isJsReady=true;this.isFlashReady=false;this.swfObj=a;this.ctnId=c};__.app.FlashBridge.prototype={getSwfObj:function(){return this.swfObj},_addError:function(a){this._error=this._error||{};if(a in this._error){this._error[a]+=1}else{this._error[a]=1}return this._error[a]},_clearError:function(a){this._error=this._error||{};this._error[a]=0},doAction:function(d,b){var s=this,k=[],f,m=document.getElementById(this.swfId),o=[];for(f=0;f<arguments.length;f++){o.push(arguments[f])}if(m){if(typeof d==="string"){d=[d]}if(arguments.length>=2){for(f=1;f<arguments.length;f++){k.push(arguments[f])}b=[k]}for(f=0;f<d.length;f++){var l=d[f];var a=b[f];a=(a==undefined||!__.Lang.isArray(a))?[a]:a;try{m[l].apply(m,a);s._clearError(d);return}catch(g){}}}var q=s._addError(d);if(q<10){window.setTimeout(function(){s.doAction.apply(s,o)},300*q)}else{s._clearError(d)}},render:function(){if(this.swfObj){this.swfObj.write(this.ctnId)}}};(function(a){var c="fnTitle",b=__;if(a[c]){return}(function(){a[c]=function(f,d){this._obj=b.Dom.f(f);this._div=b.Dom.addEl({tag:"div",css:"position:absolute;border:1px solid #000;background-color:#ffffe1;display:none;visibility:hidden;"},document.body);if(typeof d=="string"){this._div.innerHTML=d}else{if(typeof d=="object"){b.Dom.addEl(d,this._div)}}};a[c].prototype={show:function(f,m){if(f){this._div.style.display="block";var d=b.Dom.getPosition(this._obj,"offsetLeft"),s=b.Dom.getPosition(this._obj,"offsetTop"),g=this._obj.clientHeight||this._obj.offsetHeight,p=this._obj.clientWidth||this._obj.offsetWidth,q=this._div.clientWidth||this._div.offsetWidth,k=this._div.clientHeight||this._div.offsetHeight,o,l;m=m||{};if(m.x=="left"){o=d}else{if(m.x=="right"){o=d+p}else{if(m.x=="center"){o=(d+(p-q)/2).toFixed(0)}else{if(isNaN(m.x)){o=d}else{o=parseInt(m.x)}}}}if(m.y=="top"){l=s-k-3}else{if(m.y=="bottom"){l=s+g+3}else{if(m.y=="center"){l=(s+(g-k)/2).toFixed(0)}else{if(isNaN(m.y)){l=s+g+3}else{l=parseInt(m.y)}}}}this._div.style.left=o+"px";this._div.style.top=l+"px";this._div.style.visibility="visible"}else{this._div.style.visibility="hidden";this._div.style.display="none"}},set:function(d){if(typeof d=="string"){this._div.innerHTML=d}else{if(typeof d=="object"){this._div.innerHTML="";b.Dom.addEl(d,this._div)}}},f:function(d){this.set(d);this.show(true)},h:function(){this.show(false)}}})()})(window);(function(){var _SELF=__,$=_SELF.Dom.f;String.prototype.trim=function(){return this.replace(/^\s*|\s*$/ig,"")};function getstockvalue(_obj,obj){if(obj.id==""||obj.id.indexOf("_")==-1){var L=_obj._suggest.getElementsByTagName("tr");obj=L[1]}var strsid=obj.id.split("_");var V=strsid[0];if(obj.cells.length==3){if(obj.cells[2].innerHTML=="\u4e0a\u6d77"){V="SH"+V}else{if(obj.cells[2].innerHTML=="\u6df1\u5733"){V="SZ"+V}else{if(obj.cells[2].innerHTML=="\u9999\u6e2f"){V="HK"+V}else{return}}}}if(_obj._sugObj.value.indexOf(",")<0){_obj._sugObj.value=V+","}else{_obj._sugObj.value=_obj._sugObj.value.replace(/[^,]+$/g,"")+V+","}Suggest.controldiv(_obj,0);__.app.mcmp.bCompare=false}var JsLoader={load:function(id,url,f){__.load(url,f)}};function ObjSuggest(objIn,objSel,func){this._sugObj=objIn;this._selObj=objSel;this._isIE=!!document.all;this._suggest=null;this._keydown=0;this._sugFuc=(typeof func=="function")?func:Suggest.getstockvalue;if($("stocksuggest")){this._suggest=$("stocksuggest")}else{var _el=document.createElement("div");_el.setAttribute("id","stocksuggest");_el.setAttribute("style","display:none");document.body.appendChild(_el);this._suggest=_el;_el=null}var _o=this;this._sugObj.onkeydown=function(event){Suggest.co(_o,event)};if(this._isIE){this._sugObj.attachEvent("onpropertychange",function(){Suggest.load(_o)})}else{this._sugObj.addEventListener("input",function(){Suggest.load(_o)},false)}}ObjSuggest.prototype={};var Suggest={co:function(obj,evt){if(!obj._suggest){return}var _sel=obj._suggest.getElementsByTagName("tr");var lenx=_sel.length;evt=window.event||evt;if(_sel&&obj._suggest.style.display!="none"&&obj._suggest.style.display!=""){if(evt.keyCode==40){if(obj._keydown==lenx-1){return}obj._keydown++;Suggest.setClass(obj)}if(evt.keyCode==38){if(this._keydown==1){return}obj._keydown--;Suggest.setClass(obj)}if(evt.keyCode==13){obj._sugFuc(obj,_sel[obj._keydown]);Suggest.controldiv(obj,0)}}},setClass:function(obj){if(!obj._suggest){return}var _sel=obj._suggest.getElementsByTagName("tr");var num=_sel.length;for(var j=1;j<num;j++){if(j!=obj._keydown){_sel[j].className="onout"}else{_sel[j].className="onover"}}},setClass2:function(){if(!this._suggest){return}var selectedtr=this._suggest.getElementsByTagName("tr");var lenx=selectedtr.length;if(this._keydown>=1&&this._keydown<lenx){selectedtr[this._keydown].className="onout"}},controldiv:function(obj,type){if(!obj._suggest){return}var _obj=obj._suggest;if(type==0){_obj.style.display="none"}else{_obj.style.left=Suggest.getPostion(obj._sugObj,"offsetLeft")+"px";_obj.style.top=(Suggest.getPostion(obj._sugObj,"offsetTop")+obj._sugObj.offsetHeight+1)+"px";_obj.style.display="block"}},getPostion:function(obj,type){var distance=0;while(obj.offsetParent!=null){distance+=obj[type];obj=obj.offsetParent}return distance},out:function(obj,evt){var e=((evt)?(evt):(window.event));if(!obj){return}if(document.all){if(e.srcElement.id!="stocksuggest"){Suggest.controldiv(obj,0);obj._keydown=0}}else{if(e.target.id!="stocksuggest"){Suggest.controldiv(obj,0);obj._keydown=0}}},load:function(obj){var typeid=obj._sugObj.value.trim().toLowerCase();if(typeid.lastIndexOf(",")){typeid=typeid.substr(typeid.lastIndexOf(",")+1)}if(typeid!=""&&typeid!="\u4ee3\u7801/\u540d\u79f0/\u62fc\u97f3"){obj._keydown=0;var scriptid;var values=obj._selObj.value.trim();switch(values){case"1":values="GP";break;case"2":values="ZS";break;case"3":values="JJ";break;case"4":values="HK";break;case"5":values="JJ";break;case"6":values="AS";break;default:break}if(/^[\u0391-\uFFE5]+$/.test(typeid)){var str="";str=values;if(values=="AS"){str="AK"}else{if(values=="GP"){str="SS"}else{if(values=="ALL"){str="GP"}}}scriptid="http://stock.finance.qq.com/cgi-bin/sstock/code_q?q="+typeid+"&t="+str}else{if(values=="HK"){scriptid="http://img.finance.qq.com/hk/cq_hint/"+typeid+".js"}else{if(values=="GP"){scriptid="http://img.finance.qq.com/sstock/cq_hint/"+typeid+".js"}else{if(values=="JJ"){scriptid="http://img.finance.qq.com/fund/cq_hint/"+typeid+".js"}else{if(values=="AS"){scriptid="http://img.finance.qq.com/astock/cq_hint/"+typeid+".js"}else{if(values=="ZS"){scriptid="http://img.finance.qq.com/sstock/cq_hint/zs/"+typeid+".js"}else{scriptid="http://img.finance.qq.com/sstock/cq_hint_a/"+typeid+".js"}}}}}}JsLoader.load("stock"+typeid,scriptid+"?r="+Math.random(),function(){if(typeof(v_hint)!="undefined"){if(v_hint!=""&&v_hint!="N"){var data=v_hint;Suggest.startsuggest(obj,data);v_hint=""}else{Suggest.controldiv(obj,0)}}})}else{this.controldiv(obj,0)}},startsuggest:function(obj,s){if(!obj._suggest){return}Suggest.controldiv(obj,1);var mydata=s.split("|");var len=mydata.length;var datalist;var html='<table width="100%" border="0" cellpadding="0" cellspacing="0" ><tr bgcolor="#ebf2fb"><td>\u5339\u914d\u9879</td><td align="center">\u80a1\u7968\u7b80\u79f0</td><td align="center" >\u5e02\u573a</td></tr>';for(var i=0;i<len;i++){datalist=mydata[i].split("_");html+="<tr id='"+datalist[1]+"_"+datalist[4]+"_"+datalist[3]+"'><td>"+Suggest.setKeyColor(obj,datalist[0])+"</td>";html+="<td>"+datalist[2]+"</td>";html+="<td>"+datalist[5]+"</td></tr>"}html+="</table>";obj._suggest.innerHTML=html;obj._suggest.style.width=obj._suggest.childNodes[0].clientWidth+"px";var _sel=obj._suggest.getElementsByTagName("tr");for(var i=1;i<_sel.length;i++){_sel[i].onclick=function(){obj._sugFuc(obj,this)};_sel[i].onmouseover=function(){Suggest.changemyclassName(this,obj,"onover","onout")}}},setKeyColor:function(obj,str){var key=obj._sugObj.value.trim().split(".")[0].toLowerCase();if(key.lastIndexOf(",")){key=key.substr(key.lastIndexOf(",")+1)}var reg=new RegExp(key);var mystr=str.replace(reg,"<span style='color:#FF0000;'>"+key+"</span>");return mystr},changemyclassName:function(obj,_obj,css1,css2){var objp=obj.parentNode;var objs=objp.childNodes;for(var i=1;i<objs.length;i++){objs[i].className=css2;if(objs[i]==obj){_obj._keydown=i+1;objs[i].className=css1}}},getstockvalue:function(_obj,obj){if(obj.id.indexOf("_")==-1){return}var strsid=obj.id.split("_");Suggest.controldiv(_obj,0);var myURL="";if(strsid[1]=="HK"||strsid[2]=="HK"){myURL="http://stockhtm.finance.qq.com/hk/ggcx/"+strsid[0]+".htm"}else{if(strsid[1]=="JJ"||strsid[2]=="JJ"){myURL="http://stock.finance.qq.com/fund/djj_jjcx/"+strsid[0]+".htm"}else{if(strsid[1]=="AS"||strsid[2]=="AS"){myURL="http://stockhtm.finance.qq.com/astock/ggcx/"+strsid[0].toUpperCase()+".htm"}else{if(strsid[2]!="ZS"){myURL="http://stockhtm.finance.qq.com/sstock/ggcx/"+strsid[0]+".shtml"}else{myURL="http://stockhtm.finance.qq.com/hqing/zhishu/"+strsid[0]+".htm"}}}}window.open(myURL,"_blank")}};_SELF.set("__.app.mcmp");_SELF.app.mcmp=(function(){var _E=_SELF.Event,_L=_SELF.Lang,_D=_SELF.Dom,_W=_SELF.config.win;var _isHK=false;return{input:null,button:null,chkbox:null,defvalue:"\u4ee3\u7801/\u540d\u79f0/\u62fc\u97f3",alert:function(text){with(__.app.mcmp){if(title2==null){title2=new fnTitle(input,"\u8bf7\u8f93\u5165\u4ee3\u7801\u6216\u5728\u63d0\u793a\u4e2d\u9009\u62e9\uff0c\u5982\u6bd4\u8f83\u4e0a\u8bc1\u6307\u6570\u3001\u6df1\u53d1A\uff0c\u683c\u5f0f\u4e3a\uff1aSH000001,SZ000001")}if(title2_timer){clearTimeout(title2_timer)}title2.show(true,{x:"center",y:"top"});title2_timer=setTimeout((function(){return function(){title2_timer=null;title2.show(false)}}()),15000)}},timer_reset:null,compare:function(){with(__.app.mcmp){var s=[(_W.g_Type==1?"SH":_W.g_Type==100?"HK":"SZ")+_W.g_Code].concat(input.value.replace(/\s/ig,"").split(",")),a=[],err=false;_L.e(chkbox,function(o){if(o.checked){a.push(o.value.toUpperCase())}});_L.e(s,function(o){if(/((SH)|(SZ))[0-9]{6}/i.test(o)){if(a.join("_").indexOf(o.toUpperCase())==-1){a.push(o.toUpperCase())}}else{if(/IF[0-9]{4}/i.test(o)){if(a.join("_").indexOf(o.toUpperCase())==-1){a.push(o.toUpperCase())}}else{if(/(hk[0-9]{5})|(hkHSI)|(hkHSCEI)|(hkHSCCI)/i.test(o)){if(a.join("_").indexOf(o.toUpperCase())==-1){a.push(o.toUpperCase())}}else{if(o!=defvalue&&o!=""){err=true}}}}});input.value=defvalue;if(err||a.length<2){alert(!_isHK?"\u8bf7\u8f93\u5165\u4ee3\u7801\u6216\u5728\u63d0\u793a\u4e2d\u9009\u62e9\uff0c\u5982\u6bd4\u8f83\u4e0a\u8bc1\u6307\u6570\u3001\u6df1\u53d1A\uff0c\u683c\u5f0f\u4e3a\uff1aSH000001,SZ000001":"\u8bf7\u8f93\u5165\u4ee3\u7801\u6216\u5728\u63d0\u793a\u4e2d\u9009\u62e9\uff0c\u5982\u5bf9\u6bd4\u957f\u6c5f\u5b9e\u4e1a\uff0c\u6b63\u786e\u683c\u5f0f\u4e3a\uff1aHK00001")}if(a.length>1){__.app.stock.quotpage.quotimg.load("http://stock.finance.qq.com/cgi-bin/hqing_img/get_muti_hq_part?code="+a.join("_"),"\u80a1\u7968\u5bf9\u6bd4(\u70b9\u51fb\u6062\u590d\u5206\u65f6\u56fe)",function(){__.app.stock.quotpage.quotimg.change(104)});if(_isHK){if(timer_reset){clearTimeout(timer_reset)}timer_reset=setTimeout((function(){return function(){__.app.stock.quotpage.quotimg.change(104)}}()),60*1000);loadRTHqData()}_L.e(chkbox,function(o){o.checked=false})}}},sug:null,title1:null,title2:null,title2_timer:null,bCompare:false,init:function(i,b,sel,isHK){with(__.app.mcmp){_isHK=isHK===null?false:isHK;input=_D.f(i);button=_D.f(b);chkbox=_D.$(".mcmp-chk-box");_L.e(_D.$(".mcmp-chk-title"),function(o,i){if(chkbox[i].value.indexOf(_W.g_Symbol)!=-1){chkbox[i].style.display="none";o.style.display="none"}_E.on(o,"click",(function(){return function(){chkbox[i].checked=!chkbox[i].checked}}()))});input.value=defvalue;_E.on(input,"focus",(function(){return function(){if(input.value==defvalue){input.value=""}}}()));_E.on(input,"blur",(function(){return function(){if(input.value.replace(/\s/ig,"")==""){input.value=defvalue}}}()));_E.on(button,"click",(function(){return function(){compare()}}()));sug=new ObjSuggest(input,_D.f(sel),getstockvalue);document.onclick=function(evt){evt=evt||window.event;Suggest.out(sug,evt)};title1=new fnTitle(input,"\u6700\u591a\u53ef\u540c\u65f6\u5bf9\u6bd45\u652f\u80a1\u7968");_E.on(input,"focus",(function(){return function(){title1.show(true,{x:"left",y:"bottom"});if(title2){title2.show(false)}}}()));_E.on(input,"keyup",(function(){return function(evt){evt=window.event||evt;if(/^\s*$/ig.test(input.value)){title1.show(true,{x:"left",y:"bottom"})}else{title1.show(false)}if(evt.keyCode==13&&sug._suggest.style.display=="none"){if(bCompare){compare();button.focus()}bCompare=true}}}()));_E.on(input,"blur",(function(){return function(){title1.show(false)}}()))}}}}())}());(function(){var c=__,b="1.6.0";var a=(function(){return true})();c.set("__.app.news");c.app.news=(function(){var B=c.Dom,o=c.Table,C=c.config.win,s=c.Lang,Y=c.log,am=[],ag=null,X=function(au){if(ag){ag=ag.replace(au+",","");if(ag===""){G()}}},G=function(au){if(__.lang.isFunction(au)){am.push(au)}if(ag===""){__.each(am,function(av){av()})}},E=function(ax){ax=String(ax);var av,au=0,aw;for(av=0;av<ax.length;av++){aw=ax.charCodeAt(av);if(aw>=913&&aw<=65509){au+=2}else{au+=1}}return au},D=function(ay,au){ay=String(ay);if(ay.length<=au){return ay}var az=ay,aw=0,av,ax;for(av=0;av<az.length;av++){ax=az.charCodeAt(av);if(ax>=913&&ax<=65509){aw+=1}else{aw+=1/2}if(aw>au){return az.substr(0,av)+".."}}return az},ac=function(au,aD){var av=au.length,ay=aD.length;if(ay===0){return av}if(av===0){return ay}var aG=[],aA,az;for(aA=0;aA<=av;aA++){aG[aA]=[aA]}for(aA=0;aA<=ay;aA++){aG[0][aA]=[aA]}for(aA=1;aA<=av;aA++){var aB=au.charAt(aA-1);for(az=1;az<=ay;az++){var aE=aD.charAt(az-1);var ax=aB==aE?0:1;var aF=aG[aA-1][az]+1;var aw=aG[aA][az-1]+1;var aC=aG[aA-1][az-1]+ax;aG[aA][az]=Math.min(aF,Math.min(aw,aC))}}return aG[av][ay]},aa=0.3,J=function(ax,av){var aw=ac(ax,av),au=Math.min(ax.length,av.length);if(au===0){return false}if(aw/au<aa){Y(ax,av,aw/au,aa);return true}},at,m,S,K,W=false,ar="http://news.gtimg.cn/notice.php?name=finance_notice&n=10&",g=false,u=function(aA){var aw=aA.match(s.getReg(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})$/)),az=c.app.stdTime.getStdTime();if(aw&&aw.length==7&&az>0){var av=new Date(aw[1],aw[2]-1,aw[3],aw[4],aw[5],aw[6],0),ay=((az-av.getTime()/1000)/60).toFixed(0);if(ay<=0){if(g){var au=new Date(av.getTime()),aB=new Date(az*1000);au.setHours(0,0,0,0);aB.setHours(0,0,0,0);var ax=Math.floor((au.getTime()-aB.getTime())/(1000*60*60*24));if(ax==1){return"\u660e\u5929"}else{if(ax==2){return"\u540e\u5929"}else{if(ax>2){return ax+"\u5929\u540e"}}}}return"1\u5206\u949f\u524d"}if(ay<60){return ay+"\u5206\u949f\u524d"}ay=(ay/60).toFixed(0);if(ay<24){return ay+"\u5c0f\u65f6\u524d"}ay=(ay/24).toFixed(0);if(ay<31){return ay+"\u5929\u524d"}return aA.substr(2,8)}else{if(aw&&aw.length==7){return aw.slice(1,4).join("-")}}return aA.substr(2,8)},ab=5*60*1000,O=8,al,l,N={status:-1,wrnt_news:{cnt:-1,data:[],cnt72:-1,cnt7d:-1},news:{cnt:-1,data:[],cnt72:-1,cnt7d:-1},soso:{cnt:-1,data:[],cnt72:-1,cnt7d:-1},body:{cnt:-1,data:[],cnt72:-1,cnt7d:-1},clean:[]},A={notice:{cnt:-1,data:[],cnt72:-1,cnt7d:-1},wrnt_notice:{cnt:-1,data:[],cnt72:-1,cnt7d:-1},clean:[]},H=function(au){var az=C[M[au].name],aw=[],aD=false,aA,ax;if(az){if(au=="soso"){for(aA=0;aA<az.length;aA++){aD=false;for(ax=0;ax<N.news.data.length;ax++){if(J(N.news.data[ax][2],az[aA][1])){aD=true;break}}if(!aD){aw.push(az[aA])}}az=aw.slice(0,3)}else{if(au=="body"){for(aA=0;aA<az.length;aA++){aD=false;try{az[aA][3]=decodeURIComponent(az[aA][3]).replace(/\+/g," ").replace(/\\"/g,'"');az[aA][4]=decodeURIComponent(az[aA][4]).replace(/\+/g," ").replace(/\\"/g,'"')}catch(aC){aD=true}for(ax=0;ax<N.soso.data.length;ax++){if(J(N.soso.data[ax][1],az[aA][3])){aD=true;break}}if(!aD){aw.push(az[aA])}}az=aw}}var av=ak(az);var aB=ap(az,av);var ay=aj(az,aB);N[au]={cnt:av,cnt72:aB,cnt7d:ay,data:az};if(au=="wrnt_news"&&M.news){C[M.news.name]=N.news.data;H("news")}else{if(au=="news"&&M.soso){C[M.soso.name]=N.soso.data;H("soso")}else{if(au=="soso"&&M.body){C[M.body.name]=N.body.data;for(aA=0;aA<C[M.body.name].length;aA++){C[M.body.name][aA][3]=encodeURIComponent(C[M.body.name][aA][3]);C[M.body.name][aA][4]=encodeURIComponent(C[M.body.name][aA][4])}H("body")}}}}N.status=M[au].status},d=function(aw){var az=C[R[aw].name],ay=[],au=false,ax,av;if(az){A[aw]={cnt:az.length,cnt72:az.length,data:az};if(aw=="wrnt_notice"){C[R.notice.name]=A.notice.data;d("notice")}}A.status=R[aw].status},ak=function(az){var ay=c.app.stdTime.getStdTime();var ax=-1,av,au,aw;if(ay>0){for(ax=0;ax<az.length;ax++){av=az[ax][0].match(s.getReg(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})$/));if(av&&av.length==7&&ay>0){au=new Date(av[1],av[2]-1,av[3],av[4],av[5],av[6],0);aw=((ay-au.getTime()/1000)/3600).toFixed(0);if(aw>=24){break}}}}return ax},ap=function(aA,aw){var az=c.app.stdTime.getStdTime();var ay=aw,av,au,ax;if(az>0){if(ay<0){ay=0}for(;ay<aA.length;ay++){av=aA[ay][0].match(s.getReg(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})$/));if(av&&av.length==7&&az>0){au=new Date(av[1],av[2]-1,av[3],av[4],av[5],av[6],0);ax=((az-au.getTime()/1000)/3600).toFixed(0);if(ax>=72){break}}}}return ay},aj=function(aA,aw){var az=c.app.stdTime.getStdTime();var ay=aw,av,au,ax;if(az>0){if(ay<0){ay=0}for(;ay<aA.length;ay++){av=aA[ay][0].match(s.getReg(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})$/));if(av&&av.length==7&&az>0){au=new Date(av[1],av[2]-1,av[3],av[4],av[5],av[6],0);ax=(((az-au.getTime()/1000)/3600)/24).toFixed(0);if(ax>=7){break}}}}return ay},p=function(){if(N.wrnt_news.cnt<0){N.wrnt_news.cnt=ak(N.wrnt_news.data)}if(N.news.cnt<0){N.news.cnt=ak(N.news.data)}if(N.soso.cnt<0){N.soso.cnt=ak(N.soso.data)}if(N.body.cnt<0){N.body.cnt=ak(N.body.data)}var aH=O;var aG=0;var aw=0;var aD=Math.min(aH,Math.max(N.news.cnt,0));N.clean=N.news.data.slice(0,aD);aH-=aD;aG+=aD;if(aH>0){if(N.status===3){q("news",aH)}if(N.status===0){q("soso",aH)}var aB=Math.min(aH,Math.max(N.soso.cnt,0));aH-=aB;if(aH>0){if(N.status==1){q("body",aH)}var aF=Math.min(aH,Math.max(N.body.cnt,0));aH-=aF;if(aH>0){if(N.wrnt_news.cnt72<0){N.wrnt_news.cnt72=ap(N.wrnt_news.data,N.wrnt_news.cnt)}if(N.news.cnt72<0){N.news.cnt72=ap(N.news.data,N.news.cnt)}if(N.soso.cnt72<0){N.soso.cnt72=ap(N.soso.data,N.soso.cnt)}if(N.body.cnt72<0){N.body.cnt72=ap(N.body.data,N.body.cnt)}var aC=Math.min(aH,N.wrnt_news.cnt72-N.wrnt_news.cnt);N.clean=N.clean.concat(N.wrnt_news.data.slice(N.wrnt_news.cnt,N.wrnt_news.cnt+aC));aH-=aC;aw+=aC;aC=Math.min(aH,N.news.cnt72-N.news.cnt);N.clean=N.clean.concat(N.news.data.slice(N.news.cnt,N.news.cnt+aC));aH-=aC;aG+=aC;if(aH>0){var av=Math.min(aH,N.body.cnt72-N.body.cnt);aF+=av;aH-=av;if(aH>0){var aA=Math.min(aH,N.soso.cnt72-N.soso.cnt);aB+=aA;aH-=aA;if(aH>0){if(N.wrnt_news.cnt7d<0){N.wrnt_news.cnt7d=aj(N.wrnt_news.data,N.wrnt_news.cnt72)}if(N.news.cnt7d<0){N.news.cnt7d=aj(N.news.data,N.news.cnt72)}if(N.soso.cnt7d<0){N.soso.cnt7d=aj(N.soso.data,N.soso.cnt72)}if(N.body.cnt7d<0){N.body.cnt7d=aj(N.body.data,N.body.cnt72)}var az=Math.min(aH,N.wrnt_news.cnt7d-Math.max(N.wrnt_news.cnt72,0));N.clean=N.clean.concat(N.wrnt_news.data.slice(N.wrnt_news.cnt72,N.wrnt_news.cnt72+az));aH-=az;aw+=az;az=Math.min(aH,N.news.cnt7d-Math.max(N.news.cnt72,0));N.clean=N.clean.concat(N.news.data.slice(N.news.cnt72,N.news.cnt72+az));aH-=az;aG+=az;if(aH>0){var au=Math.min(aH,N.body.cnt7d-Math.max(N.body.cnt72,0));aF+=au;aH-=au;if(aH>0){var ay=Math.min(aH,N.soso.cnt7d-Math.max(N.soso.cnt72,0));aB+=ay;aH-=ay;if(aH>0){var aE=[].concat(N.wrnt_news.data.slice(aw)).concat(N.news.data.slice(aG)).concat(N.body.data.slice(aF));aE.sort(k);var ax=Math.min(aH,aE.length);N.clean=N.clean.concat(aE.slice(0,ax));if(aH>0){aH=0}}}}}}}}N.clean=N.clean.concat(N.body.data.slice(0,aF));N.clean.sort(k)}N.clean=N.clean.concat(N.soso.data.slice(0,aB))}},V=function(){var av=O;var au=Math.min(av,Math.max(A.wrnt_notice.cnt,0));A.clean=A.wrnt_notice.data.slice(0,au);av-=au;if(av>0){if(A.status===1){L("notice",av)}A.clean=A.clean.concat(A.notice.data.slice(0,av))}},k=function(av,au){return au[0]>av[0]?1:(au[0]<av[0]?-1:0)},I=function(){p();var aw=N.clean;var ay=5007;if(aw&&K){var av=[],au=0;s.e(aw,function(aA,az){if(az<O){if(aA.length>5){av.push('<li><span title="',aA[0],'">',u(aA[0]),'</span>\u00b7<a id="tit-news-',aA[1],'" onmouseover="msgbox_title_o(\'',aA[1],"','",encodeURIComponent(aA[4]),"')\" onmouseout=\"msgbox_title_c('",aA[1],'\')" target="_blank" newspubt="',aA[0],'" newstype="body" boss="',ay,'" href="',aA[2],'">',D(aA[3],23),"</a></li>")}else{if(aA[3].substr(0,7)!="http://"){au+=1;av.push("<li",au==1?' style="border-top:1px dashed #e4e9eb;"':"",'><span title="',aA[0],'">',u(aA[0]),'</span><span style="margin-right:10px;" newstype="soso" title="',aA[3],'">',D(aA[3],3),'</span>\u00b7<a newspubt="',aA[0],'" title="',aA[1],'" target="_blank" boss="',ay,'" href="',aA[2],'">',D(aA[1],17),"</a></li>")}else{av.push('<li><span title="',aA[0],'">',u(aA[0]),'</span>\u00b7<a newspubt="',aA[0],'" boss="',ay,'" title="',aA[2],'" target="_blank" newstype="header" href="',aA[3],'">',D(aA[2],23),"</a></li>")}}}});if(av.length===0){av=['<div style="background:url(http://mat1.gtimg.com/finance/stock_hq/null-small.png) repeat scroll transparent;height:25px;margin:70px auto 0;width:131px;"></div>']}K.innerHTML=av.join("");X("news");try{__.app.QosSS.set("news")}catch(ax){}}},F=function(){V();t=A.clean;if(t&&ad){var au=[];s.e(t,function(ay,aw){if(aw<O){if(at==1||at==51){au.push('<li><span title="',ay[0],'">',u(ay[0]),'</span>\u00b7<a title="',ay[4],'" target="_self" boss="5001" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/',m,".htm#notice-detail?id=",ay[1],"&d=",ay[0].substr(0,10).replace(/-/g,""),'">',D(ay[4],23),"</a></li>")}else{var ax="";if(P&&E(ay[4])<16&&ay[4].substr(0,P.length)!=P){ax=P+"\uff1a"}au.push('<li><span title="',ay[0],'">',u(ay[0]),'</span>\u00b7<a title="',ax,ay[4],'" target="_blank" boss="5001" href="',ay[5],'">',D(ax+ay[4],23),"</a></li>")}}});if(au.length===0){au=['<div style="background:url(http://mat1.gtimg.com/finance/stock_hq/null-small.png) repeat scroll transparent;height:25px;margin:70px auto 0;width:131px;"></div>']}ad.innerHTML=au.join("");X("notice");try{__.app.QosSS.set("notice")}catch(av){}}},M={news:{url:"http://news.gtimg.cn/?name=finance_news&n=",name:"finance_news",status:0},soso:{url:"http://news.gtimg.cn/sosonews.php?name=soso_news&n=",name:"soso_news",status:1},body:{url:"http://news.gtimg.cn/bodynews.php?name=body_news&n=",name:"body_news",status:2},wrnt_news:{url:"http://news.gtimg.cn/?name=finance_news&n=",name:"finance_news",status:3}},R={notice:{url:"http://news.gtimg.cn/notice.php?name=finance_notice&n=10&",name:"finance_notice",status:0},wrnt_notice:{url:"http://news.gtimg.cn/notice.php?name=finance_notice&n=10&",name:"finance_notice",status:1}},z=function(au,av){I=function(){};var aw=(au==="wrnt_news"?m:m);var ax=!!aw?("&q="+o.MAP_STOCKTYPE[at]+aw):"";c.load("http://news2.gtimg.cn/newindex.php?q="+ax+"&modid=1&n="+av+"&format=js&intr=off&name="+M[au].name,function(){var ay=C[M[au].name];if(ay){var az=[];s.e(ay,function(aC,aB){if(aB<av){if(aC.summary){az.push('<li><span title="',aC.datetime,'">',u(aC.datetime),'</span>\u00b7<a id="tit-news-',aC.uid,'" onmouseover="msgbox_title_o(\'',aC.uid,"','",encodeURIComponent(aC.summary),"')\" onmouseout=\"msgbox_title_c('",aC.uid,'\')" target="_blank" newstype="body" boss="300" href="',aC.url,'">',D(aC.title,22),"</a></li>")}else{az.push('<li><span title="',aC.datetime,'">',u(aC.datetime),'</span>\u00b7<a boss="300" title="',aC.title,'" target="_blank" href="',aC.url,'">',D(aC.title,22),"</a></li>")}}});if(az.length===0){az=['<div style="background:url(http://mat1.gtimg.com/finance/stock_hq/null-small.png) repeat scroll transparent;height:25px;margin:70px auto 0;width:131px;"></div>']}K.innerHTML=az.join("");X("news");try{__.app.QosSS.set("news")}catch(aA){}}})},q=function(au,av){au=au||"news";av=av||O;if(a){z(au,av);return}N.status=-1;if(!M[au]){return}if(au=="soso"&&W!==true){H(au);I();return}var aw=(au==="wrnt_news"?S:m);var ax=!!aw?("&q="+o.MAP_STOCKTYPE[at]+aw):"";c.load(M[au].url+av+ax,function(){if(C[M[au].name]){H(au);I();C[M[au].name]=null}},{charset:"gbk",cache:false})},L=function(au,av){au=au||"notice";av=av||O;A.status=-1;var aw=(au==="wrnt_notice"?S:m);var ax=!!aw?("&q="+o.MAP_STOCKTYPE[at]+aw):"";c.load(R[au].url+av+ax,function(){if(C[R[au].name]){d(au);F();C[R[au].name]=null}},{charset:"gbk",cache:false})},af=function(){if(S){q("wrnt_news",O)}else{q("news",O)}},ai=function(){if(S){L("wrnt_notice",O)}else{L("notice",O)}},v,t,ad,P=false,ao=function(){if(t&&ad){var au=[];s.e(t,function(ay,aw){if(aw<O){if(at==1||at==51){au.push('<li><span title="',ay[0],'">',u(ay[0]),'</span>\u00b7<a title="',ay[4],'" target="_self" boss="5001" href="http://stockhtm.finance.qq.com/sstock/quotpage/q/',m,".htm#notice-detail?id=",ay[1],"&d=",ay[0].substr(0,10).replace(/-/g,""),'">',D(ay[4],23),"</a></li>")}else{var ax="";if(P&&E(ay[4])<16&&ay[4].substr(0,P.length)!=P){ax=P+"\uff1a"}au.push('<li><span title="',ay[0],'">',u(ay[0]),'</span>\u00b7<a title="',ax,ay[4],'" target="_blank" boss="5001" href="',ay[5],'">',D(ax+ay[4],23),"</a></li>")}}});if(au.length===0){au=['<div style="background:url(http://mat1.gtimg.com/finance/stock_hq/null-small.png) repeat scroll transparent;height:25px;margin:70px auto 0;width:131px;"></div>']}ad.innerHTML=au.join("");try{__.app.QosSS.set("notice")}catch(av){}}},f=function(){c.load(ar+"q="+o.MAP_STOCKTYPE[at]+m,function(){if(C.finance_notice){t=C.finance_notice;ao();C.finance_notice=null}},{charset:"gbk",cache:false})},aq={},ae=function(au){var av="http://news.gtimg.cn/lmnews.php?name=v_stk_"+au.lm+"_lmnews&n=10&q="+au.lm;c.load(av,function(){if(C["v_stk_"+au.lm+"_lmnews"]){aq[au.lm]=C["v_stk_"+au.lm+"_lmnews"];T(au);C["v_stk_"+au.lm+"_lmnews"]=null}},{charset:"gbk",cache:false})},T=function(ay){if(ay){var ax=B.f(ay.dom),aw=aq[ay.lm],au=ay.boss||"";if(ax){var av=[];s.e(aw,function(aA,az){if(az<O){av.push('<li><span title="',aA[0],'">',u(aA[0]),'</span>\u00b7<a newspubt="',aA[0],'" title="',aA[2],'" boss="',au,'" target="_blank" newstype="lmnews" href="',aA[3],'">',D(aA[2],23),"</a></li>")}});if(av.length===0){av=['<div style="background:url(http://mat1.gtimg.com/finance/stock_hq/null-small.png) repeat scroll transparent;height:25px;margin:70px auto 0;width:131px;"></div>']}ax.innerHTML=av.join("");X("lm-"+ay.lm)}}else{s.e(Q,function(az){T(az)})}},U=null,ah=function(){if(K){af()}if(ad){ai()}s.e(Q,function(au){ae(au)});if(U){clearTimeout(U)}U=setTimeout(function(){ah()},ab)},Z=function(){I();ao();T()},Q=[],an=function(au){S=au&&au.wrnt_code;m=au&&au.code;at=au&&au.type;K=au&&au.news;W=au&&au.soso||false;Q=au&&au.lmnews||[];aa=au&&au.ld||0.3;g=au&&au.future||false;P=au&&au.zqjc||false;if(au&&("useNewData" in au)){a=au.useNewData}au&&au.news_cfg?(M=au.news_cfg):"";au&&au.notice_cfg?(R=au.notice_cfg):"";K=B.f(K);ad=au&&au.notice;ad=B.f(ad);ag="";if(K){ag+="news,"}if(ad){ag+="notice,"}s.e(Q,function(av){ag+="lm-"+av.lm+","});ah();if(K){__.load("widget.bossclick",function(){var av=new __.widget.BossClick();__.event.on(K,"click",function(ay){var aw=ay.target;var ax=aw.getAttribute("boss");if(aw.tagName.toLowerCase()=="a"&&ax){av.send({iTy:1768,sOp:ax,q:o.MAP_STOCKTYPE[at]+m,u:aw.href})}});av.send({iTy:1768,sOp:a?301:1,q:o.MAP_STOCKTYPE[at]+m,u:location.href})})}};C.msgbox_title_o=function(av,au){__.app.msgbox.o("tit-news-"+av,{html:decodeURIComponent(au),position:B.f("tit-news-"+av),autoclose:false,delay:0.3,mouseevent:false},{css:"padding:3px 3px 3px 3px;width:400px;background-color:#FFFFE1;position:absolute;margin-top:10px;border:1px solid #000000;"})};C.msgbox_title_c=function(au){__.app.msgbox.close("tit-news-"+au,0.1)};return{init:an,load:ah,show:Z,onReady:G}}())}());(function(){var c=__,d="__.app.tophot",b="1.1.0",a=(function(){var E=c.Dom,A=c.Lang,p=c.config.win,k=null,s=c.Table,B=[],f=0,F=function(G){if(f==G){return}f=G;if(f==1){q()}},q=function(G){if(__.lang.isFunction(G)){B.push(G)}if(f==1){__.each(B,function(H){H()})}},l={},z=function(G,H){G.childNodes[0].href=s._getUrlByType(H[0],0);G.childNodes[1].className=H[6]>0?"up":(H[6]<0?"down":"same")},C=function(G,H){G.childNodes[0].innerHTML=H[1];G.childNodes[0].href=s._getUrlByType(H[2],H[0]);G.childNodes[1].className=H[4]>0?"up":(H[4]<0?"down":"same")},v=function(G){A.e(G.split(","),function(H){if(p["v_"+H]&&l[H]){if(D=="jj"){z(l[H],p["v_"+H].split("~"))}else{C(l[H],p["v_"+H].split("~"))}}});F(1)},m=function(){var G=[];A.e(E.$(".top-hot .stock"),function(I){var H=I.getAttribute("q");if(H){G.push("s_"+H);l["s_"+H]=I}});return G},g=false,t,u=true,D,o=function(I,H,J){D=H;if(g){return}if(I){k=I}else{k=new c.CronLoader()}t=k.subscribe({qtName:m().join(","),interval:5,runOnce:H=="jj"?true:false,judge:5,onOk:function(){try{v(this.qtName)}catch(K){}}});u=J===false?false:true;var G=function(){var K=["http://stockhtm.finance.qq.com/",H=="hk"?"hk":(H=="jj"?"fund":"sstock"),"/quotpage/inc_hot/hot_all.js?",Math.random()].join("");c.load(K,function(){if(p.v_hot_all){var M=p.v_hot_all.split("|"),O,R,P=[],Q={0:"jj",1:"sh",51:"sz",100:"r_hk"};for(O=0;O<13&&O<M.length;O++){R=M[O].split("_");if(Q[R[1]]){P.push("s_"+Q[R[1]]+R[0])}}if(P.length>10){c.load("http://qt.gtimg.cn/q="+P.join(","),function(){var W=['<div class="title">\u5b9e\u65f6\u70ed\u70b9\uff1a</div><ul>'];for(var U=0;U<P.length;U++){var V=P[U],Y=p["v_"+V]&&p["v_"+V].split("~");if(Y){W.push('<li class="stock" q="',V.substr(2),'"><a boss="6019" target="',u?"_self":"_blank",'" href="',s._getUrlByType(Y[2],Y[0]),'">',Y[1],'</a><span class="',Y[4]>0?"up":(Y[4]<0?"down":"same"),'"></span></li>')}}W.push("</ul>");if(E.f(".top-hot-box")){E.f(".top-hot-box").innerHTML=W.join("")}else{if(E.f(".top-hot")){E.f(".top-hot").innerHTML=W.join("")}}var T=k.jobs[5];for(var S=0,X=T.length;S<X;S++){if(T[S].id==t){T[S].qtName=m().join(",");break}}})}var N=H=="hk"?"v_hot_HK":(H=="jj"?"v_hot_JJ":"v_hot_SS"),L=[];for(;O<M.length;O++){L.push(M[O])}p[N]=L.join("|");p.v_hot_all=null}})};if(H!="jj"){setInterval(function(){G()},10*60*1000);G()}if(!I){k.start()}g=true};return{init:o,onReady:q}}());c.set(d,a)}());this.__=this.__||{};if(navigator.userAgent.match(/iPad;/)&&navigator.userAgent.match(/AppleWebKit/)){__.uaIsIpad=true}if(__.uaIsIpad){var i,j,n;style=document.createElement("style");style.type="text/css";style.innerHTML=".nav-smartbox-submit{text-indent:-8px} .cokiebtn {text-indent:9px;} #wdpk-current {margin:0px 0 0px 12px;}";document.getElementsByTagName("head")[0].appendChild(style)}__.QosSS.init("stock_ss_stock",{1:"hqpanel flashpanel",2:"tophot pstockpanel hqpanel xggp xgbk pkfx flashpanel zjlx rank mix-info gpys jggd",3:"tophot pstockpanel hqpanel xggp xgbk pkfx flashpanel",4:"pstockpanel hqpanel flashpanel",5:"pstockpanel hqpanel xggp xgbk flashpanel"});(function(){var c=__,b="2.0.0",d="__.app.pstkManager",a=(function(){var M=c.Event,O=c.Dom,I=c.Lang,P=c.cookie,A=c.config.win,m,o=c.config.doc,K=O.f(".pstock .msg"),F=0,z=function(R){if(!K){return}if(F){clearTimeout(F)}F=0;K.innerHTML=R;K.style.display="block";F=setTimeout(function(){K.style.display="none";F=0},3000)},J=[],f=0,Q=function(R){R=f|R;if(f==R){return}f=R;if(f==3){D()}},D=function(R){if(__.lang.isFunction(R)){J.push(R)}if(f==3){__.each(J,function(S){S()})}},G=-1,g=function(R){O.f(R).style.display="none"},C=function(R){O.f(R).style.display="block"},L=function(R){if(G!==R){__.app.msgbox.close("confirm-delete");G=R;O.addClass(O.f("pagest"+R),"yk_on");C("yka"+R);if(R===0){O.remClass(O.f("pagest1"),"yk_on");g("yka1");__.app.pstkManager.recentCode.loadRecent();__.app.pstkManager.pstock.stop()}else{O.remClass(O.f("pagest0"),"yk_on");g("yka0");__.app.pstkManager.recentCode.stopRecent();__.app.pstkManager.pstock.start()}H(0,R)}},u=function(R,T){try{if(typeof A.g_FNC_BOSS_CLICK=="function"){A.g_FNC_BOSS_CLICK("pstock",R,T)}}catch(S){}},k=O.f("div.btn"),t=function(){if(__.app.pstkManager.pstock.isLogin()){if(G!==1){L(1)}__.app.pstkManager.pstock.add(B.symbol,function(S){if(S.code===0||S.code===7){__.Dom.addClass(k,"btn btn-dis");try{M.off(k,"click",q)}catch(R){}}H(1,"")})}else{H(1,B.symbol);__.app.login.open({mask:false})}},E=function(S){S=S||window.event;var R=null;if(G===0){R=__.app.pstkManager.recentCode.scroll()}else{if(G===1){R=__.app.pstkManager.pstock.scroll()}}if(R){R._mousewheel(S);M.stopEvent(S)}},q=function(){t();u("pstockadd",B.symbol)},s=function(R){I.e(O.$(".delete"),function(S){if(R==S){O.addClass(S,"on")}else{O.remClass(S,"on")}})},N=function(){M.on(O.f(".du-st-retb"),"click",function(S){S=S||A.event;var R=S.target||S.srcElement;if(R.id=="pagest0"&&G==1){L(0);u("tab","recnt")}else{if(R.id==="pagest1"&&G===0){L(1);u("tab","pstock")}}});M.on("#lbox1","mouseover",function(R){O.addClass(O.f("#lbox1"),"on")});M.on("#lbox1","mouseout",function(R){O.remClass(O.f("#lbox1"),"on")});M.on(k,"click",q);M.on("#lbox1","DOMMouseScroll",function(R){E(R)});M.on("#lbox1","mousewheel",function(R){E(R)});M.on(o,"mouseover",function(T){T=T||A.event;var S=T.srcElement||T.target,R=S.tagName.toLowerCase();if(R=="span"&&O.hasClass(S,"delete")){s(S)}else{s(null)}})},B={alert:true,useRt:false},l=false,p=[],H=function(S,R){p[S]=R;P.set("fn-pstk-cfg",p.join("^"),{path:"/",domain:"stockhtm.finance.qq.com"})},v=function(R){if(l){return}l=true;I.objExtend(B,R);if(!("cron" in R)){m=new c.CronLoader()}else{m=R.cron}N();__.app.pstkManager.recentCode.init({code:R.code,type:R.type,cron:m,onLogin:function(){__.app.login.open({mask:false})},hotlist:R.hotlist,add:R.add===false?false:true});var S=P.get("fn-pstk-cfg"),T=false;p=S&&S.split("^")||[];if(p&&p[0]==="0"||p[0]==="1"){T=p[0]}if(T!=="1"){L(0)}__.app.pstkManager.pstock.init({symbol:B.symbol,defaultType:B.defaultType||false,name:B.name,cron:m,onLogin:function(V){if(__.app.pstkManager.pstock.hasStock(B.symbol)){__.Dom.addClass(k,"btn-dis");try{M.off(k,"click",q)}catch(U){}}if(B.alert){__.app.pstkManager.message.init({symbol:B.symbol,name:B.name,alert:__.app.pstkManager.pstock.hasAlert(B.symbol)})}if(p[1]==B.symbol&&V){if(p[2]==1){__.app.pstkManager.message.alert()}else{t()}}if(V){__.app.pstkManager.boss("pstock100","")}else{if(k.className.indexOf("btn-dis")>=0){__.Dom.remClass(k,"btn-dis");try{M.off(k,"click",q)}catch(U){}try{M.on(k,"click",q)}catch(U){}}}},onLoad:function(){if(__.app.pstkManager.pstock.isLogin()&&T===false||T==="1"){L(1)}else{L(0)}}});if(!("cron" in R)){m.start()}if(B.alert){__.app.pstkManager.message.init({symbol:B.symbol,name:B.name,alert:__.app.pstkManager.pstock.hasAlert(B.symbol)})}if(p&&p[1]){if(p[1]==B.symbol&&__.app.pstkManager.pstock.isLogin()){if(p[2]==1){__.app.pstkManager.message.alert()}else{t()}}}};return{onReady:D,_onReadyStatus:Q,init:v,useRt:function(){return B.useRt===true?true:false},boss:u,QT:{},set_cookie:H,add:t,check:function(){if(__.app.pstkManager.pstock.hasStock(B.symbol)){O.addClass(k,"btn btn-dis");try{M.off(k,"click",q)}catch(R){}}else{if(O.hasClass(k,"btn-dis")){O.remClass(k,"btn-dis");try{M.on(k,"click",q)}catch(R){}}}},msg:z,trimName:function(U,R){R=R>0?R:12;U=String(U);U=U.replace(/\s/g,"");var T=0,S,W=[];for(S=0;S<U.length;S++){var V=U.charCodeAt(S);if(V>=913&&V<=65509){T+=2}else{T+=1}if(T>R){break}W.push(T)}if(T<=R){return U}for(S=W.length;S>0;S--){if(W[S-1]+2<=R){break}}return['<span title="',U,'">',U.substr(0,S),"..</span>"].join("")}}}());c.set(d,a)}());(function(){var d=__,k="2.0.3",m=d.Dom,l=d.Event,f=d.Lang,a=null,b=d.Table,c=d.config.win;var g=document.createElement("iframe");c.__cookieXdOnload=function(o){a={get:o.__get,del:o.__del,set:o.__set}};g.style.display="none";g.src="http://stockhtm.finance.qq.com/inc/cookiexd.htm";__.onReady(function(){document.body.appendChild(g)});d.set("__.app.pstkManager.recentCode");d.app.pstkManager.recentCode=(function(){var q=m.f,L,K=q("#yka0"),v=q("#yka0 .div-btn"),p,B,M=1,C=/(?:^|\s)([0-9a-zA-Z\.]+_\d+)(?:$|\s)/,A,H,s,D=null,N="RECENT_CODE",I=function(O){if(B!=O){u();B=O;m.addClass(O,"del")}},u=function(){if(B){m.remClass(B,"del");B=null}},z=function(R){var Q=N,P=a.get(Q),O;P=P.replace(f.getReg("%7C","ig"),"|");P=P.replace(f.getReg(R+"\\|","g"),"");if(R.substr(R.length-2)=="_0"){P=P.replace(f.getReg(R.substr(0,R.length-2)+"\\|","g"),"")}O=new Date();O.setTime(O.getTime()+60*24*60*60*1000);a.set(Q,P,{expires:O,path:"/",domain:".finance.qq.com"})},G=function(){a.del(N,"/",".finance.qq.com")},t=function(){a.del("uin","/",".qq.com");a.del("skey","/",".qq.com");a.del("luin","/",".qq.com");a.del("lkey","/",".qq.com")},F=function(Q,U,T){var V=__.Table.processors,P;if(Q[0].length==6){P=V.GET_TITLE(Q[0],0,Q[1],false,"_blank");if(P){P=P.replace(f.getReg("_blank","g"),'_self" boss="'+T+'" id="'+U+"jj"+Q[0])}}else{P=V.TITLE(Q);if(P){P=P.replace(f.getReg("_blank","g"),'_self" boss="'+T+'" id="'+U+__.Table.MAP_STOCKTYPE[Q[0]]+Q[2])}}if(U=="recnt-a-"){var R=P,O=R.match(f.getReg(/href="([^"]+)"/i));if(O){var S=O[1];if(S.indexOf("?")>=0){R=R.replace(S,S+"&pgv_ref=fi_quote_my_recent")}else{R=R.replace(S,S+"?pgv_ref=fi_quote_my_recent")}}P=R}return P},o=function(O){m.f(O).style.display="none"},E=function(O){m.f(O).style.display="block"},J=function(R,O){R=String(R);var Q=R.length;if(Q<=O){return R}var P=R.indexOf(".");if(P<=0||P>O){return Number(R).toFixed(0)}if(O==P){return Number(R).toFixed(0)}return Number(R).toFixed(O-P-1)};return{clearCookie:function(){var O=this;__.app.msgbox.o("confirm-delete",{html:"\u786e\u5b9a\u6e05\u7a7a\u6700\u8fd1\u8bbf\u95ee\u8bb0\u5f55\uff1f",position:v,parent:m.f("#recnt-div"),EV_click_OK:function(){G();O.loadRecent(true);O.restore();__.app.msgbox.close("confirm-delete");__.app.pstkManager.msg("\u6700\u8fd1\u8bbf\u95ee\u5df2\u6210\u529f\u6e05\u7a7a")},EV_click_CANCLE:function(){__.app.msgbox.close("confirm-delete")}},O.confirm_delete)},hiddenLine:2,mapTypeIndex:{1:"",51:"",100:"HSI_100"},mapHotKey:{0:"v_hot_JJ",1:"v_hot_SS",51:"v_hot_SS",100:"v_hot_HK",200:"v_imp_AS"},_addEvents:function(){var O=this;l.on(s,"click",function(S){S=S||c.event;var P=S.target||S.srcElement;if(P.className=="toggler"){__.app.pstkManager.boss("tab","toggler")}else{if(P.id=="start-login"){O.fnLogin();__.app.pstkManager.boss("pstockclick","login")}else{if(m.hasClass(P,"delete")){P=P.parentNode.firstChild;var R=P.className.match(C);if(R&&R[1]){var Q=R[1],T=m.f("a",P);if(T){Q=T.innerHTML}__.app.msgbox.o("confirm-delete",{html:"\u786e\u5b9a\u5220\u9664\u201c"+__.app.pstkManager.trimName(Q,12)+"\u201d\uff1f",position:P,parent:m.f("#recnt-div"),EV_click_OK:function(){z(R[1]);O.loadRecent(true);__.app.msgbox.close("confirm-delete");__.app.pstkManager.msg("\u6210\u529f\u5220\u9664\u201c"+__.app.pstkManager.trimName(Q,12)+"\u201d")},EV_click_CANCLE:function(){__.app.msgbox.close("confirm-delete")}},O.confirm_delete)}}else{if(P.id.substr(0,8)=="recnt-a-"){__.app.pstkManager.boss("recnt",P.id.substr(8))}else{if(P.id.substr(0,9)=="pstock-a-"){__.app.pstkManager.boss("pstock",P.id.substr(9))}else{if(P.className=="adminbtn"&&P.value=="\u8fdb\u5165"){__.app.pstkManager.boss("pstockclick","in")}else{if(P.id=="pstock-logout"){__.app.pstkManager.boss("pstockclick","logout")}else{if(P.id.substr(0,6)=="hot-a-"){__.app.pstkManager.boss("hot-a",P.id.substr(6))}}}}}}}}});l.on(p,"click",function(R){var P=R.target||R.srcElement,Q});l.on(__.config.doc,"mouseover",function(R){var Q=R.target||R.srcElement,P;P=Q.tagName&&Q.tagName.toLowerCase();if(m.contains(p,Q)){while(P&&P!="li"&&P!="ul"){Q=Q.parentNode;P=Q.tagName&&Q.tagName.toLowerCase()}if(P=="li"){I(Q)}}else{u()}})},fill:function(Y){var U=[],T,S,X=Y.length,P=__.Table.processors,Q,V=this.showLine,W,R=this.hiddenLine,Z=false;S=X;var O=function(aa){if(Math.abs(aa[5])>100){return __.fnTable.processors.GET_PERCENT(parseInt(aa[5]).toFixed(0))}else{return __.fnTable.processors.GET_PERCENT(aa[5])}};for(T=0;T<S;T++){Q=Y[T];Q=Q&&Q.split("~");if(!Q||!Q.length){continue}if(Q[0].length==6){U.push('<li><div><span class="lis1 ',Q[0],'_0 ">',F(Q,"recnt-a-",1),'</span><span class="lis2">',J(Q[3],7),'</span><span class="lis3">',O(Q)+"</span>",'<span class="img delete" title="\u70b9\u51fb\u5220\u9664"></span></div></li>')}else{Z=(Q[0] in {"1":"","51":"","100":""}&&Q[8]&&Q[8].indexOf("S")>=0)?(__.Table.MAP_STOCKTYPE[Q[0]]+Q[2]):false;U.push('<li><div><span class="lis1 ',Q[2],"_",Q[0],(Q[0]=="100"?" hk":""),'">',F(Q,"recnt-a-"),'</span><span class="lis2">',(Z!==false?('<a class="suspension suspension_loading" symbol="'+Z+'">\u505c\u724c</a>'):J(Q[3],7)),'</span><span class="lis3">',(Z!==false?"--":O(Q))+"</span>",'<span class="img delete" title="\u70b9\u51fb\u5220\u9664"></span></div></li>')}}p.innerHTML=U.join("");if(X===0){p.style.display="none"}else{p.style.display=""}},clear:function(){},restore:function(){},getRecent2Ary:function(){var X,Y,V,Q={},T=this.code+"_"+this.type,O=b.MAP_STOCKTYPE,W=[],P,S,R,U=this;X=a.get(N);X=X.replace(f.getReg("%7C","ig"),"|");Y=this.mapTypeIndex[this.type];X=X.split("|");f.e(X,function(aa){if(aa&&aa!=Y){aa=aa.split("_");if(aa[1]=="350"){Q["qh"+aa[0]]=1}else{if(aa[1]=="200"){var Z=aa[0].split(".");Q["s_us"+Z[0]]=1}else{if(aa[1]=="100"){if(__.app.pstkManager.useRt()){Q["s_r_hk"+aa[0]]=1}else{Q["s_hk"+aa[0]]=1}}else{if(O[aa[1]]){Q["s_"+O[aa[1]]+aa[0]]=1}else{if(aa[1]===undefined){Q["s_jj"+aa[0]]=1}}}}}}});X=f.keys(Q);V=Math.min(X.length,this.maxRecent);if(V<this.showLine){if(D&&D.split){P=D.split(",");S=0;while(V<this.showLine&&P[S]){R=P[S];S++;if(!(R in Q)){W.push(R);V++;Q[R]=1}}}else{P=c[this.mapHotKey[this.type]];if(P&&P.split){P=P.split("|");S=0;while(V<this.showLine&&P[S]){R=P[S].split("_");S++;if(O[R[1]]||R[1]===undefined){if(R[1]=="350"){R="qh"+R[0]}else{if(R[1]=="200"){R="s_us"+R[0].replace(/\.[^\.]+$/,"").replace(/[^a-zA-Z0-9$_]/g,"__")}else{if(R[1]=="100"){if(__.app.pstkManager.useRt()){R="s_r_hk"+R[0]}else{R="s_hk"+R[0]}}else{if(O[R[1]]){R="s_"+O[R[1]]+R[0]}else{if(R[1]===undefined){R="s_jj"+R[0]}}}}}if(!(R in Q)){W.push(R);V++;Q[R]=1}}}}}}return[X,W]},hideTagHot:false,stopRecent:function(){this.active=false},confirm_delete:{css:"width: 160px; background: #FFFFFF; position: absolute; top: 300px; left: 217px; display: block;border:1px solid #B2CAE7;z-index:3;",html:'<div style="height:21px;background:#DBE8FA;line-height:21px;"><span style="float:left;margin-left:5px;">\u786e\u8ba4\u5220\u9664</span><span style="float:right;height:21px;width:11px;cursor:pointer;background:url(http://mat1.gtimg.com/finance/stock/quotpage/pstock1.png) 0 0 no-repeat;" class="_msgbox_CLOSE"></span></div><div style="line-height:24px;text-align:center;"  class="_msgbox_HTML"></div><div style="height:24px;line-height:24px;text-align:center;margin-bottom:5px;"><div style="width:100px;margin:auto;"><input type="button" value="\u786e\u5b9a" class="btnbox4 clear-yes EV_click_OK"><input type="button" value="\u53d6\u6d88" class="btnbox4 clear-no EV_click_CANCLE" style="margin-left:6px;"></div></div></div>'},loadRecent:function(O){if(a==null){var S=this;setTimeout(function(){S.loadRecent(O)},100);return}this.active=true;var R,P,Q,S=this,V,T,U;if(this.recentLoaded){if(!O){return}}this.recentLoaded=true;T=function(){var X=[],W;f.e(R,function(Z){if(c["v_"+Z]){__.app.pstkManager.QT[Z]=c["v_"+Z]}W=__.app.pstkManager.QT[Z];W&&X.push(W)});S.fill(X);if(R.length<1){o(v)}else{E(v)}if(Q.length){if(R.length>=S.hiddenLine){S.hideTagHot=true;if(S.opening){E(H)}else{o(H)}}else{S.hideTagHot=false;E(H)}E("divq2");f.e(m.$("#divq2 tr"),function(aa,Z){if(Z>0){m.remEl(aa)}});b.fill(Q.join(","),m.f("#divq2 tr"),[function(aa,Z,ac,ab){if(ab<S.hiddenLine-R.length-1){ac.parentNode.className="first2"}else{ac.parentNode.className=""}return(aa[0]=="100"?'<span title="\u6e2f\u80a1"></span>':"")+F(aa,"hot-a-","")},function(aa,Z,ad,ac){if(aa[0].length==6){return aa[3]}var ab=(aa[0] in {"1":"","51":"","100":""}&&aa[8]&&aa[8].indexOf("S")>=0)?(__.Table.MAP_STOCKTYPE[aa[0]]+aa[2]):false;return ab?('<a class="suspension suspension_loading" symbol="'+ab+'">\u505c\u724c</a>'):aa[3]},function(aa,Z,ad,ac){if(aa[0].length==6){return __.Table.processors.GET_PERCENT(aa[5],aa[6])}var ab=(aa[0] in {"1":"","51":"","100":""}&&aa[8]&&aa[8].indexOf("S")>=0)?(__.Table.MAP_STOCKTYPE[aa[0]]+aa[2]):false;return ab?"--":__.Table.processors.S_PERCENT(aa)}])}else{o("divq2");o(H)}__.app.pstkManager.suspension.load();__.app.pstkManager._onReadyStatus(2);try{__.app.QosSS.set("recentCode")}catch(Y){}};P=S.getRecent2Ary();R=P[0];Q=P[1];U=R.concat(Q).join(",");V=this.cron.count;b.load(U,T);this.cron.subscribe({interval:4,judge:function(W){if(W>V&&S.active===true){if(W%60===0){P=S.getRecent2Ary();R=P[0];Q=P[1];this.qtName=R.concat(Q).join(",")}return 3}},qtName:"",onOk:T})},setRecent:function(S,Q){name=N;S=S||this.code;Q=Q||this.type;var P=S+"_"+Q,R=a.get(name);R=R.replace(f.getReg("%7C","ig"),"|");R=R.replace(f.getReg(P+"\\|","g"),"");if(Q===0){R=R.replace(f.getReg(S+"\\|","g"),"")}var T=[P].concat(R.split("|"));T=T.slice(0,23);var O=new Date();O.setTime(O.getTime()+60*24*60*60*1000);a.set(name,T.join("|")+"|",{expires:O,path:"/",domain:".finance.qq.com"})},scroll:function(){return this._scroll},init:function(O){if(a==null){var P=this;setTimeout(function(){P.init(O)},100);return}this.code=O.code;this.type=O.type;if(this.type==200){N="ASRECENT_CODE"}else{if(this.type===0){N="JJRECENT_CODE"}else{N="RECENT_CODE"}}this.cron=O.cron;this.fnLogin=O.onLogin;this.opening=true;this.hiddenLine=O.limit||2;this.hiddenHeight=O.height;this.addRecent="add" in O?O.add:true;if(O&&O.hotlist){D=O.hotlist}this._scroll=new __.app.scroll({div:"recnt-div",always_display:true});p=q("ul",K);A=m.f(".hk-notice",K);H=m.f("tagHot");s=q("lbox1");if(this.addRecent){this.setRecent()}if(O.type==100){H.innerHTML="\u4ee5\u4e0b\u4e3a\u70ed\u95e8\u6e2f\u80a1";this.showLine=11;try{A.style.display="block"}catch(Q){}}else{if(O.type=="350"){H.innerHTML="\u4ee5\u4e0b\u4e3a\u70ed\u95e8\u671f\u8d27";this.showLine=12}else{if(O.type===0){H.innerHTML="\u4ee5\u4e0b\u4e3a\u70ed\u95e8\u57fa\u91d1";this.showLine=12}else{H.innerHTML="\u4ee5\u4e0b\u4e3a\u70ed\u95e8\u4e2a\u80a1";this.showLine=12}}}this.maxRecent=22;this._addEvents()}}})()}());(function(){var c=__,b="1.0.0",d="__.app.pstkManager.pstock",a=(function(){var H=c.Dom,s=c.Table,al=s.processors,A=c.Lang,I=c.config.win,ad=c.config.doc,F=c.Event,L=c.cookie,ag={},l,X=true,ab=null,P=undefined,B="length",af="split",p="string",av=false,ar="indexOf",N=function(aD,aA){aD=String(aD);var aC=aD.length;if(aC<=aA){return aD}var aB=aD.indexOf(".");if(aB<=0||aB>aA){return Number(aD).toFixed(0)}if(aA==aB){return Number(aD).toFixed(0)}return Number(aD).toFixed(aA-aB-1)},O=function(aB,aA,aD,aR){var aN,aM,aJ,aQ,aP,aK,aG,aE,aH,aL,aO,aF,aC;aR=aR||{};aE="cloneTr" in aR?aR.cloneTr:X;aH="lineCount" in aR?aR.lineCount:Infinity;aC="separator" in aR?aR.separator:"~";aF="baseindex" in aR?aR.baseindex:0;aA=H.f(aA);if(aE){aL=aA.cloneNode(X);aL.id=""}if(aR.firstTr){aP=aR.firstTr.cloneNode(X);aR.firstTr.parentNode.insertBefore(aP,aR.firstTr.nextSibling)}else{aP=aA}if(typeof aB==p){aO=[];A.e(aB.split(","),function(aS){aO.push(I["v_"+aS]||"")});aB=aO}for(aN=0,aM=aB[B];aN<aM&&aN<aH;aN++){if(aB[aN]===[]||aB[aN]===ab||aB[aN]===P||aB[aN]===""){if(aR.showError){aB[aN]=[]}else{continue}}if(!aP){if(aE){aP=aL.cloneNode(X);aQ.parentNode.insertBefore(aP,aQ.nextSibling)}else{break}}aQ=aP;if((aN+aF)%2===0&&"evenTr" in aR){aP.style.cssText=aR.evenTr}else{if((aN+aF)%2===1&&"oddTr" in aR){aP.style.cssText=aR.oddTr}}if(aB[aN].constructor==Array){aK=aB[aN]}else{aK=aB[aN][af](aC)}aG=aQ.firstChild;aG=aG.nodeType===1?aG:s.findNextEl(aG);aJ=0;while(aG&&aJ<aD.length){aG.innerHTML=s.process(aD[aJ],aK,aJ,aG,aN);aG=s.findNextEl(aG);aJ++}aP=s.findNextEl(aQ)}var aI=aQ;while(aR.clear&&aP){aQ=aP;aP=s.findNextEl(aQ);if(aQ!=aA){H.remEl(aQ)}else{aG=aQ.firstChild;aG=aG.nodeType===1?aG:s.findNextEl(aG);aJ=0;while(aG){aG.innerHTML="";aG=s.findNextEl(aG);aJ++}}}return aI},ak=function(aI,aR,aF,aD,aH,aB,aJ){aF=aF===av?av:X;var aG=aR.style,aS=c.Event.on,aA=c.Event.off;aR.oriZ=A.isEmpty(aG.zIndex)?1:aG.zIndex;++c.topLayer;aR.style.zIndex=c.topLayer;if(!aR.moved){aR.moved=X;if(aG.position.toLowerCase()[ar]("absolute")==-1){aG.position="relative"}if(aG.left){aR.oriL=parseInt(aG.left,10)}else{aR.oriL=0;aG.left="0px"}if(aG.top){aR.oriT=parseInt(aG.top,10)}else{aR.oriT=0;aG.top="0px"}if(aD){aR.zone={top:aR.oriT-aD.t,right:aR.oriL+aD.r,bottom:aR.oriT+aD.b,left:aR.oriL-aD.l}}}var aE=parseInt(aG.left,10),aC=parseInt(aG.top,10),aQ=aF?getopacity(aR):0,aP=aI.clientX-aE,aO=aI.clientY-aC,aN=function(){aA(aJ||ad,"mousemove",aL);aA(ad,"mouseup",aN);if(aF){setopacity(aR,aQ)}aR.style.zIndex=aR.oriZ;c.topLayer--;aK(!!aI.preventDefault);if(aH){aH(parseInt(aG.left,10),parseInt(aG.top,10),aR.zone)}},aL=function(aU){if(aU.memo&&aU.memo.y!==0){aO=aO+aU.memo.y;F.stopEvent(aU)}var aW=aU.clientX-aP,aV=aU.clientY-aO;if(aR.zone){var aT=aR.zone;aW=aT.left>aW?aT.left:aW;aW=aT.right<aW?aT.right:aW;aV=aT.top>aV?aT.top:aV;aV=aT.bottom<aV?aT.bottom:aV}aG.left=aW+"px";aG.top=aV+"px";if(aB){aB(aW,aV,aR.zone)}return av},aM=function(aT){if(!aT){ad.onselectstart=function(){return av}}else{ad.onmousedown=function(aU){aU.preventDefault()}}},aK=function(aT){if(!aT){ad.onselectstart=ab}else{ad.onmousedown=ab}};aM(!!aI.preventDefault);if(aF){setopacity(aR,0.4)}aS(aJ||ad,"mousemove",aL);aS(ad,"mouseup",aN)},au={code:-1,msg:"",data:{}},ah={"0":"\u6210\u529f","1":"\u8f93\u5165\u53c2\u6570\u9519\u8bef","2":"uin\u4e0d\u5339\u914d","3":"\u767b\u5f55\u8d85\u65f6","4":"key\u9a8c\u8bc1\u5931\u8d25","5":"\u80a1\u7968\u4ee3\u7801\u9519\u8bef","6":"\u80a1\u7968\u5b9a\u5236\u6570\u76ee\u5df2\u7ecf\u8d85\u51fa\u6700\u5927\u503c","7":"\u80a1\u7968\u5df2\u7ecf\u5b9a\u5236","8":"\u80a1\u7968\u672a\u7ecf\u5b9a\u5236","9":"\u80a1\u7968\u4ee3\u7801\u4e0d\u786e\u5b9a","10":"\u7ec4\u5408\u8fbe\u5230\u6700\u5927\u503c","11":"\u7ec4\u5408\u4e0d\u5b58\u5728","12":"\u7cfb\u7edf\u9519\u8bef"},g={ORDER:["1","2","3","4","5","6","7"],"1":{name:"\u6caa\u6df1",type:"cn"},"2":{name:"\u6e2f\u80a1",type:"hk"},"3":{name:"\u7f8e\u80a1",type:"us"},"4":{name:"\u5f00\u57fa",type:"jj"},"5":{name:"\u5c01\u57fa",type:"jj"},"6":{name:"ETF",type:"jj"},"7":{name:"LOF",type:"jj"}},C=function(aA,aB){if(aA in au.data){au.data[aA].push(aB)}else{au.data[aA]=[aB]}},Q={},W=function(aB,aA){au={code:aB.code,msg:aB.msg,data:{}};for(var aC in aB.data){if(aB.data[aC]===""){continue}if(aC=="stocklist"||aC=="stock"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[3]];Q[aE[0]]=aE;if(aD=="sh"||aD=="sz"){if(aF=="cf"){C("5",aG)}else{if(aF=="lof"){C("7",aG)}else{if(aF=="etf"){C("6",aG)}else{C("1",aG)}}}}else{if(aD=="hk"){C("2",aG)}else{if(aD=="us"){C("3",aG)}else{if(aD=="jj"){C("4",aG)}}}}})}else{if(aC=="stockcn"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("1",aG)})}else{if(aC=="stockhk"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("2",aG)})}else{if(aC=="stockus"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("3",aG)})}else{if(aC=="stockjj"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("4",aG)})}else{if(aC=="stockcf"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("5",aG)})}else{if(aC=="stockof"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("4",aG)})}else{if(aC=="stocklof"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("7",aG)})}else{if(aC=="stocketf"){A.e(aB.data[aC].split("|"),function(aH){var aE=aH.split("~"),aD=aE[0]&&aE[0].substr(0,2),aF=aE[3],aG=[aE[0],aE[1]];Q[aE[0]]=aE;C("6",aG)})}}}}}}}}}}},ac=function(aA){if(aA[0].substr(0,2)=="us"){return"s_"+aA[0].replace(/\.[^\.]+$/,"").replace(/[^a-zA-Z0-9$_]/g,"__")}return"s_"+aA[0]},u=function(aA){if(aA[0].length==6){return"jj"+aA[0]}if(aA[0]==200){if(aA[2].charAt(0)=="."){return"us"+aA[2].substr(1)}return"us"+aA[2].replace(/\.[^\.]+$/,"").replace(/[^a-zA-Z0-9$_]/g,"__")}return s.MAP_STOCKTYPE[aA[0]]+aA[2].split(".")[0]},ap=function(aC){for(var aA in au.data){for(var aB=0;aB<au.data[aA].length;aB++){if(au.data[aA][aB][0]==aC){return aA}}}return null},ae=function(aA){if(ap(aA)!==null){if(aA in Q){return Q[aA][6]==1?true:false}}return false},t=H.f("#pstk-msg"),at=0,M=function(aA){if(!t){return}if(at){clearTimeout(at)}at=0;t.innerHTML=aA;t.style.display="block";at=setTimeout(function(){t.style.display="none";at=0},3000)},ay=0,m=null,aa=function(){if(m===null){try{__.app.pstkManager.boss("pstock101","")}catch(aA){}F.fire(ad,"du-boss:send",{sOp:9});m=setTimeout(function(){m=null},30*1000)}},D=true,E=function(aB){var aA=aB.match(A.getReg(/href="([^"]+)"/i));if(aA){var aC=aA[1];if(aC.indexOf("?")>=0){aB=aB.replace(aC,aC+"&pgv_ref=fi_quote_my_select")}else{aB=aB.replace(aC,aC+"?pgv_ref=fi_quote_my_select")}}return aB},V=function(aI,aK){A.objExtend(__.app.pstkManager.QT,aI);var aE=true,aC=[];if(v===false){aE=false;for(var aN in aI){if(aK[aN]){var aD=aI[aN].split("~"),aO=H.$("."+u(aD),U);if(aO&&aO.length>0){A.e(aO,function(aR){var aQ=aR.childNodes,aP=(aD[0] in {"1":"","51":"","100":""}&&aD[8]&&aD[8].indexOf("S")>=0)?(__.Table.MAP_STOCKTYPE[aD[0]]+aD[2]):false;aQ[1].innerHTML=aP?('<a class="suspension suspension_loading" symbol="'+aP+'">\u505c\u724c</a>'):aD[3];if(aP){aQ[1].className=""}else{aQ[1].className="fntTahoma fs11"}aQ[2].innerHTML=aP?("--"):al.GET_PERCENT(aD[5])})}else{aE=true;break}}}}if(aE!==false){for(var aG=0;aG<g.ORDER.length;aG++){var aF=g.ORDER[aG];if(!(aF in au.data)){continue}var aM=[];A.e(au.data[aF],function(aP){if(__.app.pstkManager.QT[ac(aP)]){aM.push(aP)}});O(aM,H.f("#pstk-data-"+aF+" li"),[function(aP,aS,aT){var aU=__.app.pstkManager.QT[ac(aP)],aR,aQ="";if(aU){aR=aU.split("~");if(aP[0].substr(0,2)=="jj"){aQ=E(al.GET_TITLE(aR[0],0,aR[1],false,"_self"));aQ=aQ.replace("href=",'id="pstock-a-jj'+aR[0]+'" href=')}else{aQ=E(al.GET_TITLE(aR[2],aR[0],aR[1],false,"_self"));aQ=aQ.replace("href=",'boss="2" id="pstock-a-'+__.Table.MAP_STOCKTYPE[aR[0]]+aR[2]+'" href=')}aT.parentNode.className=u(aR);aT.parentNode.setAttribute("stockname",aR[1]);aT.parentNode.setAttribute("stockinfo",aP.join("~"))}return aQ},function(aP,aR,aT){var aU=__.app.pstkManager.QT[ac(aP)],aQ;if(aU){aQ=aU.split("~");var aS=(aQ[0] in {"1":"","51":"","100":""}&&aQ[8]&&aQ[8].indexOf("S")>=0)?(__.Table.MAP_STOCKTYPE[aQ[0]]+aQ[2]):false;if(aS){aT.className=""}else{aT.className="fntTahoma fs11"}return aS?('<a class="suspension suspension_loading" symbol="'+aS+'">\u505c\u724c</a>'):N(aQ[3],7)}},function(aP,aR,aT){var aU=__.app.pstkManager.QT[ac(aP)],aQ;if(aU){aQ=aU.split("~");var aS=(aQ[0] in {"1":"","51":"","100":""}&&aQ[8]&&aQ[8].indexOf("S")>=0)?(__.Table.MAP_STOCKTYPE[aQ[0]]+aQ[2]):false;return aS?("--"):al.GET_PERCENT(aQ[5])}}])}if(v){aw();az="";l.onScroll=function(aP){az="";if(aP!==true){aa()}}}v=false}if(K){var aL=K;K=ao(K);var aJ=H.f("."+aL,U);if(aJ&&au.code===0){var aB=aJ.getAttribute("stockname");if(aB){if(__.app.pstkManager.message.status==100){__.app.pstkManager.message.alert()}else{if(!__.app.pstkManager.message.isInited()){M("\u6dfb\u52a0<b>\u201c"+__.app.pstkManager.trimName(aB,12)+"\u201d</b>\u6210\u529f")}else{var aA='\u60a8\u53ef\u4ee5<span style="color:red;text-decoration:underline;cursor:pointer;" boss="1002" class="EV_click_1">\u8bbe\u7f6e\u63d0\u9192</span>\u4e86';try{if(typeof __.app.stock.util.postToWb=="function"){aA='\u60a8\u53ef\u4ee5<span style="color:red;text-decoration:underline;cursor:pointer;" boss="1002" class="EV_click_1">\u8bbe\u7f6e\u63d0\u9192</span>\u6216<span style="color:red;text-decoration:underline;cursor:pointer;" class="EV_click_wb">\u8f6c\u64ad\u5230\u5fae\u535a</span>\u4e86'}}catch(aH){}__.app.msgbox.o(0,{html:'\u6dfb\u52a0<b>"'+__.app.pstkManager.trimName(aB,12)+'"</b>\u6210\u529f',HTML_FOOT:aA,EV_click_1:function(){__.app.msgbox.close(0,0.1);__.app.pstkManager.message.alert()},EV_click_wb:function(){try{__.app.stock.util.postToWb({symbol:ag.symbol,name:ag.name})}catch(aP){}try{__.app.pstkManager.boss("pstock300","")}catch(aP){}}})}}}}}__.app.pstkManager.suspension.load();try{__.app.QosSS.set("pstock");__.app.pstkManager._onReadyStatus(1);if(o===true){__.app.pstkManager._onReadyStatus(2);__.app.QosSS.set("recentCode")}}catch(aH){}if(D){D=false;if(typeof k=="function"){try{k()}catch(aH){}}}},ao=function(aG,aB){var aH=typeof(aG)==="string"?H.f("."+aG,U):aG,aD=H.getPosition(l._dom_contentwrapper,"offsetTop");if(aH){var aA=aH.parentNode;while(aA&&aA!=U){if(aA.tagName=="DIV"&&aA.className=="close"){G(aA);break}aA=aA.parentNode}var aE=aH.style.backgroundColor,aC=H.getPosition(aH,"offsetTop")-aD,aI=0-l._top,aF=aI+l._client_height;l.scroll(0-aC+l._client_height-aH.clientHeight-150,false,true);if(aB!==false){H.addClass(aH,"new");setTimeout(function(){H.remClass(aH,"new")},5000)}return null}return aG},az="",aw=function(){var aA=L.get("fn-pstk-stat");var aB=aA.split("^");if(aB&&aB.length>1){A.e(H.$("div.open"),function(aC){var aD=aC.id.substr(10);if(aB[0].indexOf(aD)>=0){aC.className="close"}});l.scroll(parseInt(aB[1],10),true,true)}else{if(ag.defaultType){setTimeout(function(){for(var aD=0;aD<g.ORDER.length;aD++){var aC=g.ORDER[aD];var aF="pstk-data-"+aC,aE=H.f(aF);if(aE&&aC==ag.defaultType){l.scroll(aE.offsetTop*-1,true,true);break}aE=null}},0)}}},aj=function(){if(v){var aC=[];for(var aD=0;aD<g.ORDER.length;aD++){A.e(au.data[g.ORDER[aD]],function(aG){if(aG[0]){aC.push(ac(aG))}})}if(aC.length>0){return aC.join(",")}}if(az){return az}var aF=[],aE=0-l._top,aB=aE+l._client_height,aA=H.getPosition(l._dom_contentwrapper,"offsetTop");A.e(H.$(".open ul li",U),function(aJ){var aI=H.getPosition(aJ,"offsetTop")-aA,aG=aJ.getAttribute("stockinfo");if(aI>=aE&&aI<aB&&aG){aG=aG.split("~");var aH=ac(aG);aF.push(aH)}});az=aF.join(",");return az},v=true,K=null,ai=false,am=function(){if(!ai){H.f(".pstk .div-cont").style.display="none";H.f(".pstk .div-btn").style.display="none";H.f("#dlogin").style.display="block";au.data={}}else{H.f(".pstk .div-cont").style.display="block";H.f(".pstk .div-btn").style.display="block";H.f("#dlogin").style.display="none"}},o=true,z=function(aB){var aA=aA=H.f(".tag",aB);aB.className="close";aA.title="\u70b9\u51fb\u53ef\u5c55\u5f00"},G=function(aC,aB){if(aC){var aA=H.f(".tag",aC);aC.className="open";if(aA){aA.title="\u70b9\u51fb\u53ef\u6536\u6298"}}},Y=function(aJ){var aG=true,aK=[];for(var aH=0;aH<g.ORDER.length;aH++){var aF=g.ORDER[aH];var aA="pstk-data-"+aF,aC=H.f(aA);if(!(aF in au.data)){if(aC){H.remEl(aC)}continue}if(!aC){aC=H.f("pstk-data-agent").cloneNode(true);aC.id=aA;H.f(".txt",aC).innerHTML=g[aF]&&g[aF].name||aF;H.f("li",aC).id=aA+"-li";if(aF==2){tmpDom=__.doc.createElement("img");H.f(".tag",aC).appendChild(tmpDom);tmpDom.src="http://mat1.gtimg.com/finance/images/stock/p/cms/270c4aa529bb733d.png";tmpDom.style.verticalAlign="text-bottom";tmpDom.style.marginLeft="2px";tmpDom.title="\u884c\u60c5\u5ef6\u65f615\u5206\u949f"}U.appendChild(aC);if(aG){H.addClass(H.f(".tag",aC),"tag-first")}aG=false;aC.style.display="block";aC.className="open";F.on(H.f(".tag",aC),"click",(function(aM){var aL=aC;return function(){if(aL.className=="open"){z(aL)}else{G(aL)}az="";try{__.app.pstkManager.boss("pstock102","")}catch(aN){}}}()));A.e(au.data[aF],function(aL){if(aL[0]){aK.push(ac(aL))}})}}az=aK.length<1?(!ax&&az||""):aK.join(",");if(az===""){ax=true}if(aJ){K=aJ}if(ay){if(K){var aD=R.jobs[4]||R.jobs[5],aE,aB,aI;for(aE=0,aB=aD.length;aE<aB;aE++){if(aD[aE].id==ay){aI=aD[aE];break}}if(aI&&aI.qtName.indexOf("s_"+K)<0){aI.qtName+=",s_"+K}}R._run(ay)}else{ay=R.subscribe({qtName:aj(),noWait:true,judge:function(aL){var aN=this.qtName.split(","),aM=this;if(H.f("#yka1").style.display=="none"&&!v){this.qtName=""}else{this.qtName=aj()}if(K&&aM.qtName.indexOf("s_"+K)<0){aM.qtName+=",s_"+K}if(__.app.pstkManager.useRt()){aM.qtName=aM.qtName.replace(/hk/g,"r_hk")}if(aL%4===0&&o===true||D){return 3}return 0},interval:4,onOk:function(){ax=true;var aN={},aM={},aL;A.e(this.qtName.split(","),function(aO){if(I["v_"+aO]){if(__.app.pstkManager.useRt()){aL=aO.replace("r_hk","hk")}else{aL=aO}aN[aL]=I["v_"+aO];if(__.app.pstkManager.QT[aL]!=aN[aL]||aL=="s_"+K){aM[aL]=true}}});V(aN,aM)}})}},f=function(aA,aB){NEWSTOCKPROXY.add(q(),aA,function(){if(I.stockInfo){W(I.stockInfo);I.stockInfo=null;if(au.code===0||au.code===7){G(H.f("pstk-data-"+ap(aA)));Y(aA.replace(/\.[^\.]+$/,"").replace(/[^a-zA-Z0-9$_]/g,"__"));if(au.code===7){M('<span style="color:red;">\u8be5\u80a1\u7968\u5df2\u7ecf\u5b9a\u5236</span>')}else{try{__.app.pstkManager.boss("pstock105","")}catch(aC){}}}else{var aD=au.msg||ah[au.code];__.app.pstkManager.msg(aD)}if(typeof aB=="function"){aB(au)}}})},S=function(aA,aC,aB){if(aC&&aB){__.app.msgbox.o("confirm-delete",{html:"\u786e\u5b9a\u5220\u9664\u201c"+__.app.pstkManager.trimName(aB,12)+"\u201d\uff1f",position:aA,parent:H.f("#pstk-div"),EV_click_OK:function(){NEWSTOCKPROXY.del(q(),aC,function(){if(I.stockInfo){W(I.stockInfo);I.stockInfo=null;if(au.code===0){H.remEl(aA);Y();__.app.pstkManager.msg("\u6210\u529f\u5220\u9664\u201c"+__.app.pstkManager.trimName(aB,12)+"\u201d");try{__.app.pstkManager.check()}catch(aD){}}else{var aE=au.msg||ah[au.code];__.app.pstkManager.msg(aE)}}});__.app.msgbox.close("confirm-delete")},EV_click_CANCLE:function(){__.app.msgbox.close("confirm-delete")}},__.app.pstkManager.recentCode.confirm_delete)}},J={},Z=function(aN){var aA=aN.parentNode.parentNode,aB=aA.id.substr(10),aC=aN.getAttribute("stockinfo");if(aB&&au.data[aB]){var aL=[],aJ=false,aG=au.data[aB],aH=0,aE=aG.length,aF=0,aO=H.$("li",aA),aI,aM=[];for(;aH<aE&&aF<aO.length;){var aD=false,aK=0;for(;aK<aL.length;aK++){if(aL[aK]==aG[aH][0]){aH++;aD=true;break}}if(aD){continue}aI=aO[aF].getAttribute("stockinfo").split("~");aM.push(aI);if(aI[0]!=aG[aH][0]){aL.push(aI[0]);aF++;aJ=true}else{aL.push(aI[0]);aH++;aF++}}if(aJ){if(J[aB]){clearTimeout(J[aB]);J[aB]=0}J[aB]=setTimeout(function(){J[aB]=0;NEWSTOCKPROXY.ord(q(),aL,function(aQ){var aR=aQ.code===0?"\u65b0\u7684\u5217\u8868\u987a\u5e8f\u5df2\u4fdd\u5b58":aQ.msg||ah[aQ.code]||"";__.app.pstkManager.msg(aR);au.data[aB]=aM;try{__.app.pstkManager.boss("pstock103","")}catch(aP){}F.fire(ad,"du-boss:send",{sOp:11})})},500)}}},U=null,R,ax=false,q=function(){var aA=L.get("uin");if(aA&&aA.length>1&&aA.charAt(0)=="o"){aA=aA.replace(/^o0*/g,"")}else{aA=L.get("luin");if(aA&&aA.length>1&&aA.charAt(0)=="o"){aA=aA.replace(/^o0*/g,"")}else{aA=Math.random()}}return aA},an=function(){var aB=L.get("uin");var aA=L.get("skey");if(aB&&aB.length>1&&aB.charAt(0)=="o"&&aA&&aA.length>1){return true}else{aB=L.get("luin");aA=L.get("lskey");if(aB&&aB.length>1&&aB.charAt(0)=="o"&&aA&&aA.length>1){return true}else{return false}}return false},k=function(){},T=function(aA){if(U){A.e(H.$("ul li",U),function(aB){if(aB==aA){H.addClass(aB,"del")}else{H.remClass(aB,"del")}})}},aq=function(aA){if(ax){return}ag=aA;if("cron" in aA){R=aA.cron}else{R=new c.CronLoader()}l=new __.app.scroll({div:"pstk-div",always_display:true,step:22});U=l.getContent();var aB=function(){if(I.stockInfo){W(I.stockInfo);Y();ai=au.code===0?true:false;I.stockInfo=null}else{ax=true}am();if(ai){F.fire(ad,"du-boss:send",{sOp:15})}if(aA&&typeof aA.onLogin==="function"){aA.onLogin(ai)}if(aA&&typeof aA.onLoad==="function"){k=aA.onLoad}if(!ai||!o){__.app.pstkManager._onReadyStatus(1);try{__.app.QosSS.set("pstock");if(o===true){__.app.pstkManager._onReadyStatus(2);__.app.QosSS.set("recentCode")}}catch(aC){}}};if(an){NEWSTOCKPROXY.get(q(),aB)}else{I.stockInfo={code:4,msg:"\u60a8\u5c1a\u672a\u767b\u5f55\uff01",data:{stock:""}};aB()}if(!("cron" in aA)){R.start()}F.on(U,"click",function(aG){aG=aG||window.e;var aD=aG.target||aG.srcElement;if(H.hasClass(aD,"delete")){var aC=aD.parentNode;var aF=aC&&aC.getAttribute("stockinfo"),aE=aC&&aC.getAttribute("stockname");aF=aF&&aF.split("~");S(aC,aF[0],aE)}});A.e(H.$(".div-btn div"),function(aD,aC){F.on(aD,"mouseover",(function(aF){var aE=aD;return function(){if(aE.className!="line"){aE.className="on"}}}()));F.on(aD,"mouseout",(function(aF){var aE=aD;return function(){if(aE.className!="line"){aE.className="off"}}}()));F.on(aD,"click",function(aG){aG=aG||window.event;var aE=aG.target||aG.srcElement,aF=aE.getAttribute("clickaction")||aE.parentNode.getAttribute("clickaction");if(aF=="0"){try{__.app.pstkManager.boss("pstock104","")}catch(aG){}return}else{if(aF=="1"){try{__.app.pstkManager.boss("pstockclick","logout")}catch(aG){}ai=false;au={code:-1,msg:"",data:{}};am();L.del("uin","/","qq.com");L.del("skey","/","qq.com");L.del("luin","/","qq.com");L.del("lskey","/","qq.com");if(aA&&typeof aA.onLogin==="function"){aA.onLogin(ai)}return}else{if(aF=="clear-recnt"){try{__.app.pstkManager.recentCode.clearCookie()}catch(aG){}}}}})});F.on(H.f(".div-btn .btn1"),"click",function(){window.open("http://stockapp.finance.qq.com/pstock/","_blank");try{__.app.pstkManager.boss("pstock104","")}catch(aC){}});F.on(I,"unload",function(){var aD=[],aC=l._top;A.e(H.$("div.close",U),function(aE){aD.push(aE.id.substr(10))});L.set("fn-pstk-stat",[aD.join("~"),aC].join("^"),{path:"/",domain:"stockhtm.finance.qq.com"})});c.Event.on(ad,"mouseover",function(aE){aE=aE||window.event;var aD=aE.target||aE.srcElement,aC=aD.tagName&&aD.tagName.toLowerCase();if(H.contains(U,aD)&&aC!="div"){while(aC&&aC!="li"&&aC!="ul"&&aC!="div"){aD=aD.parentNode;aC=aD.tagName&&aD.tagName.toLowerCase()}if(aC=="li"){T(aD)}}else{T(null)}});c.Event.on(U,"mousedown",function(aK){aK=aK||window.event;var aI=aK.target||aK.srcElement,aH=0;while(aH<3){if(aI.tagName=="LI"){break}aI=aI.parentNode;aH++}if(aH>=3){return}if(aI.tagName=="LI"){var aF=H.$("li",aI.parentNode),aG=aI.offsetTop-aF[0].offsetTop,aN=aF[aF.length-2<0?0:aF.length-2].offsetTop-aI.offsetTop+aI.clientHeight,aJ=aI.offsetTop,aC="pstock-dd-agent",aL=false,aE=aI.className.split("~");var aD=H.f(aC);if(!aD){aD=H.addEl({id:aC,css:"width:170px;height:22px;border:1px dashed #f00;opacity:.8;filter:alpha(opacity=80);position:absolute;visibility:hidden;color:#0C3B8D;line-height:22px;font-family:Tahoma;"},U)}var aO=aI.offsetLeft,aM=aI.offsetTop;aD.style.left=aO+"px";aD.style.top=aM+"px";aD.innerHTML='<span style="padding-left:15px;">'+aI.getAttribute("stockname")+"</span>";aD.moved=false;ak(aK,aD,false,{t:aG,b:aN,l:0,r:0},function(aR,aQ,aP){aD.style.visibility="hidden";aD.style.top="0";aD.style.cursor="default";aI.style.visibility="visible";R.resume();l._send_event=false;Z(aI)},function(aR,aS,aQ){var aV=aS-aM-(aI.offsetTop-aJ),aP=aI,aW=aP,aT=aV>0?"nextSibling":"previousSibling",aU=aV>0?"insertAfter":"insertBefore";if(Math.abs(aV)<3){return}if(!aL){aL=true;R.pause();aI.style.visibility="hidden";aD.style.visibility="visible";aD.style.cursor="url(http://mat1.gtimg.com/finance/stock/product/qq-diy/closedhand.cur),move";l._send_event=true}if(aV!==0){while((aW=aP[aT])!==null){if(Math.abs(aW.offsetTop-aI.offsetTop)>=Math.abs(aV)+10){break}aP=aW}if(aP!=aI){H[aU](aI,aP)}}},U)}})};return{start:function(){o=true;if(ax){Y()}},stop:function(){o=false},init:aq,scroll:function(){return l},add:f,isLogin:function(){return ai},hasStock:function(aA){return ap(aA)!==null},getMkt:function(aB){var aA=ap(aB);if(aA!==null&&(aA in g)){return g[aA].type}return null},hasAlert:ae,_get_uin:q}}());c.set(d,a)}());(function(){var c=__,b="1.0.0",d="__.app.pstkManager.suspension",a=(function(){var g=c.Lang,f=c.Dom,l=c.config.win,k=function(){g.e(f.$("a.suspension_loading"),function(p){f.remClass(p,"suspension_loading");if(p.title){return}var m=p.getAttribute("symbol");if(m){if(m.substr(0,2)=="hk"){p.title="\u505c\u724c";p.href="http://stockhtm.finance.qq.com/hk/quotpage/q/"+m.substr(2)+".htm#notice";return}if(l["suspension_"+m]){p.title=l["suspension_"+m]["REASON"]+" "+l["suspension_"+m]["PERIOD"];p.href="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+m.substr(2)+".htm#notice"}else{p.title="\u505c\u724c";c.load("http://stockjs.finance.qq.com/sstock/list/suspension/js/"+m+".js?"+Math.random(),(function(){var q=p,o=m;return function(){if(l["suspension_"+o]){q.title=l["suspension_"+o]["REASON"]+" "+l["suspension_"+o]["PERIOD"];q.href="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+o.substr(2)+".htm#notice"}else{q.title="\u505c\u724c"}}}()))}}})};return{load:k}}());c.set(d,a)}());(function(){var c=__,b="1.0.0",d="__.app.pstkManager.message",a=(function(){var q=c.Lang,v=c.Event,z=c.Dom,l={},k=null,f=function(){k=new __.widget.MsgPopup({uin:__.app.pstkManager.pstock._get_uin()});v.on(document,"du-al:onsaved",function(A){try{if(A.memo.sdData[6]==1){try{__.app.pstkManager.boss("pstock203","")}catch(A){}__.app.msgbox.o(0,{html:"\u81ea\u9009\u80a1\u63d0\u9192\u4fe1\u606f\u5df2\u4fdd\u5b58",HTML_FOOT:""});g(true)}else{g(false)}}catch(A){}});v.on(document,"du-al:onerror",function(A){return})},m=function(){try{__.app.pstkManager.boss("pstock202","")}catch(A){}if(k){k.open(l.symbol,l.mkt)}else{__.load("widget.msgpopup:2.0",function(){f();k.open(l.symbol,l.mkt)})}},t=function(){if(!o){return}if(!__.app.pstkManager.pstock.isLogin()){__.app.pstkManager.set_cookie(1,l.symbol);__.app.pstkManager.set_cookie(2,1);__.app.login.open({mask:false});return}__.app.pstkManager.set_cookie(1,"");__.app.pstkManager.set_cookie(2,"");l.mkt=__.app.pstkManager.pstock.getMkt(l.symbol);if(l.mkt!==null){if(__.app.pstkManager.message.status==100){try{__.app.pstkManager.boss("pstock204","")}catch(A){}__.app.pstkManager.message.status=0}m()}else{__.app.msgbox.o("confirm",{html:"\u201c"+l.name+"\u201d",EV_click_OK:function(){__.app.pstkManager.message.status=100;__.app.pstkManager.add();__.app.msgbox.close("confirm")},EV_click_CANCEL:function(){__.app.msgbox.close("confirm")},autoclose:0},{css:"width: 470px;position:absolute;background-color:#FFFFFF",html:'<table style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) repeat-x scroll 0 -328px transparent;height:28px;line-height:28px" border="0" cellpadding="0" cellspacing="0" width="470"><tr><td style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) no-repeat scroll -356px -300px transparent;color:#FFFFFF;font-size:14px;font-weight:bold;" ><div style="margin: 6px 5px 0 6px; width: 16px; height: 15px; background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) -369px -60px no-repeat;float:left;overflow:hidden;" ></div>\u81ea\u9009\u80a1\u63d0\u9192</td><td width="29"><div class="_msgbox_CLOSE" style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) repeat scroll -402px -89px transparent;cursor:pointer;height:18px;overflow:hidden;width:29px;"></div></td><td style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) no-repeat scroll -349px -300px transparent;width:7px;"></td></tr></table><div style="border-left:1px solid #9CA7BE;border-right:1px solid #9CA7BE;width:468px;overflow:hidden;font-size:14px;"><table width="428" cellspacing="0" cellpadding="0" border="0"><tr><td align="right" style="padding-right: 24px; height: 106px;"></td><td width="316"><div style="margin:25px 0 0 auto;">\u8bbe\u7f6e\u63d0\u9192\uff0c\u9700\u8981\u5c06<span style="font-weight:bold" class="_msgbox_HTML"></span>\u52a0\u5165\u81ea\u9009\u80a1</div><div style="margin:15px 0 15px auto;">\u786e\u5b9a\u52a0\u5165\u81ea\u9009\u80a1\u5e76\u7ee7\u7eed\u8bbe\u7f6e\u63d0\u9192\u5417\uff1f</div></td></tr></table></div><table style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) repeat-x scroll 0 -263px transparent;height:37px;" border="0" cellpadding="0" cellspacing="0" width="470"><tbody><tr><td style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) no-repeat scroll -388px -74px transparent;width:3px;"></td><td style="text-align: right; color: rgb(255, 0, 0); padding-right: 10px;" class="dlg-error-notice">&nbsp;</td><td width="89"><span style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) repeat scroll -224px -89px transparent;border:medium none;color:#333333;cursor:pointer;display:block;height:22px;line-height:23px;overflow:hidden;text-align:center;width:76px;" class="EV_click_OK">\u786e\u5b9a</span></td><td width="83"><span style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) repeat scroll -224px -89px transparent;border:medium none;color:#333333;cursor:pointer;display:block;height:22px;line-height:23px;overflow:hidden;text-align:center;width:76px;" class="EV_click_CANCEL">\u53d6\u6d88</span></td><td style="background:url(http://mat1.gtimg.com/finance/st/p/stock-diy/hk_zx5.gif) no-repeat scroll -392px -74px transparent;width:3px;"></td></tr></tbody></table>'})}},g=function(A){l.alert=A;if(!p){return}if(l.alert){p.innerHTML="\u4fee\u6539\u63d0\u9192"}else{p.innerHTML="\u80a1\u4ef7\u63d0\u9192"}},p=z.f("#btn-alert"),u=z.f("#btn-notice"),o=false,s=function(A){q.objExtend(l,A);g(l.alert);if(o){return}__.onReady(function(){p=z.f("#btn-alert");u=z.f("#btn-notice");if(p){v.on(p,"click",function(){t();try{__.app.pstkManager.boss("pstock200","")}catch(B){}})}if(u){v.on(u,"click",function(){t();try{__.app.pstkManager.boss("pstock201","")}catch(B){}});v.on(u,"mouseover",function(){__.app.msgbox.o("btn-notice-title",{html:"\u8bbe\u7f6e\u63d0\u9192\u540e\uff0c\u5f53\u6709\u65b0\u516c\u544a\u6216\u7814\u62a5\u65f6\uff0c\u7b2c\u4e00\u65f6\u95f4\u901a\u8fc7QQ\u6d88\u606f\u63d0\u9192\u60a8\u3002",position:u,autoclose:3},{css:"width:150px;background-color:#FFFF99;position:absolute;"})});v.on(u,"mouseout",function(){__.app.msgbox.close("btn-notice-title",0.1)})}});o=true};return{alert:t,init:s,isInited:function(){return o}}}());c.set(d,a)}());(function(){__.app.login.init({code:g_Code,appn:"stock",active:1});__.app.pstkManager.onReady(function(){__.QosSS.set("pstockpanel")});try{__.QosSS.set("pstockpanel")}catch(a){}__.app.pstkManager.init({code:g_Code,type:g_Type,symbol:g_Symbol,name:g_Name,add:true})}());(function(){var a=__;a.set("__.app.leftmenu");a.app.leftmenu=(function(){var b=a.Dom,m=a.Event,c=a.Lang,g=a.log,f=a.config.win,d=a.Table,l=d.processors,k=function(q){var p=q.nextSibling;var o;if(p.nodeType==1){o=p}else{if(p.nodeType==3){o=p.nextSibling}}o.className=o.className=="undis"?"":"undis";q.getElementsByTagName("span")[0].className=q.getElementsByTagName("span")[0].className=="left-icon-1"?"left-icon-2":"left-icon-1"};return{init:function(s){s=s||"new-info-meun";var q=b.f(s),p=q.getElementsByTagName("dt");for(var o=0;o<p.length;o++){p[o].onclick=(function(){var t=p[o];return function(){k(t)}}())}}}}())}());__.app.leftmenu.init("mod-sidenav");(function(){var c=__,b="1.0.0",d="__.app.stock.quotpage.main",a=(function(){var K=c.Dom,u=c.config.win,E=c.Lang,o=c.config.doc,A=c.Table,t=A.processors,J=c.Event,F=[],g=0,L=function(M){if(g==M){return}g=M;if(g==1){v()}},v=function(M){if(__.lang.isFunction(M)){F.push(M)}if(g==1){__.each(F,function(N){N()})}},z={},l=function(S,M,Q){var O=Number(S);var R=__.lang.isString(S)?S:String(O),N=R.length;if(N<=M){return R}var P=R.indexOf(".");if(P==M){return O.toFixed(0)}if(P>=0&&P<M){return O.toFixed(M-P-1)}R=O.toFixed(0);if(Q=="ch"){N=R.length;if(N<=2){return R}if(N-2>M){return l(O/100000000,M-2)+"\u4ebf"}return l(O/10000,M-2)+"\u4e07"}return R},C=0,G=[],B=[],m=function(Q,P,N){N=N===true?true:false;Q=__.Dom.f(Q);if(!Q){return}var M=parseFloat(Q.innerHTML),R=parseFloat(P),O;if(!isNaN(M)&&!isNaN(R)&&M!=R||N){if(R>M){O="#FFE1E1"}else{O="#DfF9Df"}this.push([Q,""]);Q.style.backgroundColor=O}Q.innerHTML=P},q=function(O,N,M){E.e(M,function(T,P){var S=K.f(O+P);if(S){var Q="--";if(typeof T=="string"){Q=T}else{if(typeof T=="function"){try{Q=T(N,S,P)}catch(R){}}else{if(N&&N[T]){Q=N[T]}}}S.innerHTML=Q}});if(G.length){setTimeout(function(){__.Lang.e(G,function(P){P[0].style.backgroundColor=""});G=[]},800)}},f=[function(M){return t.L_PRICE(M)},function(M,P){var N="";if(M[31]>0){N="data_up"}else{if(M[31]<0){N="data_down"}}P.className=N;return""},function(M,N){return['<span class="fr">',t.L_PERCENT(M),"</span>",t.GET_SIGNED_COLOR(M[31],M[31])].join("")},function(M,N){return[M[30].substr(4,2),"-",M[30].substr(6,2)," ",M[30].substr(8,2),":",M[30].substr(10,2),":",M[30].substr(12,2)].join("")},4,5,33,34,function(M,O){var N=M[36]<100000?M[36]:(l(M[36]/10000,4)+"\u4e07\u624b");m.apply(G,[O,N,D]);return N},function(M,O){var N=M[37]>=100000?(l(M[37]/10000,5)+"\u4ebf"):(l(M[37],5)+"\u4e07");m.apply(G,[O,N,D]);return N},function(M,O){var N=M[45]?(M[45]>=10000?(l(M[45]/1000,3)+"\u5343\u4ebf"):(l(M[45],4)+"\u4ebf")):"--";m.apply(G,[O,N,D]);return N},function(M,O){var N=M[44]?(M[44]>=10000?(l(M[44]/1000,3)+"\u5343\u4ebf"):(l(M[44],4)+"\u4ebf")):"--";m.apply(G,[O,N,D]);return N},function(M,O){var N=M[38]?(l(M[38],4)+"%"):"--";m.apply(G,[O,N,D]);return N},function(M,O){var N=M[46]||"--";m.apply(G,[O,N,D]);return N},function(M,O){var N=l(M[43],4)+"%";m.apply(G,[O,N,D]);return N},function(M,O){var N=(M[39]===""||M[39]==="0")?"--":(M[39]<0?"\u4e8f\u635f":l(M[39],5));m.apply(G,[O,N,D]);return N},function(M,O){var N=M.WeiBi=="--"?"--":__.fnTable.processors.GET_PERCENT(M.WeiBi);m.apply(G,[O,N,D]);return N},function(M,O){var N=__.fnTable.processors.GET_COLOR(M.WeiCha,M.WeiCha);m.apply(G,[O,N,D]);return N},9,function(M){return l(M[10],4)},11,function(M){return l(M[12],4)},13,function(M){return l(M[14],4)},15,function(M){return l(M[16],4)},17,function(M){return l(M[18],4)},19,function(M){return l(M[20],4)},21,function(M){return l(M[22],4)},23,function(M){return l(M[24],4)},25,function(M){return l(M[26],4)},27,function(M){return l(M[28],4)},function(M){if(M[40].indexOf("D")>=0){return t.GET_COLOR("\u9000\u5e02",1)}if(M[40].indexOf("S")>=0){return t.GET_COLOR("\u505c\u724c",1)}return t.L_PRICE(M)},function(M){return t.GET_COLOR(l(M[7],0),1)},function(M){return t.GET_COLOR(l(M[8],0),-1)},function(M){var N=['<table width="207" border="0" cellpadding="0" cellspacing="0" class="l20 list" style="margin-left:13px;">'];__.each(M[29].split("|"),function(S,Q){if(Q>4){return}var R=S.split("/"),O="--",P=0;if(R.length>3){if(R[3]=="B"){O="\u4e70\u76d8";P=1}else{if(R[3]=="S"){O="\u5356\u76d8";P=-1}else{O="\u4e2d\u6027";P=0}}N.push('<tr><th width="60">',R[0],'</th><td width="44">',R[1],'</td><td width="55">',R[2],"</td><td>",__.fnTable.processors.GET_COLOR(O,P),"</td></tr>")}});N.push("</table>");return N.join("")}],H=function(P){if(P){var N=0,M=P.style.color,Q=setInterval(function(){N+=1;if(N>4){return clearInterval(Q)}if(P.style.color===M){P.style.color="#b8b8b8"}else{P.style.color=M}return""},100)}},I=function(M){if(C){z.cron._run(C);return}var N=function(P){if(u["v_"+z.symbol]){var V=1;var O=u["v_"+z.symbol].split("~");var X="";if(O[31]>0){X="+"}o.title=O[1]+" "+O[3]+" "+O[31]+"("+X+O[32]+"%)_\u8d22\u7ecf\u9891\u9053_\u817e\u8baf\u7f51";var Q=parseFloat(O[10])+parseFloat(O[12])+parseFloat(O[14])+parseFloat(O[16])+parseFloat(O[18]),W=parseFloat(O[20])+parseFloat(O[22])+parseFloat(O[24])+parseFloat(O[26])+parseFloat(O[28]),T=Q-W,R=Q+W,S=R>0?(T*100/R).toFixed(2):"--";O.WeiBi=S;O.WeiCha=T;__.dom.f("#mod-hqpanel .col-1-1").innerHTML=O[1];q("main-",O,f);if(B.length>0&&B[3]!=O[3]||D){H(K.f("#main-0 span")||K.f("#main-0"))}try{__.app.stock.quotpage.flashmgr.refreshQuot(u["v_"+z.symbol])}catch(U){V=0}try{_fdp_refreshKLine(u["v_"+z.symbol])}catch(U){}D=false;B=O;try{__.app.stockStat.priceChange(O)}catch(U){}try{__.app.QosSS.set("main")}catch(U){}try{__.app.cateRanka.update()}catch(U){}L(V)}};N();C=z.cron.subscribe({name:"main",noWait:M,judge:4,interval:4,qtName:z.symbol,onOk:N})},p=function(){v(function(){if(C){z.cron.unsubscribe(C)}C=0})},k=false,D=false,s=function(M){if(k){return}k=true;for(var N in M){z[N]=M[N]}if(!("cron" in M)){z.cron=new c.CronLoader()}I();if(!("cron" in M)){z.cron.start()}J.on(K.$("#mod-hqpanel .col-1-1,#mod-hqpanel .col-1-2"),"click",function(){D=true;I()})};return{init:s,start:function(){I(true)},stop:p,onReady:v}}());c.set(d,a)}());(function(){var l,k,s,q,p="http://stock.qq.com/",o="http://stockhtm.finance.qq.com/sstock/ggcx/",m;l=__.Dom.f("#isHgt");k=l.getAttribute("hgt");s=l.getAttribute("aph");q=/sh.*/;if(k=="1"){if(!!s){m=p+s;if(q.test(s)){m=s.replace(/sh/,"");m=o+m+".shtml"}l.innerHTML='<a href="'+m+'"><img title="\u8BE5\u80A1\u4E3A\u6CAA\u80A1\u901A\u6807\u7684\u80A1" src="http://mat1.gtimg.com/finance/images/stock/p/quotpage/63300938d4220e19.png" border="0" /></a>'}else{l.innerHTML="<img title='\u8BE5\u80A1\u4E3A\u6CAA\u80A1\u901A\u6807\u7684\u80A1' src='http://mat1.gtimg.com/finance/images/stock/p/quotpage/63300938d4220e19.png' border='0'/>"}}})();var _CRON=new __.CronLoader();__.app.tophot.onReady(function(){__.QosSS.set("tophot")});__.app.tophot.init(_CRON);__.app.stock.quotpage.main.onReady(function(){__.QosSS.set("hqpanel")});__.app.stock.quotpage.main.init({symbol:g_Symbol,cron:_CRON});__.app.stdTime.init({cron:_CRON,onStdTimeChange:function(b,a){if(a==1){try{__.app.news.show()}catch(c){}}},onMktStatChange:function(b,a){__.app.stockStat.mktStatChange(b)}});__.app.stockStat.init({code:g_Code,type:g_Type,symbol:g_Symbol,onTFP:function(b,d,a){if(b=="close"&&a!="\u96c6\u5408\u7ade\u4ef7"||b=="open"&&d){__.app.stock.quotpage.main.stop();try{__.app.stock.quotpage.rank.stop()}catch(c){}if(d){document.title=g_Name+"_\u505c\u724c_\u8d22\u7ecf\u9891\u9053_\u817e\u8baf\u7f51"}}else{__.app.stock.quotpage.main.start();try{__.app.stock.quotpage.rank.start();__.app.stock.quotpage.board.start()}catch(c){}}}});_CRON.start();__.app.multiexchange.init({main:g_Symbol,other:g_MultiExch});(function(){var a=new __.app.marquee({dom:__.dom.f("#mod-tztips .tztips-box"),speed:20,timeout:5000});__.event.on("#tztips-up","click",function(){a.scroll("up");if(a.scrolling){a.start("up")}});__.event.on("#tztips-down","click",function(){a.scroll("down");if(a.scrolling){a.start("down")}})}());var _fdp_conf={minute_maxage:"10",latest_daily_maxage:"43201",latest_weekly_maxage:"43201",latest_monthly_maxage:"43201",daily_maxage:"6000002",weekly_maxage:"6000001",monthly_maxage:"6000001",swf_min_maxage:"9000090",swf_kline_maxage:"9000092",swf_load_maxage:"9000092",k_amount:70,min_refresh:2,kline_refresh:60,draw_rat:30,prefix:"",code:"",type:"daily",color:"0",base1:"http://data.gtimg.cn/flashdata/hushen/",base2:"http://qt.gtimg.cn/q=",swf_base:"http://data.gtimg.cn/web/",swfId:navigator.userAgent.match(/MSIE/)?"_fdp_swfobj":"_fdp_swfemb",ctnPrefix:"_fdp_ctn",flashCtn:"flash_quote_ctn_old"};var _fdp_isJsReady,_fdp_getDataByUrl=function(){};var _fdp_isFlashReady=false,_fdp_refreshKlineTimeId=-1;function _fdp_setFlashReady(a){_fdp_isFlashReady=a}function testjs(a){}function testjs123(a){}(function(){var o=false,d=false,b=0,l=false,a=window,m=function(s){try{var p=_fdp_conf.swfId,t=s.fun||"sendData";p=document.getElementById(p);p[t](s)}catch(q){}},g=a._fdp_conf||{},k=[false,false,false,false];g.base1=g.base1||"http://data.gtimg.cn/flashdata/hushen";g.base2=g.base2||"http://qt.gtimg.cn";g.ready=true;var c=function(p){return(typeof p=="object")?p:document.getElementById(p)};var f=function(q){var p=(function(){if(window.JsLoader!=undefined){return function(s,t){JsLoader.load(q,s,t)}}else{if(window.__&&typeof __.load=="function"){return function(s,t){__.load(s,t)}}else{return null}}}());return p};_fdp_isJsReady=function(){return o?g:{ready:false}};_fdp_getDataByUrl=function(u){var t=u.url,s="flash_data",q=false;if(!t){u.status=404;m(u)}if(u.name){s=u.name}else{if(g.code&&t.indexOf(g.base1)<0){s="v_"+(g.prefix?g.prefix:"")+g.code}}if(a[s]){if(u.needRefresh===true){a[s]=null}else{setTimeout(function(){u.status=200;u.data=s+'="'+a[s]+'";\n';m(u)},10);return}}t=t.replace(/\.txt\?/,".js?");var p=f("_script_flash_get_data_");if(!p){u.status=404;m(u);q=true}else{p(t,function(){if(a[s]){u.data=s+'="'+a[s]+'";\n';u.status=200;a[s]=null}else{u.status=404}if(!q){m(u);q=true}})}setTimeout(function(){if(!q){u.status=404;m(u)}},3000)};a._fdp_load=function(A){var B=6;A=parseInt(A,10);A=A>0&&A<B?A:1;_fdp_conf.currentType=A;if(A==4||A==5){c(_fdp_conf.flashCtn).className="flash_undis";window.setTimeout(function(){c("flash_quote_ctn").className="";if(__.app.stock.quotpage.flashmgr){__.app.stock.quotpage.flashmgr.switchView(A)}},15)}else{c("flash_quote_ctn")?c("flash_quote_ctn").className="flash_undis":"";c("flash_quote_ctn_5day")?c("flash_quote_ctn_5day").className="flash_undis":"";c(_fdp_conf.flashCtn).className="";var v=_fdp_conf.ctnPrefix,z=c,u,q,p,C="1",D={1:function(){return 1},2:function(){return 3},3:function(){return 5},4:function(){return 0}};A=D[A]();var s=c(_fdp_conf.swfId);var t=function(E){window.clearTimeout(_fdp_refreshKlineTimeId);if(_fdp_isFlashReady){try{s.changeType(E)}catch(F){}}else{_fdp_refreshKlineTimeId=window.setTimeout(function(){t(E)},200)}};t(A)}};a._fdp_init=function(p,t){p=p||_fdp_conf.flashCtn;if(!d&&!!t){d=true;var s=new SWFObject(g.swf_base+"load_new_v2.0.1.swf?r="+Math.random(),_fdp_conf.swfId,"525","330","10.0.1","#fcfcfc"),q=t.split("~"),u=q[2],v=(q[0]=="1"?"sh":"sz")+u;name=q[1],date=q[30];s.addParam("allowNetworking","all");s.addParam("allowScriptAccess","always");s.addParam("allowFullScreen","true");s.addParam("wmode","opaque");s.addVariable("code",g_Code);s.addVariable("symbol",v);s.addVariable("name",encodeURIComponent(name));s.addVariable("qt",t);s.addVariable("date",date);s.write(p);o=true}};a._fdp_refreshKLine=function(q){var p=c(_fdp_conf.swfId);if(!d){_fdp_init(null,q)}else{if(!!p){try{p.qtUpdate(q)}catch(s){throw s}}}};document.body.onmouseup=function(){var p=c(_fdp_conf.swfId);if(!!p){try{p.onMouseUp()}catch(q){}}}})();var $=function(a){return document.getElementById(a)};JSON=new function(){this.decode=function(){var filter,result,self,tmp;if($$("toString")){switch(arguments.length){case 2:self=arguments[0];filter=arguments[1];break;case 1:if($[typeof arguments[0]](arguments[0])===Function){self=this;filter=arguments[0]}else{self=arguments[0]}break;default:self=this;break}if(rc.test(self)){try{result=e("(".concat(self,")"));if(filter&&result!==null&&(tmp=$[typeof result](result))&&(tmp===Array||tmp===Object)){for(self in result){result[self]=v(self,result)?filter(self,result[self]):result[self]}}}catch(z){}}else{throw new JSONError("bad data")}}return result};this.parse=this.decode;this.encode=function(){var self=arguments.length?arguments[0]:this,result,tmp;if(self===null){result="null"}else{if(self!==undefined&&(tmp=$[typeof self](self))){switch(tmp){case Array:result=[];for(var i=0,j=0,k=self.length;j<k;j++){if(self[j]!==undefined&&(tmp=JSON.encode(self[j]))){result[i++]=tmp}}result="[".concat(result.join(","),"]");break;case Boolean:result=String(self);break;case Date:result='"'.concat(self.getFullYear(),"-",d(self.getMonth()+1),"-",d(self.getDate()),"T",d(self.getHours()),":",d(self.getMinutes()),":",d(self.getSeconds()),'"');break;case Function:break;case Number:result=isFinite(self)?String(self):"null";break;case String:result='"'.concat(self.replace(rs,s).replace(ru,u),'"');break;default:var i=0,key;result=[];for(key in self){if(self[key]!==undefined&&(tmp=JSON.encode(self[key]))){result[i++]='"'.concat(key.replace(rs,s).replace(ru,u),'":',tmp)}}result="{".concat(result.join(","),"}");break}}}return result};this.stringify=this.encode;this.toDate=function(){var self=arguments.length?arguments[0]:this,result;if(rd.test(self)){result=new Date;result.setHours(i(self,11,2));result.setMinutes(i(self,14,2));result.setSeconds(i(self,17,2));result.setMonth(i(self,5,2)-1);result.setDate(i(self,8,2));result.setFullYear(i(self,0,4))}else{if(rt.test(self)){result=new Date(self*1000)}}return result};var c={"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d=function(n){return n<10?"0".concat(n):n},e=function(c,f,e){e=eval;delete eval;if(typeof eval==="undefined"){eval=e}f=eval(""+c);eval=e;return f},i=function(e,p,l){return 1*e.substr(p,l)},p=["","000","00","0",""],rc=null,rd=/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs=/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt=/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru=/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s=function(i,d){return"\\".concat(c[d])},u=function(i,d){var n=d.charCodeAt(0).toString(16);return"\\u".concat(p[n.length],n)},v=function(k,v){return $[typeof result](result)!==Function&&(v.hasOwnProperty?v.hasOwnProperty(k):v.constructor.prototype[k]!==v[k])},$={"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(o){return o instanceof o.constructor?o.constructor:null},string:function(){return String},"undefined":function(){return null}},$$=function(m){function $(c,t){t=c[m];delete c[m];try{e(c)}catch(z){c[m]=t;return 1}}return $(Array)&&$(Object)};try{rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}};var dataProxy={interval:300,timeId:-1,isReady:false,isFReady:false,jsonStr:"",_setTimeout:function(a){dataProxy.timeId=setTimeout(a,dataProxy.interval)},isJsReady:function(){dataProxy.isFReady=true;return dataProxy.isReady},initFlashHandler:function(g,a,c,f){var b=new SWFObject(g,"soFinance",c,f,"9.0.28","#fcfcfc");b.addParam("allowNetworking","all");b.addParam("allowScriptAccess","always");b.addParam("allowFullScreen","true");b.addParam("wmode","transparent");b.write(a);$(a)?$(a).style.backgroundColor="#fff":"";var m=b.installedVer;var k=m.major+"."+m.minor+"."+m.rev;var l=dataProxy.isInstallSwfPlayer(m.major,m.rev);var d=$(a).innerHTML;if(l===false){if(document.all){$(a).innerHTML='\u8bf7\u60a8\u66f4\u65b0\u60a8\u7684flashPlayer\u89e3\u6790\u5668\u3002<a href="http://download.macromedia.com/pub/labs/flashplayer10/flashplayer10_1_p3_activex_022310.exe">flashplayer\u4e0b\u8f7d(Internet Explorer) (1.87 MB)</a>'}else{$(a).innerHTML='\u8bf7\u60a8\u66f4\u65b0\u60a8\u7684flashPlayer\u89e3\u6790\u5668\u3002<a href="http://download.macromedia.com/pub/labs/flashplayer10/flashplayer10_1_p3_plugin_022310.exe">flashplayer\u4e0b\u8f7d(Firefox, Safari, Opera) (1.84 MB)</a>'}}else{if(d===""){$(a).innerHTML='\u7cfb\u7edf\u6b63\u5fd9\uff0c\u8bf7\u60a8\u70b9<a href="javascript:void(0);" onclick="window.location.href" target="_top">\u8fd9\u91cc\u5237\u65b0\u9875\u9762</a>\u3002'}}},setSwfDatas:function(a){if(dataProxy.jsonStr===""||dataProxy.jsonStr===null){dataProxy.jsonStr=JSON.encode(a)}else{dataProxy.jsonStr="";dataProxy.jsonStr=JSON.encode(a)}},swfBridageHandler:function(){dataProxy.setJsonDatas()},setJsonDatas:function(){if(dataProxy.isReady&&window.document.soFinance&&typeof(window.document.soFinance.dataSynchronous)!="undefined"){window.document.soFinance.dataSynchronous(dataProxy.jsonStr)}else{dataProxy._setTimeout("dataProxy.setJsonDatas()")}},setOnceJsonDatas:function(a){if(dataProxy.isReady&&window.document.soFinance&&typeof(window.document.soFinance.dataAsynchronous)!="undefined"){window.document.soFinance.dataAsynchronous(a)}else{dataProxy._setTimeout("dataProxy.setOnceJsonDatas('"+a+"')")}},setSwfStage:function(){if(typeof(window.document.soFinance)!="undefined"){window.document.soFinance.clearData()}else{dataProxy._setTimeout("dataProxy.setSwfStage()")}},isInstallSwfPlayer:function(a,b){if(a<"9"){return false}else{if(a=="9"){if(b<"28"){return false}else{return true}}else{return true}}},doAction:function(f,a){if(dataProxy.isReady&&window.document.soFinance&&typeof(window.document.soFinance.doAction)!="undefined"){if(typeof f=="string"){f=[f]}if(typeof a=="string"){a=[a]}for(var b=0;b<f.length;b++){var g=f[b];var d=a[b];d=(d==undefined||!d)?"{}":d;window.document.soFinance.doAction(g,d)}}else{dataProxy._setTimeout("dataProxy.doAction('"+f+"', '"+a+"')")}}};(function(){if(typeof __=="undefined"){window.__={}}if(__.app==undefined){__.app={}}if(__.app.stock==undefined){__.app.stock={}}if(__.app.stock.quotpage==undefined){__.app.stock.quotpage={}}__.app.stock.quotpage.flashmgr=(function(){var g=930;var F=1130;var a=1300;var u=1500;var t=function(L,M){M=M||"@Y@@M@@D@";L+="";L=L.replace(/[^0-9]*/ig,"");if(L.length<8){return""}else{M=M.replace("@Y@",L.substring(0,4)).replace("@M@",L.substring(4,6)).replace("@D@",L.substring(6,8));if(L.length>=10){M=M.replace("@H@",L.substring(8,10))}if(L.length>=12){M=M.replace("@i@",L.substring(10,12))}if(L.length>=14){M=M.replace("@s@",L.substring(12,14))}return M}};var E=function(M){var L=(function(){if(window.JsLoader!=undefined){return function(N,O){JsLoader.load(M,N,O)}}else{if(window.__&&typeof __.load=="function"){return function(N,O){__.load(N,O)}}else{return null}}}());return L};var o="";var C={status:1,mkt:"",code:"",name:"",date:"",time:"",trust_data:[],ymd:""};var q="";var I=function(L){var M=null;M=(C.all_data[L]==null||C.all_data[L]==undefined)?C.all_data[L]:null;return M};var H=function(L){};var z=function(){};var f=false;var c=false;var K=null;var s=false;var d=function(L){switch(L){case"D":case"d":break;case"S":case"s":break;case"U":case"u":break}};var J=-1;var b=function(L){dataProxy.doAction("showInfoBoxByIndex",JSON.encode({index:L}));window.clearTimeout(J);J=window.setTimeout(function(){dataProxy.doAction("hideInfoBox",JSON.encode({}))},5000)};var m=function(L){dataProxy.doAction("showInfoAlert",JSON.encode({index:L}))};var B=-1;var p=function(R){R=R===undefined||R===null?true:R;var V=6;var O=24;var U="http://news.gtimg.cn/news_ntc_rpt.php?q=@MKT_CODE@&date=@YMD@&encode=off&r=@RAND@";var P=function(aa){var Y=parseInt(aa/100);var Z=aa%100;Z+=V;if(Z>=60){Z=Z%60;Y++}aa=Y*100+Z;if(aa>F&&aa<a){aa=F}return aa};var T={"\u65b0\u95fb":1,"\u7814\u62a5":2,"\u516c\u544a":3};var Q=function(af,ad){var Y=0;try{var aa=T[decodeURIComponent(af.type)];var Z=T[decodeURIComponent(ad.type)];if(aa!=Z){Y=(aa-Z)*-1}else{var ae=af.time;var ac=ad.time;ae=parseInt(ae.replace(/:/ig,"").replace(/^0+/ig,""));ac=parseInt(ac.replace(/:/ig,"").replace(/^0+/ig,""));Y=(ae-ac)*-1}}catch(ab){}return Y};if(!C.ymd||C.ymd.length<8){return}var M=t(C.ymd,"@Y@-@M@-@D@");var N=U.replace(/@MKT_CODE@/ig,C.mkt+C.code).replace(/@YMD@/ig,M).replace(/@RAND@/ig,Math.random());var W=E("_script_min_news_");if(!W){return}W(N,function(){if(typeof window.news_ntc_rpt!="undefined"&&!!window.news_ntc_rpt){var am={};var Z=t(C.ymd);am.date=Z?Z.substring(4):"";am.typeURL={"\u65b0\u95fb":"http://stockhtm.finance.qq.com/sstock/quotpage/q/"+C.code+".htm#news","\u7814\u62a5":"http://stock.finance.qq.com/report/zqlb.php?zqdm="+C.code,"\u516c\u544a":"http://stockhtm.finance.qq.com/sstock/quotpage/q/"+C.code+".htm#notice"};am.data=null;var ag=("00"+g).slice(-4);var ab=-1;var ad=P(g);news_ntc_rpt.reverse();for(var af=0;af<news_ntc_rpt.length;af++){if(am.data==null){am.data={}}var ak=news_ntc_rpt[af];var ae=ak[0];var ai=ak[1];var aj=ak[2];if(aj.length>O){aj=aj.substring(0,O)+".."}aj=aj.replace(/(^\s|\s$)+/ig,"");var ah=ae.substring(5,10);ah=ah.replace(/-+/ig,"");if(ah!=am.date){continue}var aa=ak[3];switch(ai){case"news":ai="\u65b0\u95fb";break;case"report":ai="\u7814\u62a5";break;case"notice":ai="\u516c\u544a";break}var ac=ae.slice(-8,-6)+ae.slice(-5,-3);var al=ae.slice(-8,-3);ab=parseInt(al.replace(/^0+/ig,"").replace(/:/ig,""));var Y=parseInt(ac.replace(/^0+/ig,""));if(Y<=g){ac=(""+g).slice(-4)}else{if(Y>=F-5&&Y<=a+5){ac=F+""}else{if(Y>u){ac=u+""}}}if(Y>ad){if(am.data[ag]){am.data[ag].sort(Q)}ag=ac;ad=P(Y);if(ac==""+F){ad=P(a)}}if(!am.data[ag]){am.data[ag]=[]}am.data[ag].unshift({time:al,type:encodeURIComponent(ai),title:encodeURIComponent(aj),url:encodeURI(aa)})}if(am.data==null){am.data={"0":[]}}dataProxy.doAction("listNews",JSON.encode(am));if(!R){if(ab>B){m(ag)}}else{b(ag)}B=ab;X()}});var S=-1;var L=60000;var X=function(){window.clearTimeout(S);update_news_timeId=window.setTimeout(function(){p(false)},L)}};var k=null;var l=function(){if(!k){try{k=new __.app.boss({sBiz:"finance",iTy:272})}catch(L){k=null}}};var G=[];var v="http://data.gtimg.cn/flashdata/hushen/4day/@MKT@/@MKT@@CODE@.js?maxage=43200";var A=function(){var N=function(){dataProxy.doAction(["clearView","showMultiDayMin"],["{}",JSON.encode({count:5,data:G,step:3})])};if(G==null||G.length==0){var L=E("_script_multiday_data_");var M=v.replace(/@MKT@/ig,C.mkt).replace(/@CODE@/ig,C.code);L(M,function(){if(window.min_data_4d==undefined||!window.min_data_4d){return}G=[];min_data_4d.reverse();var P=0;var T=0;for(var U=0;U<min_data_4d.length;U++){var Q=min_data_4d[U];var Y={date:"",price_before:"0",volumn_before:"0",is_run:"true",data:[],name:"\u4e0a\u8bc1\u6307\u6570",code:"000001",fmt_time:"11-04 13:48:01",time:"20101104134801",decimal:"2"};var O=Q.date;Y.date=O;var S=Q.data;S=S.split("^");for(var R=0;R<S.length;R++){if(S[R]){var X=S[R].split("~");var V=X[1];if(V<=0){V=T}else{T=V}if(R==0){Y.data.push({time:"0925",price:V,cjl:0})}Y.data.push({time:X[0],price:V,cjl:X[2]})}}P=Q.prec||P;if(P==0){Y.price_before=Y.data[0]["price"]}else{Y.price_before=P}var W=Y.data.length;if(P==0){P=Y.data[W-1]["price"]}G.push(Y)}if(q){var X=q.split("~");for(var U=0;U<G.length;U++){G[U]["name"]=X[1];G[U]["code"]=X[2];G[U]["time"]=X[2];G[U]["fmt_time"]=t(X[30],"@M@-@D@ @H@:@i@:@s@")}}G.reverse();N()})}else{N()}};var D=function(){o="";C.trust_data=[];q="";f=false;c=false;window.clearTimeout(K)};return{init:function(R,M){M=M==undefined?"flash_quote_ctn":M;D();o=M;var O=R.replace(/[0-9]+/ig,"");var P=R.replace(/[^0-9]+/ig,"");var S="http://data.gtimg.cn/flashdata/hushen/minute/";var N=this;C.mkt=O;C.code=P;var Q=function(){if(typeof window.min_data!="undefined"&&!!window.min_data){var U=min_data.split("\n");if(U.length>1){var X=U[1];if(X.indexOf(":")!=-1){X=X.split(":")[1]}if(X&&X.length==6){X="20"+X}C.date=X;C.ymd=X;var Z=U.slice(2,U.length);for(var Y=0;Y<Z.length;Y++){var W=Z[Y];if(W){var V=W.split(" ");var T={time:V[0],price:V[1],cjl:V[2]};C.trust_data.push(T)}}if(C.trust_data.length>0){C.time=C.trust_data[C.trust_data.length-1]["time"]+"00"}}f=true;p()}else{f=true;C.trust_data=[]}};if(typeof window.min_data=="undefined"||!window.min_data){var L=E("_script_min_data_");if(!L){return}L(S+R+".js?maxage=10&"+Math.random(),function(){Q()})}else{Q()}},syncData:function(S){var X=this;var W={date:"",price_before:"2795.764",volumn_before:"224649",is_run:true,data:[],time:"",fmt_time:"",name:"",code:""};var T=S.split("~");W.price_before=T[4]+"";W.volumn_before=T[7]/10000+"";C.name=W.name=T[1];C.code=W.code=T[2];W.date=C.date;W.data=C.trust_data;W.time=C.time;var R=W.price_before;var U=T[5];for(var P=0;P<W.data.length;P++){var Q=W.data[P]["price"];if(Q<=0){W.data[P]["price"]=R;if(P==0){U=R}}else{R=Q}}var Y={time:"0925",price:U,cjl:"0"};W.data.unshift(Y);W.fmt_time=t(T[30],"@M@-@D@ @H@:@i@:@s@");var O=t(T[30]);var V=W.date;O=parseInt(O,10);V=parseInt(V,10);if(O!=V){C.date=W.date=O;C.time=W.time=t(T[30],"@Y@@M@@D@@H@@i@@s@");W.data=[];var Q=T[5];var L=T[4];if(Q==L||Q==0){Q=parseFloat(L)*1.1}W.data.push({time:"0925",price:Q,cjl:"0"});C.ymd=T[30];p()}var N=T[0];if(N=="1"&&T[2].indexOf("90")==0||N=="51"&&T[2].indexOf("20")==0){W.decimal=3}var M=T[40];switch(M){case"D":case"d":W.is_run="false";break;case"S":case"s":break;case"U":case"u":W.is_run="false";break}dataProxy.setSwfDatas(W);if(dataProxy.isReady==false){dataProxy.initFlashHandler(_fdp_conf.swf_base+"min_v3.1.9.swf?maxage=43200",o,"525","330");dataProxy.isReady=true}else{dataProxy.doAction("clearView","{}");dataProxy.doAction("clearData","{}");dataProxy.swfBridageHandler()}c=true},updateInfo:function(L){H(L)},_min:20,refreshQuot:function(R){window.clearTimeout(K);q=R;if(!f){K=window.setTimeout(function(){__.app.stock.quotpage.flashmgr.refreshQuot(R)},20)}else{if(f&&!c&&typeof R==="string"){__.app.stock.quotpage.flashmgr.syncData(R)}else{if(f&&c){var S=R.split("~");var M=S[2];var O=S[30];var P=S[40];var N=S[3];if(N==0){var T=parseFloat(S[5]);var V=parseFloat(S[4]);N=T==0?V:T;var L=C.trust_data;if(L&&L.length>0){N=L[L.length-1].price}S[3]=N;R=S.join("~");q=R}if(O){C.ymd=O;var U=t(O,"@H@@i@");U=U.replace(/^0+/ig,"");var Q=t(O);if(parseInt(U,10)>=g-15){switch(P){case"D":case"d":return;break;case"S":case"s":break;case"U":case"u":return;break}if(C.date!=Q){C.trust_data=[];__.app.stock.quotpage.flashmgr.syncData(R)}else{if(parseInt(U,10)<g&&!s){if(parseInt(S[5])>0){s=true;dataProxy.setOnceJsonDatas(R)}}else{if(parseInt(U,10)>=g){dataProxy.setOnceJsonDatas(R)}}}}}}}}},bossLog:function(L){var M=JSON.decode(L);l();if(k&&M){k.send(M)}},switchView:function(L){if(L==5){A()}else{if(L==4){dataProxy.doAction(["clearView","showOneDayMin","listNews"],["{}","{}",null])}}},get_stock_name:function(){var L="";if(C&&C.name){L=C.name}return L}}}())}());(function(){if(typeof __=="undefined"){window.__={}}if(__.app==undefined){__.app={}}if(__.app.stock==undefined){__.app.stock={}}if(__.app.stock.quotpage==undefined){__.app.stock.quotpage={}}__.app.stock.quotpage.quotimg=(function(){var k=function(H){return(typeof H=="object")?H:document.getElementById(H)},s={front:"ykcF",back:"ykcB",flash:"flash_quote_ctn",title:"ykc",select:"#kline,#technic",img:[],id:103,"flash-toggle":"flash-toggle",zoomCfg:{}},g={104:0,101:1,102:8,103:9},t,z,d=-1,C,A,p=function(){var K=d,I;if(__.flashVersion<9){for(I in g){if(g.hasOwnProperty(I)&&g[I]==K){K=I;break}}}for(var I=0;I<C.length;I++){var J=C[I];if(J.id==s.title+K){__.dom.addClass(J,"yk_on")}else{__.dom.remClass(J,"yk_on")}}for(var I=0;I<A.length;I++){var J=A[I];var H=J.options.length,I=0;for(;I<H;I++){if(J.options[I].value==K){J.options[I].selected=true;return}}if(H>0){J.options[0].selected=true}}},l=function(I){p();if(I!=z){return}t.parentNode.parentNode.className="undis";z.parentNode.parentNode.className="";var H=z;z=t;t=H},G=function(){var H=arguments,I=H.length;if(I>1){d=-1;if(b){clearInterval(b)}b=null;if(f){k("flash_quote_ctn").className="flash_undis";k("flash_quote_ctn_old").className="flash_undis";if(__.dom.f(".flash_quote_ctn")){__.dom.f(".flash_quote_ctn").style.display="none"}if(D){D.style.display="none"}}z.src=H[0];z.title=H[1];if(I>2){z.style.cursor="pointer";z.parentNode.href="javascript:void(0);";z.parentNode.target="_self";z.onclick=(function(){var J=z;return function(){J.style.cursor="default";J.onclick=function(){};H[2]()}}())}else{z.parentNode.href="http://finance.qq.com/stock/realStock.htm?c="+g_Code+"&t="+g_Type;z.parentNode.target="_blank"}}else{if(d<0||d>=s.img.length){return}z.src=s.img[d][0]+"?"+Math.random();z.title=s.img[d][1];z.parentNode.href="http://finance.qq.com/stock/realStock.htm?c="+g_Code+"&t="+g_Type;z.parentNode.target="_blank";u("in")}},b=null,F=null,f=null,B=function(I){if(I>100&&__.flashVersion>=9&&f){if(F){clearTimeout(F)}F=null;if(d==I){return}try{if(I!=104&&!_fdp_isJsReady().ready){F=setTimeout(function(){B(I)},100);return}d=I;t.parentNode.parentNode.className="undis";z.parentNode.parentNode.className="undis";f.className="";k(s["flash-toggle"])&&(k(s["flash-toggle"]).style.display="block");p();if(b){clearInterval(b)}b=null;_fdp_load(d-100);if(D){D.style.display="block"}if(__.dom.f(".flash_quote_ctn")){__.dom.f(".flash_quote_ctn").style.display="block"}if(k(s["flash-toggle"])&&k(s["flash-toggle"]).className.indexOf("zoom-in")==-1){u("out")}else{u("in")}return}catch(H){}}else{if(__.flashVersion<9||I<100){k("flash_quote_ctn_old").className="flash_undis";k("flash_quote_ctn").className="flash_undis";if(__.dom.f(".flash_quote_ctn")){__.dom.f(".flash_quote_ctn").style.display="none"}if(D){D.style.display="none"}if(__.flashVersion<9){I=g[I]===undefined?I:g[I]}}}if(I==d||I<0||I>=s.img.length){return}d=I;if(b){clearInterval(b)}b=null;G();if(s.img[d][3]>0){b=setInterval(function(){G()},s.img[d][3]*1000)}},q,v,E,m,D,a=[],u=function(I){if(__.flashVersion<8){return}if(true||!v){q=_fdp_conf.currentType==4||_fdp_conf.currentType==5||_fdp_conf.currentType==undefined?k("soFinance"):k(_fdp_conf.swfId);if(q){v=q.style;E=q.parentNode.style;m=k(_fdp_conf.currentType==4||_fdp_conf.currentType==5||_fdp_conf.currentType==undefined?"flash_quote_ctn":_fdp_conf.flashCtn).style}}if(I=="out"){__.each(s.zoomCfg,function(L,K){K=__.dom.f(K);if(K){__.each(L[1],function(N,M){K.style[M]=N},true)}},true);v&&(v.width="760px");v&&(v.height="504px");q&&(q.width="760px");q&&(q.height="504px");m&&(m.width="763px");m&&(m.height="504px");if(k("cls-clr-lb1")){if(!a["cls-clr-lb1"]){a["cls-clr-lb1"]=k("cls-clr-lb1").style.height}k("cls-clr-lb1").style.height="525px";k("cls-clr-lb1").style.borderBottom="none"}if(k("box3")){if(!a.box3){a.box3=k("box3").style.height}k("box3").style.height="533px";if(k("box3").parentNode){k("box3").parentNode.style.height=s.rbox2_height||"533px"}}D.className="icon-zoom-out";var J=(s.sub_doms||"lb2 lb3 lb4 lb5 rb1 rb2 rb3 lb10").split(" ");for(var H=0;H<J.length;H++){if(k(J[H])){k(J[H]).style.display="none"}}if(k("div-flash-toggle")){k("div-flash-toggle").style.display="block"}}else{__.each(s.zoomCfg,function(L,K){K=__.dom.f(K);if(K){__.each(L[0],function(N,M){K.style[M]=N},true)}},true);v&&(v.width="525px");v&&(v.height="330px");q&&(q.width="525px");q&&(q.height="330px");m&&(m.width="525px");m&&(m.height="308px");m&&(m.border="0");if(k("cls-clr-lb1")){k("cls-clr-lb1").style.height=s.flash_height||"397px";k("cls-clr-lb1").style.borderBottom="1px solid #7091B2"}if(k("box3")){k("box3").style.height="401px";if(k("box3").parentNode){k("box3").parentNode.style.height=s.rbox2_height||""}}D.className="icon-zoom-in";var J=(s.sub_doms||"lb2 lb3 lb4 lb5 rb1 rb2 rb3 lb10").split(" ");for(var H=0;H<J.length;H++){if(k(J[H])){k(J[H]).style.display=""}}if(k("div-flash-toggle")){k("div-flash-toggle").style.display="none"}}},c=false,o=function(I){if(c){return}c=true;if(document.createElement("canvas").getContext){__.load("http://mat1.gtimg.com/finance/js/st/p/s/seajs/1.3.1/sea.js",function(){__.load("http://mat1.gtimg.com/finance/js/st/p/s/app/graphic/cn/0.1.2/index.js",function(){seajs.use("app/graphic/cn/0.1.2/src/index")},{charset:"utf8"})},{charset:"utf8"})}for(var L in I){s[L]=I[L]}t=k(s.front);z=k(s.front);f=k(s.flash);var H=k(s.title);if(H){C=H.getElementsByTagName("span")}else{C=[]}A=[k("kline"),k("technic")];for(var J=0;J<C.length;J++){var K=C[J];if(K.id.substr(0,s.title.length)!=s.title){return}K.onclick=(function(){var M=K.id.substr(s.title.length);return function(){B(M)}}())}t.onload=(function(){var M=t;return function(){l(M)}}());z.onload=(function(){var M=z;return function(){l(M)}}());for(var J=0;J<A.length;J++){var K=A[J];K.onchange=(function(){var M=K;return function(){B(M.value)}}())}if(f&&s["flash-toggle"]){D=k(s["flash-toggle"]);D.onclick=function(){if(!v){q=k(_fdp_conf.swfId);v=q&&q.style;E=q&&q.parentNode.style;m=k(_fdp_conf.flashCtn).style}if(D.className.indexOf("zoom-in")!=-1){u("out")}else{u("in")}}}if(s.id===null||isNaN(s.id)){s.id=f?104:0}else{s.id=Number(s.id)}B(s.id)};return{init:o,change:B,load:G}}())}());function FlashLog(a){}function FlashBossTracking(a){window.setTimeout(function(){try{__.app.hk.quotpage.flashmgr.bossLog(a)}catch(b){}},1000)}function FlashPostToWB(a){}__.dom.f("#wbforward-btn")&&__.dom.remEl(__.dom.f("#wbforward-btn"));var login2=function(){__.app.login.open({mask:false,url:["http://ui.ptlogin2.qq.com/cgi-bin/login?qlogin_auto_login=1&low_login=1","&appid=5000801&s_url=",encodeURIComponent(location.href),"&f_url=loginerroralert"].join("")})};var wbforward,getImage2=function(g){var b,a=__.dom.f("ykcF"),c=__.dom.f("ykcB"),d,f=getImgUrl2;if(!__.dom.hasClass(a.parentNode.parentNode,"undis")){b=a.src}else{if(!__.dom.hasClass(c.parentNode.parentNode,"undis")){b=c.src}else{d=__.dom.f("#ykc .yk-first-on, #ykc .yk-on,#ykc .yk_on");if(d){if(d.id=="ykc104"||d.id=="ykc105"){b=f("",g)}else{if(d.id=="ykc101"){b=f("kline-day",g)}else{if(d.id=="ykc102"){b=f("kline-week",g)}else{if(d.id=="ykc103"){b=f("kline-month",g)}}}}}}}b=b||f("",g);return b};var getImgUrl2=function(c,g){var k="",a=g.substr(0,2),f=g.substr(2),d="http://img.gtimg.cn/images/",b="http://chart.finance.qq.com/cgi-bin/hqing_img/";if(a=="sh"&&f.substr(0,3)=="000"||a=="sz"&&f.substr(0,2)=="39"){if(c=="kline-day"){k=d+"kline/hushen/indexs/day/"+f+".png"}else{if(c=="kline-week"){k=d+"kline/hushen/indexs/week/"+f+".png"}else{if(c=="kline-month"){k=d+"kline/hushen/indexs/month/"+f+".png"}else{k=d+"hq_parts/hushen/indexs/"+f+".png"}}}}else{if(a=="hk"){if(c=="kline-day"){k=d+"kline/hongkong_rt/day/"+f+".png"}else{if(c=="kline-week"){k=d+"kline/hongkong_rt/week/"+f+".png"}else{if(c=="kline-month"){k=d+"kline/hongkong_rt/month/"+f+".png"}else{k=d+"hq_parts/hongkong_rt/"+f+".png"}}}}else{if(a=="us"){if(f.indexOf(".")<0){f="."+f}if(c=="kline-day"){k=b+"get_kline?code="+f+"&klinetype=504"}else{if(c=="kline-week"){k=b+"get_kline?code="+f+"&klinetype=505"}else{if(c=="kline-month"){k=b+"get_kline?code="+f+"&klinetype=506"}else{k=b+"get_hq_part?code="+f}}}}else{if(a=="sh"||a=="sz"){if(c=="kline-day"){k=d+"kline/hushen/stocks/day/"+f+".png"}else{if(c=="kline-week"){k=d+"kline/hushen/stocks/week/"+f+".png"}else{if(c=="kline-month"){k=d+"kline/hushen/stocks/month/"+f+".png"}else{k=d+"hq_parts/hushen/stocks/"+f+".png"}}}}}}}if(k!==""){if(k.indexOf("?")<0){k+="?"+Math.random()}else{k+="&"+Math.random()}}return k};
/*that.titles[0] && (that.titles[0]= that.parent.foreLayer.shape(comm.drawTitle));
                that.titles[0].attr(title)*/
(function(){function b(p,z){var l=z.x,g=z.y,m=76,A=z.data.yprice,k=z.data.data;p.font='12px arial,"\u5b8b\u4f53"',p.textBaseline="middle",p.fillStyle="#385e7c",p.fillText("\u5f00",l-492,g-15),p.fillText("\u9ad8",l+m-492,g-15),p.fillText("\u4f4e",l+m*2-492,g-15),p.fillText("\u6536",l+m*3-492,g-15);var v=[[k[1],k[1]<A?"#17a63a":"#d91a2a"],[k[3],k[3]<A?"#17a63a":"#d91a2a"],[k[4],k[4]<A?"#17a63a":"#d91a2a"],[k[2],k[2]<A?"#17a63a":"#d91a2a"]];for(var q=0;q<v.length;q++){p.fillStyle=v[q][1],p.fillText(v[q][0],l+m*q+15-492,g-15,m)}p.fillStyle="#3fa5eb",p.textAlign="end",p.font='12px arial,"\u5b8b\u4f53"',p.fillText((z.mkt=="us"?"\u7f8e\u4e1c":"")+"\u65f6\u95f4\uff1a"+k[0].substr(4,2)+"."+k[0].substr(6,2)+" "+k[0].substr(8,2)+":"+k[0].substr(10,2),l+m*2-152,g-14)}function d(F,L){var z=L.x,g=L.y,C=154,M=170,q=21;F.beginPath(),F.fillStyle="rgba(255,255,255,0.85)",F.strokeStyle="#d6d5ce",F.moveTo(z,g),F.lineTo(z+C,g),F.lineTo(z+C,g+M),F.lineTo(z,g+M),F.lineTo(z,g),F.fill(),F.moveTo(z,g+q),F.lineTo(z+C,g+q),F.stroke();var K=L.data.yprice,I=L.data.data;F.font='12px arial,"\u5b8b\u4f53"',F.textAlign="center",F.textBaseline="middle",F.fillStyle="#878774";var E="\u65e5\u671f ";E+=I[0].substr(0,4)+"/"+I[0].substr(4,2)+"/"+I[0].substr(6,2)+" ";var B=(new Date(I[0].substr(0,4),I[0].substr(4,2)-1,I[0].substr(6,2))).getDay(),H=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"];E+="\u5468"+H[B],E+=" "+I[0].substr(8,2)+":"+I[0].substr(10,2),F.fillText(E,z+C/2,g+q/2);var D=[["\u5f00   \u76d8",I[1],Number(I[1])<Number(K)?"#17a63a":"#d91a2a"],["\u6700   \u9ad8",I[3],Number(I[3])<Number(K)?"#17a63a":"#d91a2a"],["\u6700   \u4f4e",I[4],Number(I[4])<Number(K)?"#17a63a":"#d91a2a"],["\u6536   \u76d8",I[2],Number(I[2])<Number(K)?"#17a63a":"#d91a2a"],["\u6da8\u8dcc\u5e45",(K==0?0:(I[2]-K)*100/K).toFixed(2)+"%",I[2]<K?"#17a63a":"#d91a2a"],["\u6da8\u8dcc\u989d",(I[2]-K).toFixed(2),I[2]<K?"#17a63a":"#d91a2a"],["\u6210\u4ea4\u91cf",I[5],"#878774"]],k=null;if("pos" in L.data){var G=[0,3,1,2],J=G[L.data.pos];k=D[J][1]}for(var A=0;A<D.length;A++){D[A][1]==k?F.font='bold 12px arial,"\u5b8b\u4f53"':F.font='12px arial,"\u5b8b\u4f53"',F.fillStyle="#878774",F.textAlign="left",F.fillText(D[A][0],z+15,g+q+q/2+A*q),F.fillStyle=D[A][2],F.textAlign="right",F.fillText(D[A][1],z+C-18,g+q+q/2+A*q)}}var c,a,f;(function(C){function M(l,g){return J.call(l,g)}function t(T,Z){var E,g,Q,aa,m,Y,W,S,V,R,l=Z&&Z.split("/"),U=H.map,X=U&&U["*"]||{};if(T&&T.charAt(0)==="."){if(Z){l=l.slice(0,l.length-1),T=l.concat(T.split("/"));for(S=0;S<T.length;S+=1){R=T[S],R==="."?(T.splice(S,1),S-=1):R===".."&&S>0&&T[S-1]!="."&&T[S-1]!=".."&&(T.splice(S-1,2),S-=2)}T=T.join("/")}else{T.indexOf("./")===0&&(T=T.substring(2))}}if((l||X)&&U){E=T.split("/");for(S=E.length;S>0;S-=1){g=E.slice(0,S).join("/");if(l){for(V=l.length;V>0;V-=1){Q=U[l.slice(0,V).join("/")];if(Q){Q=Q[g];if(Q){aa=Q,m=S;break}}}}if(aa){break}!Y&&X&&X[g]&&(Y=X[g],W=S)}!aa&&Y&&(aa=Y,m=W),aa&&(E.splice(0,m,aa),T=E.join("/"))}return T}function G(l,g){return function(){return B.apply(C,D.call(arguments,0).concat([l,g]))}}function K(g){return function(l){return t(l,g)}}function k(g){return function(l){P[g]=l}}function O(l){if(M(L,l)){var g=L[l];delete L[l],N[l]=!0,I.apply(C,g)}if(!M(P,l)&&!M(N,l)){throw new Error("No "+l)}return P[l]}function q(l){var g,m=l?l.indexOf("!"):-1;return m>-1&&(g=l.substring(0,m),l=l.substring(m+1,l.length)),[g,l]}function A(g){return function(){return H&&H.config&&H.config[g]||{}}}var I,B,F,z,P={},L={},H={},N={},J=Object.prototype.hasOwnProperty,D=[].slice;F=function(o,l){var p,m=q(o),g=m[0];return o=m[1],g&&(g=t(g,l),p=O(g)),g?p&&p.normalize?o=p.normalize(o,K(l)):o=t(o,l):(o=t(o,l),m=q(o),g=m[0],o=m[1],g&&(p=O(g))),{f:g?g+"!"+o:o,n:o,pr:g,p:p}},z={require:function(g){return G(g)},exports:function(l){var g=P[l];return typeof g!="undefined"?g:P[l]={}},module:function(g){return{id:g,uri:"",exports:P[g],config:A(g)}}},I=function(S,V,o,E){var W,u,Q,m,U,R=[],T;E=E||S;if(typeof o=="function"){V=!V.length&&o.length?["require","exports","module"]:V;for(U=0;U<V.length;U+=1){m=F(V[U],E),u=m.f;if(u==="require"){R[U]=z.require(S)}else{if(u==="exports"){R[U]=z.exports(S),T=!0}else{if(u==="module"){W=R[U]=z.module(S)}else{if(M(P,u)||M(L,u)||M(N,u)){R[U]=O(u)}else{if(!m.p){throw new Error(S+" missing "+u)}m.p.load(m.n,G(E,!0),k(u),{}),R[U]=P[u]}}}}}Q=o.apply(P[S],R);if(S){if(W&&W.exports!==C&&W.exports!==P[S]){P[S]=W.exports}else{if(Q!==C||!T){P[S]=Q}}}}else{S&&(P[S]=o)}},c=a=B=function(o,l,p,g,m){return typeof o=="string"?z[o]?z[o](l):O(F(o,l).f):(o.splice||(H=o,l.splice?(o=l,l=p,p=null):o=C),l=l||function(){},typeof p=="function"&&(p=g,g=m),g?I(C,o,l,p):setTimeout(function(){I(C,o,l,p)},4),B)},B.config=function(g){return H=g,H.deps&&B(H.deps,H.callback),B},c._defined=P,f=function(l,g,m){g.splice||(m=g,g=[]),!M(P,l)&&!M(L,l)&&(L[l]=[l,g,m])},f.amd={jQuery:!0}})(),f("../../vendor/almond/almond",function(){}),f("../../../../util/tool",["require","exports","module"],function(l,g,m){g.cache=function(p,o){var q={};return o=(o||300)*1000,function(){var v=JSON.stringify(Array.prototype.slice.call(arguments)),t=+(new Date);if(q[v]&&q[v][0]-t<o){return q[v][1]}var u=p.apply(this,arguments);return q[v]=[t,u],u}};var k=function(o){return o};g.array_find=k(function(A,D,v){var p=0,z=A.length-1,E,q;while(z>=p){E=p+z>>1,q=D(A[E],E);if(q===0){return E}q>0?z=E-1:p=E+1}if(v){var C=A.length;if(C==0){return -1}var B=0;q=Math.abs(q);if(E>0){B=Math.abs(D(A[E-1]));if(B<q){return E-1}}if(E<C-1){B=Math.abs(D(A[E+1]));if(B<q){return E+1}}return E>=0&&E<C?E:(q=Math.abs(D(A[C-1])),B=Math.abs(D(A[0])),q<B?C-1:0)}return -1}),g.date_shift=k(function(v,p){if(typeof p=="undefined"||p==0){return v}var z=String(v),u;if(p.substr){var o=p.substr(p.length-1,1);return o=="y"?(p=parseInt(p,10),u=new Date(+z.substr(0,4)+p,z.substr(4,2)-1,z.substr(6,2))):o=="m"&&(p=parseInt(p,10),u=new Date(+z.substr(0,4),z.substr(4,2)-1+p,z.substr(6,2))),u.getFullYear()*10000+(+u.getMonth()+1)*100+ +u.getDate()}var u=new Date(z.substr(0,4),z.substr(4,2)-1,z.substr(6,2)),q=new Date(u.getTime()+p*24*60*60*1000);return q.getFullYear()*10000+(+q.getMonth()+1)*100+ +q.getDate()}),g.object_extend=function(s,p,u,q){s=s||{};if(p){for(var o in p){p.hasOwnProperty(o)&&(!s.hasOwnProperty(o)||u===!0||q&&typeof p[o]=="object")&&(q&&typeof p[o]=="object"?p[o]===null?s[o]=s[o]||null:(s[o]=s[o]||{},arguments.callee(s[o],p[o],u,q)):s[o]=p[o])}}return s},g.load=function(v,p){var z=document,u=z.getElementsByTagName("head")[0],o=!1,q=z.createElement("script");q.type="text/javascript",q.charset="gbk",q.src=v,q.onload=q.onreadystatechange=function(){!o&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(o=!0,p&&p(),p=q.onload=q.onreadystatechange=q.onerror=null,u&&q.parentNode&&u.removeChild(q))},q.onerror=function(){o||(o=!0,p&&p(),p=q.onload=q.onreadystatechange=q.onerror=null,u&&q.parentNode&&u.removeChild(q))},u.appendChild(q)},g.singed=function(o){return o<0?o:"+"+o},g.percent=function(o){return o=parseFloat(o),(o>0?"+":"")+o.toFixed(2)+"%"},g.getLongNum=function(p){var o={toString:function(){return this[0]+this[1]},e:1};return p<1000000?(o[0]=p,o[1]=""):p<1000000000?(o[0]=(p/10000).toFixed(0),o[1]="\u4e07",o.e=10000):(o[0]=(p/100000000).toFixed(2),o[1]="\u4ebf",o.e=100000000),o}}),f("../../../../data/base",["require","exports","module","../util/tool"],function(p,z,l){var g=0,m=p("../util/tool"),A=m.array_find,k=m.load,v=m.object_extend,q={};l.exports={get:function(s){s.id=g++;var o=this;return this.data&&setTimeout(function(){o.flush(s,o.data)},0),this.queue.push(s),setTimeout(function(){o.run()},0),s.id},rem:function(s){var o;for(var u=0;u<this.queue.length;u++){if(this.queue[u]&&this.queue[u].id==s){o=this.queue.splice(u,1);break}}return this.run(),o},run:function(){var s=this.queue.length,o=this;s&&!this.isRun?(this.isRun=!0,this.start()):!s&&o.isRun&&(this.isRun=!1,this.stop())},set:function(u){this.data=u;var o=this;for(var B=0;B<this.queue.length;B++){var s=this.queue[B];s&&(this.flush(s,this.data),s.onceoff&&this.queue[B]==s&&setTimeout(function(){var t=s.id;return function(){o.rem(t)}}(),0))}},init:function(){},start:function(){},stop:function(){},flush:function(s,o){s.fn(o)},_flushDays:function(J,P){var D=J.shift||0,s=J.beg,G=J.end,C=P.length,O=0,M=C-1,I,F,L=M,H=P,B=0;if(s){I=A(P,function(o){return parseInt(o[0],10)-s},!0),D!=0&&(I+=D,I<0?(D-=I,I=0):I>=C&&(D-=I-C-1,I=C-1)),B=I,I=A(P,function(o){return parseInt(o[0],10)-G},!0),L=I,H=P.slice(B,L+1);if(J.__delay&&L+1<P.length){return}}else{s!==!1&&(B=P.length-this.defalutCnt,L=P.length-1,B<0&&(B=0),D!=0&&(B+=D,B<0?(D-=B,B=0):B>=C&&(D-=B-P.length-1,B=P.length-1)),H=P.slice(B,L+1))}var K=J.limit===!1?0:J.limit||20;if(H.length+D<K){var N=K-H.length-D;if(B<N/2){N-=B,B=0,L+=N,H=P.slice(B,L+1)}else{if(P.length-L-1<N/2){N-=P.length-L-1,L=P.length-1,B-=N,B<0&&(B=0),H=P.slice(B,L+1)}else{var E=Math.round(N/2);N-=E,B-=E,L+=N,H=P.slice(B,L+1)}}D=K-H.length,D>0&&(D=0)}H.qt=P.qt;if(H.length>1000){if(!J.__delay||+(new Date)-J.__delay>=30000){J.__delay=+(new Date),J.fn(H,D)}}else{J.__delay=+(new Date),J.fn(H,D)}},_load:function(F,I,B){var o=this,D=q[I]=q[I]||{},J=D[F]=D[F]||[];J.push(B);if(J.length>1){return}for(var H in D){if(H!=F){return}}var E,C=60000,G=function(){var K=!1;for(var u in D){K=u;break}if(K==0){return}var t=setTimeout(function(){K!=F&&(F=K,E=1);if(!(E--)){var s=D[K];if(s){for(var L=0;L<s.length;L++){s[L]([])}delete D[K]}}G()},C);k(K,function(){var N=window[I],M;if(N){clearTimeout(t),t=null,window[I]=null,typeof N=="string"?N=N.split("\n"):N&&"data" in N?typeof N.data=="string"?N=N.data.replace(/\\"/g,"").split("\\\\n\\\\\\n"):M=N.data:M=N;if(!M){M=[];for(var O=0;O<N.length;O++){if(N[O]&&N[O].length>2){var L=N[O].split(" ");/^\d{6}$/.test(L[0])&&(L[0].substr(0,2)>"20"?L[0]="19"+L[0]:L[0]="20"+L[0]),M.push(L)}}}}var s=D[K];if(s){for(var O=0;O<s.length;O++){s[O](M||[])}delete D[K]}G()})};G()},_cleanMinute:function(J,N){var E=[],B=[],G=[],O=0,D=0,M=N.length,L=J.time.length,I=0,F=J.open;if(!F){for(var K=0;K<L;K++){if(J.price[K]){F=J.price[K];break}}(isNaN(F)||F==0)&&(F=J.yprice)}while(O<M||D<L){var H=N[O],C=J.time[D];if(!H&&C){if(!E[O-1]){break}F=J.price[D]==0?F:J.price[D],B[O-1]=F,G[O-1]+=parseInt(J.volume[D],10),D++}else{!C||C>H?(E.push(H),B.push(F),G.push(I),I=0,O++):(I+=parseInt(J.volume[D],10),F=J.price[D]==0?F:J.price[D],C==H&&(E.push(H),B.push(F),G.push(I),I=0,O++),D++)}}J.time=E,J.volume=G,J.price=B},create:function(s){var o=function(){this.queue=[],this.init.apply(this,arguments)};return o.prototype.get=this.get,o.prototype.rem=this.rem,o.prototype.run=this.run,o.prototype.set=this.set,o.prototype.flush=this.flush,o.prototype._join=this._join,o.prototype._flushDays=this._flushDays,o.prototype._load=this._load,v(o.prototype,s,!0),o}}}),f("../../../../data/mqt",["require","exports","module"],function(C,H,q){var g=0,z=Math.random()*10000|0,I=function(){return z+"_"+g++},m=H.load=function(J,o){var K=document,u=K.getElementsByTagName("head")[0],l=!1,p=K.createElement("script");p.type="text/javascript",p.charset="gbk",p.src=J,p.onload=p.onreadystatechange=function(){!l&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(l=!0,o&&o(),o=p.onload=p.onreadystatechange=null,u&&p.parentNode&&u.removeChild(p))},u.appendChild(p)},G=0,F=[];H.interval=5,H.KEYS_LIMIT=60,H.add=function(l){return l=l||{},l.id=G++,l.keys=l.keys||[],typeof l.keys=="string"&&(l.keys=l.keys.split(",")),l.onData=l.onData||function(){},l.onUpdate=l.onUpdate||l.onData,l.interval=l.interval||H.interval,l._status=0,F.push(l),A(),l.id},H.get=function(o){for(var l=0;l<objs.length;l++){if(F[l].id==o){return F[l]}}},H.rem=function(o){for(var l=0;l<F.length;l++){if(F[l].id==o){var p=F;return F.splice(l,1),p._status=-1,A(),p}}};var B=0,v=setInterval(function(){B++,k()},1000),E=!1,A=function(){E||(E=setTimeout(function(){E=!1,k()},0))},k=function(){var M={},J=[],O=0;for(var L=0;L<F.length;L++){var p=F[L];if(p._status==0||B%p.interval==0){for(var K=0;K<p.keys.length;K++){M[p.keys[K]]||(M[p.keys[K]]=!0,O++)}p._status==0&&(p._status=1),J.push(p)}}if(O){var N=[];for(var l in M){N.push(l)}D(N,J)}},D=function(t,J){var s=0,p={},o=t.slice();for(;;){var l=t.splice(0,H.KEYS_LIMIT);if(!l.length){break}s++,m("http://qt.gtimg.cn/"+I()+"&q="+l.join(","),function(){s--;if(s==0){for(var L=0;L<J.length;L++){var u={};for(var K=0;K<J[L].keys.length;K++){u[J[L].keys[K]]=window["v_"+J[L].keys[K]]}J[L]._status==1?(J[L].onData(u,J[L].keys),J[L]._status=2):J[L]._status>0&&J[L].onUpdate(u,J[L].keys),J[L].onceOff&&H.rem(J[L].id)}}})}}}),f("../../../../data/qt",["require","exports","module","./base","./mqt","../util/tool"],function(o,k,p){var m=o("./base"),g=o("./mqt"),l=o("../util/tool").load;p.exports=m.create({init:function(s){var q=this.market=s.substr(0,2);q=="hk"?(this.symbol="r_"+s,this.hqingtime="r_hqingtime"):q=="us"?(this.symbol=""+s.replace(/\.[^.]+$/,"").replace(/[\.\-]/g,"__"),this.hqingtime="usDJI"):(this.symbol=s,this.hqingtime="")},start:function(){var q=this;this.id=g.add({keys:[q.symbol,q.hqingtime],onData:function(s){var v=s[q.symbol];if(v){if(q._symbol==v){if(!q.hqingtime||q.hqingtime&&q._hqingtime==window["v_"+q.hqingtime]){return}}q._symbol=v,v=v.split("~");if(q.hqingtime){var u=s[q.hqingtime];u&&(q._hqingtime=u,u=u.split("~"),u.length==1?u=u[0]:u[30]?u=u[30]:u=!1,u&&u>v[30]&&(v[30]=u))}if(q.market=="us"){var u=v[30].substr(11,5);u<"09:30"?v[30]=v[30].substr(0,11)+"09:30"+v[30].substr(16):u>"16:00"&&(v[30]=v[30].substr(0,11)+"16:00"+v[30].substr(16))}q.set(v)}else{q.set([])}}})},stop:function(){g.rem(this.id)}})}),f("../../../../data/daily",["require","exports","module","./base","./qt","../util/tool"],function(q,l,z){var p=q("./base"),k=q("./qt"),m=q("../util/tool"),v=m.date_shift,g=m.array_find;z.exports=p.create({init:function(u,o,A){this.symbol=u,u.substr(0,2)=="us"&&u.indexOf(".")<0&&(this.symbol="us."+u.substr(2)),this.dataQt=o||new k(u);var s=this.symbol.substr(0,2);s=="us"?this.baseUrl="http://data.gtimg.cn/flashdata/us/":s=="hk"?this.baseUrl="http://data.gtimg.cn/flashdata/hk/":this.baseUrl="http://data.gtimg.cn/flashdata/hushen/",this.defalutCnt=A||70},_getData:function(){var s=this,o,u="latest_daily_data";this._load(this.baseUrl+"latest/daily/"+this.symbol+".js",u,function(B){var D={};for(var C=0;B[0]&&C<B[0].length;C++){var A=B[0][C].split(":");A[0]=="start"&&(A[1]=(A[1].substr(0,2)>="50"?"19":"20")+A[1]),D[A[0]]=parseInt(A[1],10)}B=B.slice(1),s._cfg=D,s._data=B,s._lastVolume=0,s._join()})},_clean:function(D){var D=D||this._data,A=this._qt;this._cleanData=!0;if(A.length){var F=this.precision=A[3].length-A[3].indexOf(".")-1,C=Math.pow(10,F),u;for(var B=0,E=D.length;B<E;B++){u=D[B],u[1]=parseFloat(D[B][1]).toFixed(F),u[2]=parseFloat(D[B][2]).toFixed(F),u[3]=parseFloat(D[B][3]).toFixed(F),u[4]=parseFloat(D[B][4]).toFixed(F)}}},_join:function(){var D=this,A=this._data,F=this._qt;if(A&&F){if(!F.length){return D.set(A)}!D._cleanData&&D._clean();var C=F[30].replace(/[- \/:]/ig,""),u=A[A.length-1],B=[C.substr(0,8),F[5]==0?F[3]:F[5],F[3]==0?F[5]:F[3],F[33]==0?Math.max(F[3],F[5]):F[33],F[34]==0?Math.max(F[3],F[5]):F[34],parseInt(F[36],10)];/hk[a-z]+/gi.test(this.symbol)&&(B[5]*=10000);if(F[3]!=0){u&&u[0]==B[0]?(this._lastVolume=this._lastVolume||B[5],u[0]=B[0],u[2]=B[2],u[3]=Math.max(u[3],B[3]),u[4]=Math.min(u[4],B[4]),u[5]=parseInt(u[5],10)+B[5]-this._lastVolume,u.b=null):A.push(B);if(u&&u.f){for(var E=0;E<A.length;E++){A[E].f=null}}this._lastVolume=B[5]}A.qt=F,D.set(A)}},getFqData:function(A,s){var B=function(C){function t(E,D){var F=C.length;return F==0?1:A=="b"?C[0][0]<=E&&(F==1||F>1&&C[1][0]>E)?F>1&&C[1][0]<=D?(C.shift(),!1):C[0][2]:C[0][0]>E?C[0][0]>D?1:!1:(C.shift(),t(E,D)):A=="f"?C[0][0]>E?C[0][0]<=D?!1:C[0][1]:(C.shift(),t(E,D)):1}s(C,t)};if(this._fq){return B(this._fq.slice())}var u=this.symbol,o=this;u.substr(0,2)=="hk"?this._load("http://ifzq.gtimg.cn/hk/right/fqyinzi/query?code="+u+"&_var=v_fq_"+u,"v_fq_"+u,function(E){var C=[];E="fqyz" in E?E.fqyz||[]:E||[],E.forEach(function(F,t){C[t]=E[t].slice(),t>0&&(C[t][2]*=C[t-1][2]),typeof C[t][0]=="string"&&(C[t][0]=parseInt(C[t][0].replace(/-/g,""),10))});for(var D=C.length-2;D>=0;D--){C[D][1]*=C[D+1][1]}o._fq=C,B(C.slice())}):this._load("http://data.gtimg.cn/flashdata/hushen/fuquan/"+u+".js?maxage=6000000","v_fq_"+u,function(E){var C=E&&E[0]&&E[0].join(" ")||"";C=C.split("^"),C.forEach(function(t,F){C[F]=t.split("~"),F>0&&(C[F][2]*=C[F-1][2]),C[F][0]=parseInt(C[F][0],10)});for(var D=C.length-2;D>=0;D--){C[D][1]*=C[D+1][1]}o._fq=C,B(C.slice())})},_checkFq:function(u,o,A){var s=this;this.getFqData(u,function(D,E){function C(I,H){return(I*H).toFixed(s.precision)}var G=[];for(var B=0;B<o.length;B++){var F=o[B];if(!F[u]){var t=E(F[0],F[0]);F[u]=[F[0],C(F[1],t),C(F[2],t),C(F[3],t),C(F[4],t),F[5]]}G.push(F[u])}A(G)})},_check:function(F,J){var A=F.beg,o=F.end,C=this,K=this._data;if(A){var I=C._cfg,E=v(A,F.shift),B=String(o).substr(0,4),H=0,D=I.total;while(D>0){var u=String(E).substr(0,4),G=u.substr(2,2);I[G]&&(H++,D-=I[G],this._load(this.baseUrl+"daily/"+G+"/"+C.symbol+".js","daily_data_"+G,function(){var s=G;return function(Q){C._clean(Q);if(I[s]){I.total-=I[s],delete I[s];var M=parseInt(Q[0][0],10),P=g(K,function(R){return parseInt(R[0],10)-M},!0),N=parseInt(K[P][0],10);N<M&&P++;var t=parseInt(Q[Q.length-1][0],10),L=g(K,function(R){return parseInt(R[0],10)-t},!0),O=parseInt(K[L][0],10);O<=t&&L++,L<P&&(L=P),Array.prototype.splice.apply(K,[P,L-P].concat(Q))}H--,H===0&&J(K)}}()));if(u>=B){break}E=v(E,"1y")}if(H){return}}J(K)},flush:function(s,o){var u=this;this._check(s,function(A){s.fq?u._checkFq(s.fq,A,function(B){u._flushDays(s,B)}):u._flushDays(s,A)})},start:function(){var o=this;this._data||this._getData(),this._qtId||(this._qtId=this.dataQt.get({fn:function(s){if(o._qt&&o._qt.join("~")==s.join("~")){return}o._qt=s,o._join()}}))},stop:function(){this._qtId&&(this.dataQt.rem(this._qtId),this._qtId=null)}})}),f("../../../../data/weekly",["require","exports","module","./base","./qt","./daily"],function(p,k,u){function q(s){s+="",s=new Date(s.substr(0,4),s.substr(4,2)-1,s.substr(6,2));var o=s.getDay(),v=86400000;return w=[new Date(s.getTime()-(o-1)*v),new Date(s.getTime()+(5-o)*v)],[w[0].getFullYear()*10000+(w[0].getMonth()+1)*100+w[0].getDate(),w[1].getFullYear()*10000+(w[1].getMonth()+1)*100+w[1].getDate()]}var m=p("./base"),g=p("./qt"),l=p("./daily");u.exports=m.create({init:function(z,s,B,v){this.symbol=z,z.substr(0,2)=="us"&&z.indexOf(".")<0&&(this.symbol="us."+z.substr(2)),this.dataQt=s||new g(z),this.dataDaily=B||new l(z,this.dataQt);var A=this.symbol.substr(0,2);A=="us"?this.baseUrl="http://data.gtimg.cn/flashdata/us/":A=="hk"?this.baseUrl="http://data.gtimg.cn/flashdata/hk/":this.baseUrl="http://data.gtimg.cn/flashdata/hushen/",this.defalutCnt=v||70},_clean:function(){var v=this._data,o=this._qt;this._cleanData=!0;if(o.length){var z=this.precision=o[3].length-o[3].indexOf(".")-1;for(var s=0;s<v.length;s++){v[s][1]=parseFloat(v[s][1]).toFixed(z),v[s][2]=parseFloat(v[s][2]).toFixed(z),v[s][3]=parseFloat(v[s][3]).toFixed(z),v[s][4]=parseFloat(v[s][4]).toFixed(z)}}},_getData:function(){var s=this,o,v="weekly_data";this._load(this.baseUrl+"weekly/"+this.symbol+".js",v,function(z){s._data=z,s._lastVolume=0,s._join()})},_join:function(E){var H=this,A=this._data,v=this._qt;if(A&&v){if(!v.length){return H.set(A)}!H._cleanData&&H._clean();if(v[3]!=0){var C=v[30].replace(/[- \/:]/ig,""),I=A[A.length-1],z=[C.substr(0,8),v[5]==0?v[3]:v[5],v[3]==0?v[5]:v[3],v[33]==0?Math.max(v[3],v[5]):v[33],v[34]==0?Math.max(v[3],v[5]):v[34],parseInt(v[36],10)];/hk[a-z]+/gi.test(this.symbol)&&(z[5]*=10000);var G=new Date(C.substr(0,4),C.substr(4,2)-1,C.substr(6,2)),F=new Date(G.getTime()-G.getDay()*24*60*60*1000),D=new Date(F.getTime()+518400000);F=F.getFullYear()*10000+(F.getMonth()+1)*100+F.getDate(),D=D.getFullYear()*10000+(D.getMonth()+1)*100+D.getDate(),I&&F<parseInt(I[0],10)&&parseInt(I[0],10)<D?(I[0]==z[0]&&(this._lastVolume=this._lastVolume||z[5]),I[0]=z[0],I[2]=z[2],I[3]=Math.max(I[3],z[3]),I[4]=Math.min(I[4],z[4]),I[5]=parseInt(I[5],10)+z[5]-(this._lastVolume||0),I.b=null):A.push(z);if(I&&I.f){for(var B=0;B<A.length;B++){A[B].f=null}}this._lastVolume=z[5]}A.qt=v,H.set(A)}},_checkFq:function(z,s,A){var v=this,o=this.dataDaily;o.getFqData(z,function(I,H){function D(K,J){return(K*J).toFixed(v.precision)}var G=[],B=0;for(var F=0;F<s.length;F++){var C=s[F];if(!C[z]){var t=q(C[0]),E=H(t[0],t[1]);E===!1?(B++,o.get({onceoff:!0,beg:t[0],end:t[1],fq:z,limit:!1,fn:function(){var L=F,J=s,K=z;return function(N){var O=G[L]=J[L][z]=J[L].slice(),Q=N.length,M=[];for(var P=0;P<Q;P++){P==0&&(O[1]=N[P][1]),P==Q-1&&(O[2]=N[P][2]),M.push(N[P][3],N[P][4])}O[3]=Math.max.apply(null,M),O[4]=Math.min.apply(null,M),B--,B==0&&A(G)}}()})):C[z]=[C[0],D(C[1],E),D(C[2],E),D(C[3],E),D(C[4],E),C[5]]}G[F]=C[z]}B==0&&A(G)})},flush:function(s,o){var v=this;s.fq?v._checkFq(s.fq,o,function(z){v._flushDays(s,z)}):v._flushDays(s,o)},start:function(){var o=this;this._data||this._getData(),this._qtId||(this._qtId=this.dataQt.get({fn:function(s){o._qt=s,o._join()}}))},stop:function(){this._qtId&&(this.dataQt.rem(this._qtId),this._qtId=null)}})}),f("../../../../data/monthly",["require","exports","module","./base","./qt","./daily"],function(p,k,u){function q(v){v+="";var o=v.substr(0,4),z=v.substr(4,2)-1,s=[new Date(o,z,1),new Date(o,z+1,0)];return[s[0].getFullYear()*10000+(s[0].getMonth()+1)*100+s[0].getDate(),s[1].getFullYear()*10000+(s[1].getMonth()+1)*100+s[1].getDate()]}var m=p("./base"),g=p("./qt"),l=p("./daily");u.exports=m.create({init:function(z,s,B,v){this.symbol=z,z.substr(0,2)=="us"&&z.indexOf(".")<0&&(this.symbol="us."+z.substr(2)),this.dataQt=s||new g(z),this.dataDaily=B||new l(z,this.dataQt);var A=this.symbol.substr(0,2);A=="us"?this.baseUrl="http://data.gtimg.cn/flashdata/us/":A=="hk"?this.baseUrl="http://data.gtimg.cn/flashdata/hk/":this.baseUrl="http://data.gtimg.cn/flashdata/hushen/",this.defalutCnt=v||70},_getMonthly:function(){var s=this,o,v="monthly_data";this._load(this.baseUrl+"monthly/"+this.symbol+".js",v,function(z){s._data=z;var B=s._data,A=s._qt;s._lastVolume=0,s._join()})},_clean:function(){var v=this._data,o=this._qt;this._cleanData=!0;var z=this.precision=o[3].length-o[3].indexOf(".")-1;for(var s=0;s<v.length;s++){v[s][1]=parseFloat(v[s][1]).toFixed(z),v[s][2]=parseFloat(v[s][2]).toFixed(z),v[s][3]=parseFloat(v[s][3]).toFixed(z),v[s][4]=parseFloat(v[s][4]).toFixed(z)}},_join:function(){var C=this,z=this._data,E=this._qt;if(z&&E){if(!E.length){return C.set(z)}!C._cleanData&&C._clean();if(E[3]!=0){var B=E[30].replace(/[- \/:]/ig,""),v=z[z.length-1],A=[B.substr(0,8),E[5]==0?E[3]:E[5],E[3]==0?E[5]:E[3],E[33]==0?Math.max(E[3],E[5]):E[33],E[34]==0?Math.max(E[3],E[5]):E[34],parseInt(E[36],10)];/hk[a-z]+/gi.test(this.symbol)&&(A[5]*=10000),v&&v[0].substr(0,6)==B.substr(0,6)?(v[0]==A[0]&&(this._lastVolume=this._lastVolume||A[5]),v[0]=A[0],v[2]=A[2],v[3]=Math.max(v[3],A[3]),v[4]=Math.min(v[4],A[4]),v[5]=parseInt(v[5],10)+A[5]-(this._lastVolume||0),v.b=null):z.push(A);if(v&&v.f){for(var D=0;D<z.length;D++){z[D].f=null}}this._lastVolume=A[5]}z.qt=E,C.set(z)}},_checkFq:function(z,s,A){var v=this,o=this.dataDaily;o.getFqData(z,function(I,H){function D(K,J){return(K*J).toFixed(v.precision)}var G=[],B=0;for(var F=0;F<s.length;F++){var C=s[F];if(!C[z]){var t=q(C[0]),E=H(t[0],t[1]);E===!1?(B++,o.get({onceoff:!0,beg:t[0],end:t[1],fq:z,limit:!1,fn:function(){var L=F,J=s,K=z;return function(N){var O=G[L]=J[L][z]=J[L].slice(),Q=N.length,M=[];for(var P=0;P<Q;P++){P==0&&(O[1]=N[P][1]),P==Q-1&&(O[2]=N[P][2]),M.push(N[P][3],N[P][4])}O[3]=Math.max.apply(null,M),O[4]=Math.min.apply(null,M),B--,B==0&&A(G)}}()})):C[z]=[C[0],D(C[1],E),D(C[2],E),D(C[3],E),D(C[4],E),C[5]]}G[F]=C[z]}B==0&&A(G)})},flush:function(s,o){var v=this;s.fq?v._checkFq(s.fq,o,function(z){v._flushDays(s,z)}):v._flushDays(s,o)},start:function(){var o=this;this._data||this._getMonthly(),this._qtId||(this._qtId=this.dataQt.get({fn:function(s){o._qt=s,o._join()}}))},stop:function(){this._qtId&&(this.dataQt.rem(this._qtId),this._qtId=null)}})}),f("../../../../data/time",["require","exports","module","../util/tool"],function(l,g,m){var k=l("../util/tool").array_find;m.exports={us:["0930","1600"],sh:[["0930","1130"],["1300","1500"]],sz:[["0930","1130"],["1300","1500"]],hk:[["0930","1200"],["1300","1600"]],data:{},create:function(B,v){var D=[],A=parseInt(B.substr(0,2),10),q=parseInt(v.substr(0,2),10),z=parseInt(B.substr(2,2),10),C=parseInt(v.substr(2,2),10),p=function(s,o){return(s<10?"0":"")+s+(o<10?"0":"")+o};while(A<q||A==q&&z<=C){D.push(p(A,z)),z++,z==60&&(z=0,A++,A==24&&(A=0))}return D},get:function(q){if(!this.data[q]){var o=this[q],s=[];if(typeof o[0]=="string"){s=this.create(o[0],o[1])}else{for(var p=0;p<o.length;p++){s.push.apply(s,this.create(o[p][0],o[p][1]))}}this.data[q]=s}return this.data[q]},range:function(u,p,v,o){var q=this.get(u);return p?p=k(q,function(s){return s-p},!0)+(o?0:1):p=0,v?v=k(q,function(z,s){return z-v},!0):v=p,q.slice(p,v+(o?1:0))}}}),f("../../../../data/minute",["require","exports","module","./base","./qt","./time"],function(o,k,p){var m=o("./base"),g=o("./qt"),l=o("./time");p.exports=m.create({init:function(s,q){this.symbol=s,s.substr(0,2)=="us"&&s.indexOf(".")<0&&(this.symbol="us."+s.substr(2)),this.dataQt=q||new g(s)},_join:function(){var C=this;if(new Date-C._data_time>300000){C._getData();return}var G=C._data,s=C._qt&&C._qt.slice();if(G&&s){if(!s.length){this.set(G);return}s[36]=s[36]|0;var z=s[30].replace(/[\- :\/]/g,""),q=z.substr(8,4),F=l.get(C.symbol.substr(0,2));q>F[F.length-1]?q=F[F.length-1]:q<F[0]&&(q=F[0]),G.date!=z.substr(0,8)&&(G=C._data={date:z.substr(0,8),time:[],price:[],volume:[]}),s[3]=parseFloat(s[3])===0?parseFloat(s[5])===0?s[4]:s[5]:s[3],G.yprice=s[4],C._isClean||(C._isClean=!0,m._cleanMinute(G,l.range(C.symbol.substr(0,2),null,q,!0)));var E=G.time.length-1,B=E<0?s[4]||s[3]:G.price[E],v=l.range(C.symbol.substr(0,2),G.time[E],q);for(var D=0;D<v.length;D++){E++,G.time.push(v[D]),G.price.push(B),G.volume.push(0)}if(E<0||q!=G.time[E]){G.time.push(q),G.price.push(s[3]),G.volume.push(s[36]-C._lastVolume<0?0:s[36]-C._lastVolume),C._lastVolume=s[36]}else{G.price[E]=s[3];var A=s[36]-C._lastVolume;G.volume[E]+=A,G.volume[E]<0&&(G.volume[E]=0),C._lastVolume=s[36]}G.qt=s,this.set(G)}},_getData:function(){if(this._loading){return}this._loading=!0;var s=this,q,u;s.symbol.substr(0,2)=="us"?(q="http://message.finance.qq.com/flash/minute/day_minute.php?code="+this.symbol+"&var_name=mindata&"+Math.random(),u="mindata"):s.symbol.substr(0,2)=="hk"?(q="http://data.gtimg.cn/flashdata/hk/minute/"+this.symbol+".js?"+Math.random(),u="min_data"):(q="http://data.gtimg.cn/flashdata/hushen/minute/"+this.symbol+".js?"+Math.random(),u="min_data"),this._load(q,u,function(z){s._loading=!1,s._data_time=new Date;var C=s._data={date:z[0]&&z[0][0]&&z[0][0].split(":")[1],volume:[],price:[],time:[]};/^\d{6}$/.test(C.date)&&(C.date.substr(0,2)>"20"?C.date="19"+C.date:C.date="20"+C.date);var B=0,v=0;for(var A=1;A<z.length;A++){C.time.push(z[A][0]),parseFloat(z[A][1])!=0&&(v=z[A][1]),C.price.push(v),C.volume.push(z[A][2]-B<0?0:z[A][2]-B),B=z[A][2]}s._lastVolume=B,s._join()})},start:function(){var q=this;this._data||this._getData(),this._qtId||(this._qtId=this.dataQt.get({fn:function(s){q._qt=s,q._join()}}))},stop:function(){this._qtId&&(this.dataQt.rem(this._qtId),this._qtId=null)}})}),f("../../../../data/minute5",["require","exports","module","./base","./minute","./time"],function(o,k,p){var m=o("./base"),g=o("./minute"),l=o("./time");p.exports=m.create({init:function(s,q){this.symbol=s,s.substr(0,2)=="us"&&s.indexOf(".")<0&&(this.symbol="us."+s.substr(2)),this.dataMin=q||new g(s)},_join:function(){var s=this,q=s._data4,u=s._data;q&&u&&(q.length&&u.date==q[q.length-1].date?q[q.length-1]=u:q.push(u),q=q.slice(-5),q.qt=u.qt,this.set(q))},_getData:function(){if(this._loading){return}this._loading=!0;var s=this,q,u;s.symbol.substr(0,2)=="us"?(q="http://data.gtimg.cn/flashdata/us/4day/"+this.symbol+".js",u="us_5day_min"):s.symbol.substr(0,2)=="hk"?(q="http://stock.gtimg.cn/data/hk_4day_minute.php?var_name=hk4dayminute&code="+this.symbol,u="hk4dayminute"):(q="http://data.gtimg.cn/flashdata/hushen/4day/"+this.symbol.substr(0,2)+"/"+this.symbol+".js?",u="min_data_4d"),this._load(q,u,function(B){s._loading=!1,s._data4=[];for(var E=0;E<B.length;E++){/^\d{6}$/.test(B[E].date)&&(B[E].date=(B[E].date.substr(0,2)>20?"19":"20")+B[E].date);var A=s._data4[E]={date:B[E].date,time:[],price:[],volume:[],yprice:B[E].prec},D=B[E].data.split("^"),z=0;for(var v=0;v<D.length;v++){var C=D[v].split("~");C[0]=C[0].replace(":","").substr(0,4),C.length>=3&&(A.time.push(C[0]),A.price.push(C[1]),C[2]-z<0&&(C[2]=z),A.volume.push(C[2]-z),z=C[2])}m._cleanMinute(A,l.get(s.symbol.substr(0,2)))}s._data4.reverse(),s._join()})},start:function(){var q=this;this._data4||this._getData(),this._qtId||(this._qtId=this.dataMin.get({fn:function(s){q._data=s,q._join()}}))},stop:function(){this._qtId&&(this.dataMin.rem(this._qtId),this._qtId=null)}})}),f("../../../../data/minutek",["require","exports","module","./base","./minute5","./time"],function(o,k,p){var m=o("./base"),g=o("./minute5"),l=o("./time");p.exports=m.create({init:function(u,q,v,s){this.symbol=u,u.substr(0,2)=="us"&&u.indexOf(".")<0&&(this.symbol="us."+u.substr(2));switch(q||5){case 60:this.period=function(t){return/(1030|1130|1400|1500)$/.test(t)};break;case 30:this.period=function(t){return/(30|00)$/.test(t)};break;default:this.period=function(t){return t%5==0}}this.dataMin=v||new g(u),this.defalutCnt=s||70},_join:function(D){var H=[],z=this.period,q=this.precision;for(var B=0;B<D.length;B++){var I=D[B],v=I.date,G=I.time.length,F=0;for(var C=0;C<G;C++){if(C<G-1){if(!z(I.time[C])){continue}if(F==C){continue}}var A=[v+I.time[C],I.price[F],I.price[C]];A[1]=parseFloat(A[1]).toFixed(q),A[2]=parseFloat(A[2]).toFixed(q);var E=I.price.slice(F,C+1);A[3]=parseFloat(Math.max.apply(null,E)).toFixed(q),A[4]=parseFloat(Math.min.apply(null,E)).toFixed(q),A[5]=0,E=I.volume.slice(F,C+1);while(E.length){A[5]+=parseInt(E.pop(),10)}H.push(A),F=C+1}}this.set(H)},flush:m._flushDays,start:function(){var q=this;this._qtId||(this._qtId=this.dataMin.get({fn:function(s){if(!q.precision){var u=s.qt;q.precision=u[3].length-u[3].indexOf(".")-1}q._data=s,q._join(s)}}))},stop:function(){this._qtId&&(this.dataMin.rem(this._qtId),this._qtId=null)}})}),f("../../../../util/promise",["require","exports","module"],function(l,g,m){var k=m.exports=function(p,o){var q=this;this._status=k.STATUS.INIT;var q=this;setTimeout(function(){p.call(q,function(){if(q._status==k.STATUS.INIT||q._status==k.STATUS.PROGRESS){q._status=k.STATUS.DONE,q._done_arg=arguments,q._done_fn&&q._done_fn.apply(window,q._done_arg)}},function(){q._status!=k.STATUS.CANCEL&&(q._status=k.STATUS.ERROR,q._error_arg=arguments,q._error_fn&&q._error_fn.apply(window,q._error_arg))},function(){if(q._status==k.STATUS.INIT||q._status==k.STATUS.PROGRESS){q._status=k.STATUS.PROGRESS,q._progress_arg=arguments,q._progress_fn&&q._progress_fn.apply(window,q._progress_arg)}})},0),o&&(this._cancel_fn=o)};k.STATUS={INIT:0,CANCEL:-1,DONE:1,ERROR:2,PROGRESS:3},k.join=function(){var p=arguments;p.length==1&&Object.prototype.toString.call(p[0])==="[object Array]"&&(p=p[0]);var o=p.length;return new k(function(v,q,A){var F=[],t=[],E=[],D=[],B=[],z=[];for(var C=0;C<o;C++){p[C].then(function(){var s=C;return function(){D[s]=!0,F[s]=arguments;for(var u=0;u<o;u++){if(!D[u]){return}}D=[],v.apply(this,F)}}(),function(){var s=C;return function(){B[s]=!0,t[s]=arguments;for(var u=0;u<o;u++){if(!B[u]){return}}B=[],q.apply(this,t)}}(),function(){var s=C;return function(){z[s]=!0,E[s]=E.slice.call(arguments);for(var u=0;u<o;u++){if(!z[u]){return}}z=[],A.apply(this,E)}}())}},function(){for(var q=0;q<o;q++){p[q].cancel()}})},k.prototype.cancel=function(){return this._status=k.STATUS.CANCEL,this._cancel_fn&&this._cancel_fn.apply(window),this},k.prototype.done=function(o){return this._status==k.STATUS.DONE&&o.apply(window,this._done_arg),this._done_fn=o,this},k.prototype.error=function(o){return this._status==k.STATUS.ERROR&&o.apply(window,this._error_arg),this._error_fn=o,this},k.prototype.progress=function(o){return this._status==k.STATUS.PROGRESS&&o.apply(window,this._progress_arg),this._progress_fn=o,this},k.prototype.then=function(p,o,q){return p&&this.done(p),o&&this.error(o),q&&this.progress(q),this}}),f("../../../../util/formula",["require","exports","module","./tool"],function(P,C,I){var F=P("./tool"),L=F.cache,D=function(v,V){var m=v.length,g=[];for(var p=0;p<m;p++){g.push(v[p] instanceof Array?v[p].length:-1)}var W=[];for(var p=0,l=Math.max.apply(null,g);p<l;p++){var U=[];for(var E=0;E<m;E++){U.push(g[E]>=0?v[E][p]:v[E])}W[p]=V.apply(W,U)}return W},H=C["+"]=function(l,g){return D([l,g],function(o,m){return o+m})},A=C["-"]=function(l,g){return D([l,g],function(o,m){return o-m})},T=C["*"]=function(l,g){return D([l,g],function(o,m){return o*m})},O=C["/"]=function(l,g){return D([l,g],function(o,m){return o/m})},K=C.zero=function(g){return D([g],function(l){return isNaN(l)?0:l})},R=C.MAX=function(){var l=Array.prototype.slice.apply(arguments),g=l.length;return D(l,function(){return Math.max.apply(Math,arguments)})},M=C.ABS=function(g){return D([g],function(l){return Math.abs(l)})},G=C.REF=function(o,l){var p=o.length,m=[];for(var g=0;g<l;g++){m.push(undefined)}return m.concat(o).slice(0,p)},Q=C.IF=function(l,g){return D(l,g)},z=C.SUM=function(p,l){var u=[];if(p&&p.length&&l>0){var o=0,g=0,m=p.length;for(;g<m;g++){p[g]&&(o+=p[g]),g>=l&&p[g-l]&&(o-=p[g-l]),g>=l-1&&(u[g]=o)}}return u},J=C.MA=L(function(p,l){var u=[];if(p&&p.length&&l>0){var o=0,g=0,m=p.length;for(;g<m;g++){p[g]&&(o+=p[g]),g>=l&&p[g-l]&&(o-=p[g-l]),g>=l-1&&(u[g]=o/l)}}return K(u)}),N=L(function(s,m,E){var p=E/m,l=1-p,v=!1,g=D([s],function(o){return v=v!==!1&&!isNaN(v)?p*o+l*v:o});return g}),k=C.EMA=L(function(E,m){var V=[];if(E&&E.length&&m>0){var v=0,l=0,p=E.length,U=2/(m+1),g=1-U;for(;l<p;l++){V[l]=l?U*E[l]+g*V[l-1]:E[l]}}return V}),S=C.HHV=L(function(o,l){var p=[];for(var m=l-1,g=o.length;m<g;m++){p[m]=Math.max.apply(null,o.slice(m-l+1,m+1))}return p}),q=C.LLV=L(function(o,l){var p=[];for(var m=l-1,g=o.length;m<g;m++){p[m]=Math.min.apply(null,o.slice(m-l+1,m+1))}return p});C.MACD=L(function(u,l,E,p){l=l||26,E=E||12,p=p||9;var g=A(k(u,E),k(u,l)),m=k(g,p),v=T(A(g,m),2);return{DIF:g,DEA:m,MACD:v}}),C.RSI=L(function(o,l){var p=G(o,1),m=A(o,p),g=M(m);return T(O(N(R(m,0),l,1),N(g,l,1)),100)});var B=C.STD=L(function(E,m){var V=[],v=J(E,m);for(var l=m-1,p=E.length;l<p;l++){var U=0;for(var g=l-m+1;g<=l;g++){U+=Math.pow(E[g]-v[l],2)}V[l]=Math.sqrt(U/m)}return V});C.BOLL=L(function(u,l,v){l=l||20,v=v||2;var o=J(u,l),g=T(B(u,l),v),m=H(o,g),p=A(o,g);return[m,o,p]}),C.SAR=L(function(V,Z,p,g,E){var aa=[],m=[],Y=[],X=V.length,U=[],v=function(o){if(o>=X){return}aa[o]=Math.min.apply(null,Z.slice(o-p,o)),U[o]=1;if(aa[o]>Z[o]){W(o+1)}else{Y[o]=Math.max.apply(null,V.slice(o-p+1,o+1)),m[o]=g;while(o<X-1){aa[o+1]=aa[o]+m[o]*(Y[o]-aa[o])/100,U[o+1]=1;if(aa[o+1]>Z[o+1]){W(o+2);return}Y[o+1]=Math.max.apply(null,V.slice(o-p+2,o+2)),V[o+1]>Y[o]?(m[o+1]=m[o]+g,m[o+1]>E&&(m[o+1]=E)):m[o+1]=m[o],o++}}},W=function(l){if(l>=X){return}aa[l]=Math.max.apply(null,V.slice(l-p,l)),U[l]=-1;if(aa[l]<V[l]){v(l+1);return}Y[l]=Math.min.apply(null,Z.slice(l-p+1,l+1)),m[l]=g;while(l<X-1){aa[l+1]=aa[l]+m[l]*(Y[l]-aa[l])/100,U[l+1]=-1;if(aa[l+1]<V[l+1]){v(l+2);return}Y[l+1]=Math.min.apply(null,Z.slice(l-p+2,l+2)),Z[l+1]<Y[l]?(m[l+1]=m[l]+g,m[l+1]>E&&(m[l+1]=E)):m[l+1]=m[l],l++}};return V[p]>V[0]||Z[p]>Z[0]?v(p):W(p),[aa,U]}),C["W&R"]=L(function(E,V,p,g,v){v=v||6;var W=S(V,g),m=O(T(A(W,E),100),A(W,q(p,g))),u=S(V,v),U=O(T(A(u,E),100),A(u,q(p,v)));return[m,U]}),C.OBV=L(function(o,l){var p=[0];for(var m=1,g=o.length;m<g;m++){o[m]>o[m-1]?p[m]=p[m-1]+l[m]:o[m]<o[m-1]?p[m]=p[m-1]-l[m]:p[m]=p[m-1]}return O(p,10000)}),C.KDJ=L(function(W,Y,v,g,U,Z){var u=q(Y,g),E=O(A(W,u),O(A(S(v,g),u),100)),X=N(E,U,1),V=N(X,Z,1),m=A(T(3,X),T(2,V));return[X,V,m]}),C.DMI=L(function(V,aa,o,m,v){var ac=z(R(R(A(o,aa),M(A(o,G(V,1)))),M(A(aa,G(V,1)))),m),p=A(o,G(o,1)),U=A(G(aa,1),aa),X=z(Q([p,U],function(l,g){return l>0&&l>g?l:0}),m),W=z(Q([U,p],function(l,g){return l>0&&l>g?l:0}),m),Z=O(T(X,100),ac),ab=O(T(W,100),ac),u=J(O(M(A(ab,Z)),O(H(Z,ab),100)),v),Y=O(H(u,G(u,v)),2);return[Z,ab,u,Y]})}),f("../../../../data/data",["require","exports","module","./qt","./daily","./weekly","./monthly","./minute","./minute5","./minutek","../util/promise","../util/tool","../util/formula"],function(C,G,q){var g=C("./qt"),z=C("./daily"),H=C("./weekly"),m=C("./monthly"),F=C("./minute"),E=C("./minute5"),B=C("./minutek"),v=C("../util/promise"),D=C("../util/tool"),A=C("../util/formula"),k=q.exports=function(s,p){var I=this;this.symbol=s||"sh000001";var o=new g(this.symbol);this.precision=2,o.get({onceoff:!0,fn:function(l){l.length&&(I.precision=l[3].length-l[3].indexOf(".")-1,I.name=l[1])}});var u=this.loader={qt:o,monthly:new m(this.symbol,o),weekly:new H(this.symbol,o),daily:new z(this.symbol,o,p),minute:new F(this.symbol,o)};u.minute5=new E(this.symbol,u.minute),u.minuteK5=new B(this.symbol,5,u.minute5),u.minuteK30=new B(this.symbol,30,u.minute5),u.minuteK60=new B(this.symbol,60,u.minute5)};k.prototype.clear=function(){for(var l in this.loader){this.loader[l].stop()}},k.prototype.getData=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-1,fq:u,fn:function(M,L){if(M[0]){var N=L===0?M[0][1]:M[0][2]}s({qt:M.qt,yprice:N,data:M.slice(-L)})}})},function(){l.loader[I].rem(p)})},k.prototype.getVolume=function(s,o,u){var p=this,l;return new v(function(I,J,t){l=p.loader[s].get({beg:o,end:u,fn:function(K){t(K)}})},function(){p.loader[s].rem(l)})},k.prototype.getMin5Data=function(){var o=this,l;return new v(function(t,s,p){l=o.loader.minute5.get({fn:function(u){p(u)}})},function(){o.loader.minute5.rem(l)})},k.prototype.getMinData=function(){var o=this,l;return new v(function(t,s,p){l=o.loader.minute.get({fn:function(u){p(u)}})},function(){o.loader.minute.rem(l)})},k.prototype.getTrend=function(){var o=this,l;return new v(function(t,s,p){l=o.loader.weekly.get({beg:!0,fn:function(I){if(I.length){var u=I[0].slice();u[0]=String(D.date_shift(I[0][0],-7)),I[0]=u}p(I)}})},function(){o.loader.weekly.rem(l)})},k.prototype.getMA=function(L,I,N,K,p,J){K=K||5;var M=this,l;return new v(function(s,t,o){l=M.loader[L].get({beg:I,end:N,shift:-K,fq:J,fn:function(R,P){var T=[],Q=p=="volume"?5:2;for(var S=0,O=R.length;S<O;S++){T.push(parseFloat(R[S][Q]))}o(A.MA(T,K).slice(-P))}})},function(){M.loader[L].rem(l)})},k.prototype.getMACD=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-100,fq:u,fn:function(P,M){var Q=[];for(var O=0,L=P.length;O<L;O++){Q[O]=parseFloat(P[O][2])}var N=A.MACD(Q);s(N.MACD.slice(-M),N.DIF.slice(-M),N.DEA.slice(-M))}})},function(){l.loader[I].rem(p)})},k.prototype.getRSI=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-30,fq:u,fn:function(Q,N){var S=[];for(var P=0,M=Q.length;P<M;P++){S[P]=parseFloat(Q[P][2])}var O=A.RSI(S,6),R=A.RSI(S,12),L=A.RSI(S,24);s(O.slice(-N),R.slice(-N),L.slice(-N))}})},function(){l.loader[I].rem(p)})},k.prototype.getKDJ=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-15,fq:u,fn:function(Q,N){var S=[],P=[],M=[];for(var O=0,R=Q.length;O<R;O++){S[O]=parseFloat(Q[O][2]),M[O]=parseFloat(Q[O][3]),P[O]=parseFloat(Q[O][4])}var L=A.KDJ(S,P,M,9,3,3);s(L[0].slice(-N),L[1].slice(-N),L[2].slice(-N))}})},function(){l.loader[I].rem(p)})},k.prototype.getDMI=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-20,fq:u,fn:function(Q,N){var S=[],P=[],M=[];for(var O=0,R=Q.length;O<R;O++){S[O]=parseFloat(Q[O][2]),M[O]=parseFloat(Q[O][3]),P[O]=parseFloat(Q[O][4])}var L=A.DMI(S,P,M,14,6);s(L[0].slice(-N),L[1].slice(-N),L[2].slice(-N),L[3].slice(-N))}})},function(){l.loader[I].rem(p)})},k.prototype.getOBV=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-1,fq:u,fn:function(P,M){var R=[],O=[];for(var L=0,N=P.length;L<N;L++){R[L]=parseFloat(P[L][2]),O[L]=parseInt(P[L][5],10)}var Q=A.OBV(R,O);s(Q.slice(-M))}})},function(){l.loader[I].rem(p)})},k.prototype.getWR=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-20,fq:u,fn:function(Q,N){var S=[],P=[],M=[];for(var O=0,R=Q.length;O<R;O++){S[O]=parseFloat(Q[O][2]),M[O]=parseFloat(Q[O][3]),P[O]=parseFloat(Q[O][4])}var L=A["W&R"](S,M,P,10,6);s(L[0].slice(-N),L[1].slice(-N))}})},function(){l.loader[I].rem(p)})},k.prototype.getBOLL=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-30,fq:u,fn:function(Q,S){var N=[],L=[],O=[],T=[];for(var M=0,R=Q.length;M<R;M++){T[M]=parseFloat(Q[M][1]),L[M]=parseFloat(Q[M][3]),O[M]=parseFloat(Q[M][4]),N[M]=parseFloat(Q[M][2])}var P=A.BOLL(N,20,2);s(P[0].slice(-S),P[1].slice(-S),P[2].slice(-S),[T.slice(-S),L.slice(-S),O.slice(-S),N.slice(-S)])}})},function(){l.loader[I].rem(p)})},k.prototype.getSAR=function(I,o,J,u){var l=this,p;return new v(function(K,t,s){p=l.loader[I].get({beg:o,end:J,shift:-30,fq:u,fn:function(Q,S){var N=[],L=[],O=[],T=[];for(var M=0,R=Q.length;M<R;M++){T[M]=parseFloat(Q[M][1]),L[M]=parseFloat(Q[M][3]),O[M]=parseFloat(Q[M][4]),N[M]=parseFloat(Q[M][2])}var P=A.SAR(L,O,10,2,20);s(P[0].slice(-S),P[1].slice(-S),[T.slice(-S),L.slice(-S),O.slice(-S),N.slice(-S)])}})},function(){l.loader[I].rem(p)})}}),function(g){g("../../../../../../gallery/graphic/1.0.0/graphic-r",[],function(){var aL={NaN:1,Infinity:1,"-Infinity":1},aw=String,aC=aw.prototype.toLowerCase,ay=/[, ]+/,aH=Object.prototype.hasOwnProperty,ax=Object.prototype.toString,aB=function(m,k,o){var l=document.createElement("canvas");return l.width=m,l.height=k,typeof FlashCanvas!="undefined"&&FlashCanvas.initElement(l),(o||document.body).appendChild(l),l},av={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},aP=function(l,m,k){m=av[aw(m).toLowerCase()],m?l.attrs["stroke-dasharray"]=m:delete l.attrs["stroke-dasharray"]},aK={M:{num:2,cb:"moveTo"},L:{num:2,cb:"lineTo"},Z:{num:0,cb:"closePath"},C:{num:6,cb:"bezierCurveTo"},X:{num:6,cb:"arc"}},aE=function(k,l){return l=aC.call(l),l=="finite"?!aH.call(aL,+k):l=="array"?k instanceof Array:l=="null"&&k===null||l==typeof k&&k!==null||l=="object"&&k===Object(k)||l=="array"&&Array.isArray&&Array.isArray(k)||ax.call(k).slice(8,-1).toLowerCase()==l},aN=function(D,M){var z=D.attrs,k=D.round;D.parent._dirty=!0;for(var N in M){if(aH.call(M,N)){var q=z[N]=M[N];switch(N){case"path":var L=aE(q,"array")?q:q.replace(/[A-Z]/g," $& ").split(" ");if(L[0]&&L[0].length>1){z.path=L}else{var F=z.path=[],B=aK,l=0,E,I=L.length,A,C;for(l=0;l<I;l++){A=B[L[l]];if(A){E=l+A.num,C=[];while(l<E){l++,C.push(L[l])}F.push([A.cb,C])}}}break;case"fill":z.fill=q;break;case"stroke":z.stroke=q;break;case"stroke-dasharray":q?aP(D,q,z.stroke):delete z["stroke-dasharray"];break;case"align":z[N]=q;break;case"src":var H=new Image;H.src=q,H.crossOrigin="anonymous",H.onload=function(){D.attr({image:H})};break;case"x":case"y":case"x1":case"y1":case"x2":case"y2":z[N]=k(q);break;case"text":z[N]=String(q);break;default:z[N]=q}}}},aI=function(q,l,z){this.width=q,this.height=l,this.zoomWidth=this.zoomHeight=1,this._top=this._bottom=null,this.node=document.createElement("div"),this.node.style.cssText="width:"+this.width+"px;height:"+this.height+"px;position:relative;",(z||document.body).appendChild(this.node),this.id=this.uuid();var p=["mousemove","mousedown","mouseup","click","dblclick","mouseout"],m=this,v=null;for(var k=0;k<p.length;k++){ah(this.node,p[k],function(){var o=p[k];return function(B,E,C){if(!aH.call(B,"dx")){B.gx=E,B.gy=C;var A=m.node;while(A){E-=A.offsetLeft,C-=A.offsetTop,A=A.offsetParent}B.dx=E/m.zoomWidth,B.dy=C/m.zoomHeight}if(o=="mouseout"){v&&v.dispatchEvent(B.type,B),v=null}else{var s=m.getElementByPoint(B.dx,B.dy,o);v&&s!=v&&v.dispatchEvent(o!=B.type&&af&&ac.mouseout||"mouseout",B),s&&(B.element=s,s!=v&&s.dispatchEvent(o!=B.type&&af&&ac.mouseover||"mouseover",B)),v=s,s&&s.dispatchEvent(B.type,B)}var D=m._top;while(D){(!B.element||B.element.parent!=D||B.returnValue)&&D.dispatchEvent(B.type,B),D=D._next}}}(),this)}};aI.createCanvas=aB;var aA=aI.prototype;aA.layer=function(){return new aJ(this)},aA.zoom=function(l,k){k=k||l,l=l||this.zoomWidth,k=k||this.zoomHeight;if(l!=this.zoomWidth||k!=this.zoomHeight){this.zoomWidth=l,this.zoomHeight=k,l=this.width*this.zoomWidth+"px",k=this.height*this.zoomHeight+"px",this.node.style.width=l,this.node.style.height=k;var m=this._top;while(m){m.node.style.width=m._canvas.style.width=l,m.node.style.height=m._canvas.style.height=k,m=m._next}this._hideCanvas&&(this._hideCanvasNode.style.width=l,this._hideCanvasNode.style.height=k)}return this},aA.size=function(l,k){l=l||this.width,k=k||this.height;if(l!=this.width||k!=this.height){this.width=l,this.height=k,w1=this.width*this.zoomWidth+"px",h1=this.height*this.zoomHeight+"px",this.node.style.width=w1,this.node.style.height=h1;var m=this._top;while(m){m.node.style.width=m._canvas.style.width=w1,m.node.style.height=m._canvas.style.height=h1,m._canvas.width=l,m._canvas.height=k,m._dirty=!0,m=m._next}this.draw(),this._hideCanvas&&(this._hideCanvas.width=l,this._hideCanvas.height=k,this._hideCanvasNode.style.width=w1,this._hideCanvasNode.style.height=h1)}return this};var aM=["path","circle","rect","ellipse","image","text","line","shape"];for(var au=0;au<aM.length;au++){aA[aM[au]]=function(){var k=aM[au];return function(){return !this._bottom&&this.layer(),this._bottom[k].apply(this._bottom,arguments)}}()}var aD=function(l){var k=l.parent;l._next=null,k._bottom?(l._prev=k._bottom,k._bottom._next=l,k._bottom=l):(l._prev=null,k._top=k._bottom=l)},aJ=function(l){this.parent=l,this.node=document.createElement("div");var k=l.width*l.zoomWidth,m=l.height*l.zoomHeight;this.node.style.cssText="width:"+k+"px;height:"+m+"px;position:absolute;top:0px;left:0px;background:transparent;",l.node.appendChild(this.node),this._canvas=aB(l.width,l.height,this.node),this.ctx=this._canvas.getContext("2d"),this._top=this._bottom=null,this.id=this.uuid(),this.attrs={},aD(this)},aq=aJ.prototype;aq.getContext=function(){return this.ctx},aA.getContext=function(){return !this._bottom&&this.layer(),this._bottom.getContext()},aA.cursor=function(k){this.node.style.cursor=k},aq.cursor=function(k){this.parent.cursor(k)},aA._getHideLayer=function(){if(!this._hideLayer){var m=document.createElement("div"),k=this.width*this.zoomWidth,o=this.height*this.zoomHeight;m.style.cssText="width:"+k+"px;height:"+o+"px;position:absolute;top:0px;left:0px;background:transparent;display:none;",this.node.appendChild(m);var l=aB(this.width,this.height,m);this._hideCanvasNode=m,this._hideCanvas=l,this._hideLayer=l.getContext("2d")}return this._hideLayer},aA.getElementByPoint=function(q,l){var v=this._getHideLayer();if(q<0||l<0||q>this.width||l>this.height){return null}var p=this._bottom;while(p){if(p._display!="none"){var k=p._bottom;while(k){if(k._display!="none"&&k._events){var m=k.attrs,u=m.draw||aO.drawMethod[k.type];if(u&&m.fill||m.draw){if(k.getPolygon()!=k.polygon){if(k._hasPoint(q,l)){return k}}else{u(v,m,k);if(v.isPointInPath&&!k.polygon?v.isPointInPath(q,l):k._hasPoint(q,l)){return k}}}}k=k._prev}}p=p._prev}return null},aA.draw=function(){var l=this;if(this._drawTimer){return}var k=function(){l._drawTimer=!1;var m=l._top;while(m){m.draw.apply(m,[!0]),m=m._next}};return l._drawTimer=setTimeout(k,0),this},aA.toDataURL=function(){var k=this._getHideLayer();return k.putImageData(this.getImageData(0,0,this.width,this.height),0,0),this._hideCanvas.toDataURL()},aA.getImageData=function(A,E,p,k){var v=this._top,F,m=0;while(v){if(!F){F=v.getImageData(A,E,p,k)}else{var D=v.getImageData(A,E,p,k).data,C=F.data;for(var m=0;m<C.length;m+=4){var z=D[m+3]/255,q=C[m+3]/255;if(z!=0){for(var B=m;B<m+3;B++){C[B]=D[B]*z+C[B]*(1-z)}C[m+3]=(z+(1-z)*q)*255}}}v=v._next}return F},aq.getImageData=function(m,k,o,l){return m=m||0,k=k||0,o=o||this.parent.width,l=l||this.parent.height,this._display!="none"?this.ctx.getImageData(m,k,o,l):this.ctx.createImageData(o,l)},aq.show=function(){return this._display="",this.node.style.display="",this},aq.hide=function(){return this._display="none",this.node.style.display="none",this},aq.draw=function(l){var k=this,m=function(){k._drawTimer=!1;if(k._dirty||l){k._dirty=!1;var o=k._top;k.ctx.clearRect(0,0,k.parent.width,k.parent.height);while(o){o.draw.apply(o),o=o._next}}};if(l===!0){return m(),this}if(this._drawTimer){return}return k._drawTimer=setTimeout(m,0),this},aq.path=function(l){var k=new aO("path",this);return k.attr({path:l,stroke:"#000"}),k},aq.line=function(o,l,p,m){var k=new aO("line",this);return k.attr({x1:o,y1:l,x2:p,y2:m,stroke:"#000"}),k},aq.circle=function(m,k,o){var l=new aO("circle",this);return l.attr({x:m,y:k,r:o,stroke:"#000"}),l},aq.rect=function(p,l,q,o,k){var m=new aO("rect",this);return m.attr({x:p,y:l,width:q,height:o,r:k||0,rx:k||0,ry:k||0,stroke:"#000"}),m},aq.ellipse=function(o,l,p,m){var k=new aO("ellipse",this);return k.attr({cx:o,cy:l,rx:p,ry:m,stroke:"#000"}),k},aq.image=function(p,l,q,o,k){var m=new aO("image",this);return m.attr({x:l,y:q,width:o,height:k,src:p}),m},aq.text=function(m,k,o){var l=new aO("text",this);return l.attr({x:m,y:k,align:"start",text:o,font:"12px arial",fill:"#000"}),l},aq.shape=function(l){var k=new aO("shape",this);return k.attr({draw:l}),k},aq.clear=function(){var k=this._top;while(k){k.removed=!0,k=k._next}this._top=this._bottom=null,this._dirty=!0,this.draw()};var aO=function(l,k,m){this.parent=k,this.ctx=k.ctx,this._prev=this._next=null,this.attrs={},this.type=l,this._data={},m&&this.attr(m),this.id=this.uuid(),aD(this)},at=aO.prototype,aj=0;aA.uuid=aq.uuid=at.uuid=function(){var l=this.parent;if(l){var k=(l._uuid||0)+1;l._uuid=k}else{var k=aj+1;aj=k}var m=(l&&l.id||"")+"#"+k;return m},at.data=function(m,k){var o=this._data;if(arguments.length==1){if(aE(m,"object")){for(var l in m){aH.call(m,l)&&this.data(l,m[l])}return this}return o[m]}return o[m]=k,this},at.hide=function(){return this._display!="none"&&(this._display="none",this.parent._dirty=!0,this.parent.draw()),this},at.show=function(){return this._display!=""&&(this._display="",this.parent._dirty=!0,this.parent.draw()),this},at.toFront=function(){return this.removed?this:this.parent._bottom==this?this:(this._prev?this._prev._next=this._next:this.parent._top=this._next,this._next._prev=this._prev,this._next=null,this._prev=this.parent._bottom,this.parent._bottom._next=this,this.parent._bottom=this,this.parent._dirty=!0,this.parent.draw(),this)},at.remove=function(){return this.removed?this:(this.removed=!0,this._prev?this._prev._next=this._next:this.parent._top=this._next,this._next?this._next._prev=this._prev:this.parent._bottom=this._prev,this._prev=this._next=null,this.parent._dirty=!0,this.parent.draw(),this)},at.attach=function(k){if(!this.removed){if(this.parent==k){return this}this.remove()}return this.parent=k,this.ctx=k.ctx,this.removed=!1,aD(this),this.parent._dirty=!0,this.parent.draw(),this},at.toBack=function(){return this.removed?this:this.parent._top==this?this:(this._next?this._next._prev=this._prev:this.parent._bottom=this._prev,this._prev._next=this._next,this._prev=null,this._next=this.parent._top,this.parent._top._prev=this,this.parent._top=this,this.parent._dirty=!0,this.parent.draw(),this)},at.attr=function(z,C){var m=this.attrs;if(z==null){var D={};for(var l in m){aH.call(m,l)&&(D[l]=m[l])}return D}if(C==null&&aE(z,"string")){var B=z.split(ay),A={};for(var v=0,q=B.length;v<q;v++){z=B[v],z in m&&(A[z]=m[z])}return q-1?A:A[B[0]]}if(C==null&&aE(z,"array")){A={};for(v=0,q=z.length;v<q;v++){A[z[v]]=attr(z[v])}return A}if(C!=null){var k={};k[z]=C}else{z!=null&&aE(z,"object")&&(k=z)}return this.removed?this:(aN(this,k),this.parent.draw(),this)},at.animate=function(m,k,o,l){return G(this,m,k,o,l),this},aO.drawMethod={path:function(o,l){o.beginPath();var p=l.path,m=0,k=p.length;while(m<k){o[p[m][0]].apply(o,p[m][1]),m++}},line:function(l,k){l.beginPath(),l.moveTo(k.x1,k.y1),l.lineTo(k.x2,k.y2)},rect:function(q,l,v){var p=l.rx||l.r||0,k=l.ry||l.r||0,m=[l.x,l.x+p,l.x+l.width-p,l.x+l.width],u=[l.y,l.y+k,l.y+l.height-k,l.y+l.height];q.beginPath(),q.moveTo(m[1],u[0]),q.lineTo(m[2],u[0]),p&&k&&q.quadraticCurveTo(m[3],u[0],m[3],u[1]),q.lineTo(m[3],u[2]),p&&k&&q.quadraticCurveTo(m[3],u[3],m[2],u[3]),q.lineTo(m[1],u[3]),p&&k&&q.quadraticCurveTo(m[0],u[3],m[0],u[2]),q.lineTo(m[0],u[1]),p&&k&&q.quadraticCurveTo(m[0],u[0],m[1],u[0]),v.polygon=[[m[0],u[0]],[m[3],u[0]],[m[3],u[3]],[m[0],u[3]]]},text:function(m,k){m.font=k.font;var o=k.x,l=k.y;k.font&&(m.font=k.font),k.align&&(m.textAlign=k.align),k.valign&&(m.textBaseline=k.valign)},circle:function(l,k){l.beginPath(),l.arc(k.x,k.y,k.r,0,Math.PI*2,!0)},ellipse:function(l,k){l.translate(k.x,k.y),l.scale(k.rx,k.ry),l.beginPath(),l.arc(0,0,1,0,Math.PI*2,!0)},image:function(l,k){k.image&&l.drawImage(k.image,k.x,k.y)}},aO.prototype.getPolygon=function(k){return typeof k=="function"?(this.getPolygon=k,this):this.polygon},aO.prototype._hasPoint=function(v,B){var m=this.getPolygon();if(m&&m[0]){aE(m[0][0],"array")||(m=[m]);for(var k=0;k<m.length;k++){var p=m[k],C=p.length,l,A,z=0,q;for(q=0;q<C;q++){l=p[q],A=p[q+1==C?0:q+1];if(l[1]==A[1]){continue}if(B<Math.min(l[1],A[1])){continue}if(B>Math.max(l[1],A[1])){continue}v<(B-l[1])*(A[0]-l[0])/(A[1]-l[1])+l[0]&&z++}if(z%2===1){return !0}}}return !1},aO.prototype.draw=function(v,m,A,q){if(this._display!="none"){var l=aO.drawMethod[this.type],p=this.ctx,z=this.attrs;p.save();if(z.draw){z.draw(p,z,this)}else{if(l){l(p,z,this);if(z.shadow){var k=z.shadow.split(" ");p.shadowOffsetX=k[0],p.shadowOffsetY=k[1],p.shadowBlur=k[2],p.shadowColor=k.slice(3).join(" ")}z.fill&&(p.fillStyle=z.fill,this.type!="text"?p.fill():z.width?p.fillText(z.text,z.x,z.y,z.width):p.fillText(z.text,z.x,z.y)),z.stroke&&(z["stroke-width"]&&(p.lineWidth=z["stroke-width"]),z["stroke-dasharray"]&&(p.mozDash=p.webkitLineDash=z["stroke-dasharray"]),p.strokeStyle=z.stroke,this.type!="text"?p.stroke():z.width?p.strokeText(z.text,z.x,z.y,z.width):p.strokeText(z.text,z.x,z.y))}}p.restore()}return this};var Z=function(k){this.els=k&&(aE(k,"array")&&k||[k])||[]},ar="remove hide show attach toFront toBack".split(" ");for(var Y=0;Y<ar.length;Y++){Z.prototype[ar[Y]]=function(){var k=ar[Y];return function(){for(var l=0;l<this.els.length;l++){if(aE(this.els[l],"array")){var m=new Z(this.els[l]);m[k].apply(m,arguments)}else{this.els[l]&&this.els[l][k]&&this.els[l][k].apply(this.els[l],arguments)}}return this}}()}aI.Set=Z,aA.set=aq.set=function(k){return new Z(k)},aI.round=aA.round=aq.round=at.round=function(k){return Math.floor(k)+0.5};var ad=document,al=window,aF="split",af="createTouch" in document,an="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[aF](" "),ac={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},ae=function(){this.returnValue=!1},aQ=function(){return this.originalEvent.preventDefault()},ak=function(){this.cancelBubble=!0},ab=function(){return this.originalEvent.stopPropagation()},ah=function(){if(document.addEventListener){return function(p,l,q,o){var k=af&&ac[l]?ac[l]:l,m=function(A){var B=ad.documentElement.scrollTop||ad.body.scrollTop,D=ad.documentElement.scrollLeft||ad.body.scrollLeft,z=A.clientX+D,v=A.clientY+B;if(A.type!=l){for(var C=0,t=A.targetTouches&&A.targetTouches.length;C<t;C++){if(A.targetTouches[C].target==p){var E=A;A=A.targetTouches[C],z=A.clientX+D,v=A.clientY+B;break}}}return q.call(o,A,z,v)};return p.addEventListener(l,m,!1),k!=l&&p.addEventListener(k,m,!1),function(){return p.removeEventListener(l,m,!1),k!=l&&p.removeEventListener(k,m,!1),!0}}}if(ad.attachEvent){return function(p,l,q,o){var k=function(A){A=A||window.event;var v=ad.documentElement.scrollTop||ad.body.scrollTop,u=ad.documentElement.scrollLeft||ad.body.scrollLeft,z=A.clientX+u,B=A.clientY+v;return A.preventDefault=A.preventDefault||ae,A.stopPropagation=A.stopPropagation||ak,q.call(o,A,z,B)};p.attachEvent("on"+l,k);var m=function(){return p.detachEvent("on"+l,k),!0};return m}}}(),am={},aG=0,ai={},ag=function(q){var A=q.clientX,m=q.clientY,k=ad.documentElement.scrollTop||ad.body.scrollTop,p=ad.documentElement.scrollLeft||ad.body.scrollLeft,B;for(var l in am){B=am[l];if(af&&q.touches){var z=q.touches.length,v;while(z--){v=q.touches[z];if(v.identifier==B.el._drag.id){A=v.clientX,m=v.clientY,(q.originalEvent?q.originalEvent:q).preventDefault();break}}}else{q.preventDefault()}A+=p,m+=k,B.onmove&&B.onmove.apply(B.move_scope||B.el,[A-B.el._drag.x,m-B.el._drag.y,A,m,q])}},az=function(l){aI.unmousemove(ag).unmouseup(az);var k;for(var m in am){k=am[m],k.el._drag={},k.onend&&k.onend.apply(k.end_scope||k.start_scope||k.move_scope||k.el,[l])}am={},aG=0};aq.drag=at.drag=function(q,l,v,p,k,m){function u(z){(z.originalEvent||z).preventDefault();var t=ad.documentElement.scrollTop||ad.body.scrollTop,s=ad.documentElement.scrollLeft||ad.body.scrollLeft;this._drag.x=z.clientX+s,this._drag.y=z.clientY+t,this._drag.id=z.identifier,!aG&&aI.mousemove(ag).mouseup(az),am[this.id]={el:this,move_scope:p,start_scope:k,end_scope:m,onstart:l,onmove:q,onend:v},aG++,l&&l.apply(k||p||this,[z.clientX+s,z.clientY+t,z])}return this._drag={},ai[this.id]={el:this,start:u},this.mousedown(u),this},aq.undrag=at.undrag=function(){for(var k in ai){ai[k].el==this&&(this.unmousedown(ai[k].start),delete ai[k],delete am[k])}for(var k in ai){return}aI.unmousemove(ag).unmouseup(az)};for(var au=an.length;au--;){(function(k){aI[k]=aA[k]=aq[k]=at[k]=function(l,m){return aE(l,"function")&&(this.events=this.events||[],this.events.push({name:k,f:l,unbind:ah(this.id?this:document,k,l,this)})),this},aI["un"+k]=aA["un"+k]=aq["un"+k]=at["un"+k]=function(l){var o=this.events||[],m=o.length;while(m--){if(o[m].name==k&&o[m].f==l){return o[m].unbind(),o.splice(m,1),!o.length&&delete this.events,this}}return this}})(an[au])}aA.attachEvent=aq.attachEvent=at.attachEvent=aA.addEventListener=aq.addEventListener=at.addEventListener=function(l,k,m){this._events=this._events||{},l=l.replace("on",""),this._events[l]=this._events[l]||[],this._events[l].push(k)},aA.dispatchEvent=aq.dispatchEvent=at.dispatchEvent=function(m,k){k.target=k.target||this;var o=this._events&&this._events[m];if(o){for(var l=0;l<o.length;l++){if(o[l](k)===!1||k.returnValue===!1){return}}}this.parent&&!k.cancelBubble&&this.parent.dispatchEvent(m,k)},aA.detachEvent=aq.detachEvent=at.detachEvent=aA.removeEventListener=aq.removeEventListener=at.removeEventListener=function(m,k){m=m.replace("on","");var o=this._events&&this._events[m];if(o){if(!k){delete this._events[m];return}for(var l=0;l<o.length;l++){if(o[l]==k){o.splice(l,1),!this._events[m].length&&delete this._events[m];return}}}},aI.addEvent=ah;var aa=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(k){setTimeout(k,16)},Q=[],ap={linear:function(k){return k},"ease-in":function(k){return Math.pow(k,1.7)},"ease-out":function(k){return Math.pow(k,0.48)},"ease-in-out":function(v){var m=0.48-v/1.04,A=Math.sqrt(0.1734+m*m),q=A-m,l=Math.pow(Math.abs(q),1/3)*(q<0?-1:1),p=-A-m,z=Math.pow(Math.abs(p),1/3)*(p<0?-1:1),k=l+z+0.5;return(1-k)*3*k*k+k*k*k},"back-in":function(l){var k=1.70158;return l*l*((k+1)*l-k)},"back-out":function(l){l-=1;var k=1.70158;return l*l*((k+1)*l+k)+1},elastic:function(k){return k==!!k?k:pow(2,-10*k)*Math.sin((k-0.075)*2*PI/0.3)+1},bounce:function(m){var k=7.5625,o=2.75,l;return m<1/o?l=k*m*m:m<2/o?(m-=1.5/o,l=k*m*m+0.75):m<2.5/o?(m-=2.25/o,l=k*m*m+0.9375):(m-=2.625/o,l=k*m*m+0.984375),l}},J=function(l){for(var k=0;k<Q.length;k++){if(Q[k].el==l){return l._animate=!1,aE(Q[k].fn,"function")&&Q[k].fn(),Q.splice(k,1),!0}}return !1},G=function(z,C,p,k,D){z._animate&&J(z);var m={},B={},A={},v=!1;for(var q in C){aH.call(z.attrs,q)&&Math.abs(z.round(C[q])-z.attrs[q])>0.5&&(B[q]=z.round(C[q]),m[q]=z.attrs[q],A[q]=B[q]-m[q],v=!0)}if(!v){return}z._animate=!0,Q.push({el:z,start:+(new Date),from:m,diff:A,to:B,ms:p,easing:ap[k]||ap.linear,fn:D}),ao()},K=!1,ao=function(){if(K){return}var q=+(new Date);for(var l=0;l<Q.length;l++){var v=Q[l],p=q-v.start;if(p>=v.ms){v.el.attr(v.to),J(v.el),l--}else{var k=v.easing(p/v.ms),m={};for(var u in v.diff){m[u]=v.from[u]+k*v.diff[u],m[u]>v.to[u]&&(m[u]=v.to[u])}v.el.attr(m)}}Q.length&&(K=!0,aa(function(){K=!1,ao()}))};return aI})}(typeof f=="function"&&f.amd?f:function(g){typeof exports=="object"?module.exports=g():this.__?this.__.Graphic=g():this.__={Graphic:g()}}),f("../../../../chart/base",["require","exports","module","../data/data","../util/tool","../../../gallery/graphic/1.0.0/graphic-r"],function(q,l,z){var p=q("../data/data"),k=q("../util/tool"),m=q("../../../gallery/graphic/1.0.0/graphic-r"),v=k.object_extend,g=z.exports=function(s,o,u){this.config=v(u,g.config),this.canvas=new m(this.config.width,this.config.height,typeof s=="string"?document.getElementById(s):s),this.data=new p(o,this.config.defalutCnt),this.isVs=0,this.dataVs={},this.symbol=o,this.market=o.substr(0,2),this.date=[],this.subCharts=[],this.backLayer=this.canvas.layer(),this.paper=this.canvas.layer(),this.foreLayer=this.canvas.layer(),this.drawBackground(),this.drawForeground(),this.draw()};g.prototype.addVs=function(o){return this.symbol==o?!0:this.dataVs[o]?!0:this.isVs>=this.config.maxVs?!1:(this.dataVs[o]=new p(o,this.config.defalutCnt),this.isVs++,this.drawBackground(),this.draw(),!0)},g.prototype.remVs=function(o){this.dataVs[o]&&(this.dataVs[o].clear(),delete this.dataVs[o],this.isVs--,this.drawBackground(),this.draw())},g.config={width:800,height:600,maxVs:4},g.CONSTANT={"kline-limit":20,"volume-limit":20,"us-minutes-length":391,"sh-minutes-length":242,"sz-minutes-length":242,"hk-minutes-length":332,"us-minutes-time":["9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00"],"sh-minutes-time":["9:30","10:00","10:30","11:00","11:30/13:00","13:30","14:00","14:30","15:00"],"sz-minutes-time":["9:30","10:00","10:30","11:00","11:30/13:00","13:30","14:00","14:30","15:00"],"hk-minutes-time":["9:30","10:00","10:30","11:00","11:30","12:00/13:00","13:30","14:00","14:30","15:00","15:30","16:00"]},g.addSubChart=function(s,o){var u=function(A,C,B){this.scene=A,this.type=s,this.parent=C,this.paper=C.paper,this.data=C.data,this.init&&this.init.apply(this,B)};return u.toString=function(){return s},u.prototype.draw=function(){this._isShow=!0,o.draw&&o.draw.apply(this,arguments),this._isOver&&this.over.apply(this,this._overArgs)},u.prototype.clear=function(){this._isShow&&(this._isShow=!1,o.out&&o.out.apply(this,arguments),o.clear&&o.clear.apply(this,arguments))},u.prototype.over=function(A,B,t){if(!A){if(!this._overArgs){this.out();return}}else{this._overArgs=arguments}this._isOver=o.over&&o.over.apply(this,this._overArgs),this._isOver||this.out()},u.prototype.out=function(){this._isOver=!1,this._overArgs=!1,o.out&&o.out.apply(this,arguments)},v(u.prototype,o),o.drawForeground!=undefined&&(g.prototype.drawForeground=o.drawForeground),g._ChartFactory[s]=u,u},g._ChartFactory={},g.prototype.addSubChart=function(u,o){var A=Array.prototype.slice.call(arguments,2);if(g._ChartFactory[o]){var s=new g._ChartFactory[o](u,this,A);return this.subCharts.push(s),s}if(typeof o=="function"){var s=new o(u,this,A);return this.subCharts.push(s),s}},g.prototype.remSubChart=function(){for(var o=0;o<this.subCharts.length;o++){this.subCharts[o].clear(),this.subCharts[o]=null,delete this.subCharts[o]}g._ChartFactory={}},g.drawAxis={y:function(F,I,C){var A=I.length,D=C.h/(A-1),J=C.x,B=C.y,H=[],G=50;for(var E=0;E<A;E++){B=C.y+E*D,H[E]=F.text(J,B,I[E]).attr({align:C.align||"start",fill:"#81a1c4",width:G,valign:"middle"})}return H},x:function(E,H,C){var A=H.length,D=C.w/A,I=C.x,B=C.y,G=[];for(var F=0;F<A;F++){C.align=="center"?I=C.x+D/2+F*D:I=C.x+F*D,G[F]=E.text(I,B,H[F]).attr({align:C.align||"start",fill:"#81a1c4",valign:C.valign||"top"})}return G},"y-left":function(E,B,G,D){G=G||8;var A=D.h/8*(D.max-D.min)/(D.h-2*D.offset),C=(D.max+D.min)/2,F=String(B).length-String(B).indexOf(".")-1,u=[(C+4*A).toFixed(F),(C+3*A).toFixed(F),(C+2*A).toFixed(F),(C+1*A).toFixed(F),C.toFixed(F),(C-1*A).toFixed(F),(C-2*A).toFixed(F),(C-3*A).toFixed(F),(C-4*A).toFixed(F)];return g.drawAxis.y(E,u,{x:51,y:64,h:D.h,align:"end"})},"y-right":function(E,A,G,C){G=G||8;var B=C.h/8*(C.max-C.min)/(C.h-2*C.offset),F=(C.max+C.min)/2,u=String(A).length-String(A).indexOf(".")-1,D=[k.percent((F+4*B-A)*100/A),k.percent((F+3*B-A)*100/A),k.percent((F+2*B-A)*100/A),k.percent((F+1*B-A)*100/A),k.percent((F+0*B-A)*100/A),k.percent((F-1*B-A)*100/A),k.percent((F-2*B-A)*100/A),k.percent((F-3*B-A)*100/A),k.percent((F-4*B-A)*100/A)];return g.drawAxis.y(E,D,{x:777,y:64,h:C.h,align:"end"})}},g.drawShape={line:function(F,C){var H=C.x,E=C.y,B,D,G=0,A=0;C.type=="x"?(B=H+C.length,D=E,A=1):(B=H,D=E+C.length,G=1),F.beginPath(),F.moveTo(H,E),F.lineTo(B,D),F.strokeStyle="#b3b6b8",F.stroke(),F.beginPath(),F.moveTo(H-G,E-A),F.lineTo(B-G,D-A),F.moveTo(H+G,E+A),F.lineTo(B+G,D+A)},label:function(G,J){var C=J.width||48,A=J.height||20,E=J.width1||4,K=J.height1||5,B=[],I,H;J.type=="left"?(B[0]=[J.x-K-C,J.y-A/2],B[1]=[J.x-K,B[0][1]],B[2]=[B[1][0],J.y-E],B[3]=[J.x,J.y],B[4]=[B[1][0],J.y+E],B[5]=[B[1][0],J.y+A/2],B[6]=[B[0][0],B[5][1]],I=J.x-K-C/2,H=J.y):J.type=="right"?(B[0]=[J.x+K+C,J.y-A/2],B[1]=[J.x+K,B[0][1]],B[2]=[B[1][0],J.y-E],B[3]=[J.x,J.y],B[4]=[B[1][0],J.y+E],B[5]=[B[1][0],J.y+A/2],B[6]=[B[0][0],B[5][1]],I=J.x+K+C/2,H=J.y):J.type=="top"?(B[0]=[J.x-C/2,J.y],B[1]=[J.x+C/2,B[0][1]],B[2]=[B[1][0],J.y+A],B[3]=[J.x+E,J.y+A],B[4]=[J.x,J.y+K+A],B[5]=[J.x-E,J.y+A],B[6]=[B[0][0],B[5][1]],I=J.x,H=J.y+A/2):(B[0]=[J.x-C/2,J.y+K],B[1]=[J.x-E,B[0][1]],B[2]=[J.x,J.y],B[3]=[J.x+E,B[0][1]],B[4]=[J.x+C/2,B[0][1]],B[5]=[B[4][0],J.y+K+A],B[6]=[B[0][0],B[5][1]],I=J.x,H=J.y+K+A/2),G.beginPath();for(var F=0;F<B.length;F++){F?G.lineTo(B[F][0],B[F][1]):G.moveTo(B[F][0],B[F][1])}G.closePath(),G.strokeStyle=J.stroke||"#3692da",G.stroke(),G.fillStyle=J.fill||"#8bcfff",G.fill(),G.fillStyle="#ffffff",G.font=J.font||"12px arial",G.textAlign=J.align||"center",G.textBaseline="middle";var D=C;J.type=="left"?J.align=="right"?D=(J.x1||J.x)-(J.x-C-K):J.align=="left"&&(D=J.x-K-(J.x1||I)):J.type=="right"?J.align=="right"?D=(J.x1||J.x)-(J.x+K):J.align=="left"&&(D=J.x+C+K-(J.x1||J.x)):J.align=="right"?D=(J.x1||J.x)-(J.x-C/2):J.align=="left"&&(D=J.x+C/2-(J.x1||J.x)),G.fillText(J.text,J.x1||I,H,D)}},g.drawMethod={line:function(S,G,L){var I=L.max||Math.max.apply(Math,G),O=L.min||Math.min.apply(Math,G),H=L.offset||0,K=L.offsetTop||H,D=L.offsetBottom||H,W=[],R=L.w/(G.length-(L.facing?1:0)),N=(L.h-K-D)/(I-O),U=!0,P=L.y+L.h,J,T,C=[],M=L.x+(L.facing?0:R/2),Q,A=0;for(var V=0,B=G.length;V<B;V++){J=M+V*R;if(G[V]||L.zero){T=L.y+K+(I-G[V])*N,Q=J,W.push(U?"M":"L",J," ",T),U=!1,A=V}C.push([J,T])}L.fill&&W.length&&G.length>1&&W.push("L",Q," ",P,"L",L.x," ",P,"L",L.x," ",W[3]);var F=S.path(W.join(""));return L.fill&&F.attr("fill",L.fill),"stroke" in L&&F.attr("stroke",L.stroke),L.el=F,C.slice(0,A+1)},Mountain:function(U,H,M){M.els=M.els||[];var J=M.max||Math.max.apply(Math,H),P=M.min||Math.min.apply(Math,H),I=M.offset||30,L=M.offsetTop||I,F=M.offsetBottom||I,Y=[],T=M.w/(H.length-(M.facing?1:0)),O=(M.h-L-F)/(J-P),W=!0,Q,K,V,D,N=[],R=M.x+(M.facing?0:T/2),B=[],X=0;for(var C=0,G=H.length;C<G;C++){Q=R+C*T,H[C]&&(K=M.y+L+(J-H[C])*O,B.push([Q,K]),X=C),N.push([Q,K])}if(!M.els[0]){var A=function(ab,ae,E){var Z=ab.createLinearGradient(M.x,M.y,M.x,M.y+M.h);Z.addColorStop(0,"rgba(129,201,250,0.5)"),Z.addColorStop(1,"rgba(218,234,250,0.5)");var af=ae.points,S=ae.broken,ad=0,ac=0;for(;ac<S.length;ac++){var aa=!0;ab.beginPath();for(;ad<S[ac];ad++){aa?(aa=!1,ab.moveTo(af[ad][0],af[ad][1]),V=af[ad][0],D=af[ad][1]):ab.lineTo(af[ad][0],af[ad][1])}ab.lineWidth=2,ab.strokeStyle="#0090ff",ab.stroke(),ab.lineTo(af[ad-1][0],ae.y),ac==0?(ab.lineTo(ae.x,ae.y),ab.lineTo(ae.x,D),ab.lineTo(V,D)):(ab.lineTo(V,ae.y),ab.lineTo(V,D)),ab.closePath(),ab.fillStyle=Z,ab.fill()}};M.els[0]=U.shape(A)}return M.els[0].attach(U).attr({points:B,broken:M.broken||[B.length],x:M.x,y:M.y+M.h}),N.slice(0,X+1)},Histogram:function(Z,K,Q,M){var V=M.max||Math.max.apply(Math,K),L=M.min||0,P=M.offset||0,I=M.offsetTop||P,ad=M.offsetBottom||P,Y=[[],[]],U=M.w/((M.length||K.length)-(M.facing?1:0)),ab=(M.h-I-ad)/(V-L),W=!0,O=U/3;M.maxWidth&&O>M.maxWidth/2&&(O=M.maxWidth/2);var aa=M.y+M.h-ad,H=[],R,X,D,ac=M.x+(M.facing?0:U/2),G=M.x+M.w,J=0;for(var B=0,F=K.length;B<F;B++){R=ac+B*U,X=M.y+I+(V-K[B])*ab;if(K[B]){Q?D=aa-X:D=K[B]*ab;var A=R-O,C=R+O;A<M.x&&(A=M.x),C>G&&(C=G),Y[(Q?Q[B]:K[B])<0?1:0].push("M",A," ",X+D,"L",A," ",X,"L",C," ",X,"L",C," ",X+D,"L",A," ",X+D),J=B}H.push([R,X])}return M.els&&M.els[0]&&!M.els[0].removed?(M.els[0].attr("path",Y[0].join("")),M.els[1].attr("path",Y[1].join(""))):(M.els=[],M.els[0]=Z.path(Y[0].join("")).attr({fill:"#d91a2a",stroke:null}),M.els[1]=Z.path(Y[1].join("")).attr({fill:"#17a63a",stroke:null})),H.slice(0,J+1)},Candlestick:function(S,G,L){var I=L.max||Math.max.apply(Math,G.join(",").split(",")),O=L.min||Math.min.apply(Math,G.join(",").split(",")),H=L.offset||0,K=L.offsetTop||H,D=L.offsetBottom||H,W=[[],[],[],[]],R=L.w/G.length,N=(L.h-K-D)/(I-O);isFinite(N)||(I+=10,O-=10,N=(L.h-K-D)/20);var U=R/3,P,J=[],T,C;L.maxWidth&&U>L.maxWidth/2&&(U=L.maxWidth/2);var M=[],Q=L.x+R/2,A=0;for(var V=0,B=G.length;V<B;V++){var F=G[V];P=Q+V*R,F&&(C=F[3]>F[0]?0:1,J=[L.y+K+(I-F[0])*N,L.y+K+(I-F[3])*N,L.y+K+(I-F[1])*N,L.y+K+(I-F[2])*N],F[0]==F[3]&&(J[0]-=0.5,J[1]+=0.5),F[1]==F[2]&&(J[2]-=0.5,J[3]+=0.5),W[C].push("M",P-U," ",J[1],"L",P-U," ",J[0],"L",P+U," ",J[0],"L",P+U," ",J[1],"L",P-U," ",J[1]),W[C+2].push("M",P," ",J[3],"L",P," ",J[2]),A=V),M.push([P,J])}return L.els&&S.set(L.els).remove(),L.els=[S.path(W[0].join("")).attr({fill:"#d91a2a",stroke:null}),S.path(W[1].join("")).attr({fill:"#17a63a",stroke:null}),S.path(W[2].join("")).attr({stroke:"#d91a2a"}),S.path(W[3].join("")).attr({stroke:"#17a63a"})],M.slice(0,A+1)}},g.prototype.draw=function(){if(!this._drawing){var o=this;this._drawing=setTimeout(function(){o._drawing=!1,o.paper.clear();for(var s=0;s<o.subCharts.length;s++){o.subCharts[s]&&(o.subCharts[s].scene==o.scene?o.subCharts[s].draw&&o.subCharts[s].draw():o.subCharts[s].clear&&o.subCharts[s].clear())}},0)}},g.prototype.execute=function(C,u,D){var B=this;for(var o=0;o<B.subCharts.length;o++){if(B.subCharts[o]){if(C=="*"||B.subCharts[o].scene==C){if(u=="*"||B.subCharts[o].type==u){D instanceof Array||(D=[D]);for(var A=0;A<D.length;A++){B.subCharts[o].run&&B.subCharts[o].run(D[A])}}}}}return this},g.prototype.setScene=function(o){return this.scene!=o&&(this.scene=o,this.drawBackground(),this.draw()),this},g.prototype.drawBackground=function(){if(!this._drawBackgrounding){var s=this,o=this.backLayer;this._drawBackgrounding=setTimeout(function(){s._drawBackgrounding=!1,o.clear(),o.rect(0,0,s.config.width,s.config.height).attr({fill:s.config.bgColor||"white",stroke:null});for(var t=0;t<s.subCharts.length;t++){s.subCharts[t]&&(s.subCharts[t].scene==s.scene?s.subCharts[t].bg&&s.subCharts[t].bg(o):s.subCharts[t].clear&&s.subCharts[t].clear())}s.config.logo&&o.image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAUCAYAAAAN+ioeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjEgNjQuMTQwOTQ5LCAyMDEwLzEyLzA3LTEwOjU3OjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5RjZDNTA0MzRGMkIxMUUyQjI0MUQ4ODEyMTk1RERERSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5RjZDNTA0NDRGMkIxMUUyQjI0MUQ4ODEyMTk1RERERSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlGNkM1MDQxNEYyQjExRTJCMjQxRDg4MTIxOTVERERFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlGNkM1MDQyNEYyQjExRTJCMjQxRDg4MTIxOTVERERFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+9O1nKwAABn5JREFUWEfd191HZWEUBvBj/uH+kIhERCQiIiIiIiIiIiIiIiK6iIiu3jm/PZ5tnd2ZM6czHxdzsWbvvT6f9az1vqcZtdY+ycfHx7eHh4e2s7PTVldX297eXnt6ehqb2uj+/r6trKy0jY2N7rm1tdWOj4/by8tLZ59X1Mj7+/t7//6/ylTl5eVlW1tba+vr6+3s7KxVUs7Pz3uS2Q3CE+EZxlek5p4ls/yqbR6/eWt+VWbl/WREJJLJwcHBWDUZ8Pb21ra3tztyQzTi+SP7+fl5Iqbmz/vr62tzMu7u7trj4+NY9WOrDUr++p1tl9ep8S225qWrIkee8anCBkPsP/MjMDjdQ55808+7XBMfNzc3HXlIQ96s64CvqyVkZzjIHoIaihMjv4Ht7u626+vrsbqN9vf329HRUUcSH9/xd30ZClLEWAg2AgcdHzHePX0TA40vbGrELtbz5OSkH2qehN7CDXvSP/xyI9vJPz097QQ2356p3QdqoBIHTGwRxAusG3B1ddVvNBF/cXHR2yMVaAgFUE3+7O56g8ogfN/e3nbvGhCLBE3S2Sg6RMClucTY+uRBFj/iZCCIHyLY+MEtr95suzr6NbTDw8OJng0czuRVW0964ZuBb25udvXF9kQogqhsJ7CxcZQgRHqmcQK8Ion3HmDDTdCA4sBpyDtSkCXON9GIJoHN5tcTFoLyTWCs15388tTBqysnzNlAA1fDe+qJ84RFzzlpJCfGu/48kz9iAfGRuN4AZLbZE8jYAM2PX8j0zJEniA0wduTFVsU28AHEBmqMTi7D1mwa880vNpgQROqGETaDqlcKDHJVLHpR39DghSHkI5yvk6KGmnqRM3cxnjJ0y4jwnCxCbwnU1UuG0ANVVFLivU5JYoHIjo9vReNDFDQAUhuukkZtDD/keK/HTf7o6dhgQjgs4mttgyJiK6k2Xo16qgxQLoPSQ64c9eKjd7EIo5ebXk9i2JDsXb7EWQr44B8uYvcPAVIgJw0qFoC+NTfcagSw10aykcMhRNyNwNgQeXN0NSE/m01CmKGo4zrQrK3l6xueEKyWvOoiLhtJz6/Wzw+fOP7y8at4kSdOnXBBsoyeOBBjYEjPMopRXw4++e4BcCIKID0bnbtGAXbvVepdTgCnr5OOAAU4UuVXB0EaVzf1NcIvDRHkJ48YhHnyIXIZlHc5nAQ5+CQud3Y2kq+ByJUTaMDq2cbkT7zeckoyfLEZSr1CiBpsBtIrAcjGEqTYVE7ZdgWWl5f7d3obKb5uNf00ojXFlh8yeeTPleGY0msWsd41yi91Miw53IfIs/n81KTjI4flyIDgQ4w6dOKRlM325CcPvffhoCxHBqiunOzEYJwmiwmPGsT7xEZn1UMgwPRA5zoAPJvnHREKJkfEMVKg6oACxDBTR1OJV1ODtibHP9sFfPIYFl09SXLAU/3Y1QqBROMWRU8wIlut6GDWm9q+YaqLZCn0Lyd+PPGmD74wwCaHYdCJ4df/ca4gI0dGuoiJJThHRRI/Iux1m4mpAzvUyyMOmRqtdfLjF4DAqwO8fMkFJ4yVQETT1aPrKhCfhYkuRLIhEfnqId1g0lN81FObXg26EA6X/ISPfHz0BxMxMPk6AAThknOKroqABPHNu6cGFBfr25SHJBNDypWCaOD521zihNjKiK0UQ5IPIYhJ/eTSeNXBQ19xsAcfUg3XCVE7xMfXdiONPd+WQGyuC3jjT8TzmdZ7/8KouSSeR2yVpnOV2EIbULctokF24LxrApG+xSPThngiwI8LUsVUAvgMT1y2PqdTfg3nB64KndoI84SXfogZkeyVNBtqmeAxGKchNn7TsEUmPpCsyZqApIFIigGioGdkGslAAG6LkKtJcTlyfOiRgPgIopFo4/ggUJxhIAgO8UtLSxM/WvSwaFweJ1UO34aa3w+9WhQ2edT3o8ZOz58fmzyGJ97w1eNHxLDD5hQFP1u4nCCEACWZAI5AIA8Rvk0MiEpuJBsU8vJugMhhlyfXRnwI8vmwIcDTt5rJ56lBNk07gbYsxCeXAebqYLMU6jkl9T8R+lJXHsNBrLzZTDp+6qZ3dQxcXTiJGBLcGUYGwrdvlFB4KsBpGpnEZpqebSMSm2AleBEZxv9uvkg9kX8q51dlqpIAl+OCXISG4Eq6jajbNEsWaTIxixL0q7h/QbwaUw1VEO64OXo53u5OR8nmO0bDmFng/3Zjf5vYxeLb6DvM7Ket9bLCAAAAAABJRU5ErkJggg==",620,80)},0)}},g.prototype.drawForeground=function(){var s=this.foreLayer,o=this;s.mousemove(function(u){for(var t=0;t<o.subCharts.length;t++){o.subCharts[t]&&o.subCharts[t].scene==o.scene&&o.subCharts[t].over&&o.subCharts[t].over(s,u.dx,u.dy)}}),s.mouseout(function(u){for(var t=0;t<o.subCharts.length;t++){o.subCharts[t]&&o.subCharts[t].scene==o.scene&&o.subCharts[t].out&&o.subCharts[t].out(s)}})},g.prototype.clear=function(){this.setScene("")}}),f("../../../../chart/coordinate",["require","exports","module","../util/tool"],function(p,k,u){function g(o){return Math.LOG10E*Math.log(o)}function l(o){return Math.pow(10,o)}var m=p("../util/tool"),q=u.exports=function(A,v,B,o,z){this.x=A,this.y=v,this.w=B,this.h=o,this.config=m.object_extend(z,{type:"normal",offsetX:[0,0],offsetY:[0,0],centerX:!1,centerY:!1}),!this.config.offsetX.length&&(this.config.offsetX=[this.config.offsetX,this.config.offsetX]),!this.config.offsetY.length&&(this.config.offsetY=[this.config.offsetY,this.config.offsetY]),this.init()};q.prototype.init=function(){this.minY=this.minX=Number.MAX_VALUE,this.maxY=this.maxX=Number.MIN_VALUE,this.stepY=this.stepX=0,this.baseX=this.x+this.config.offsetX[0],this.baseY=this.y+this.config.offsetY[0],this._draw=[],this._y2=this.baseY+this.maxY*this.stepY,this._x2=this.baseX+this.minX*this.stepX},q.prototype.type=function(o){if(this.config.type==o){return}this.config.type=o},q.prototype.axis=function(A,o){o||(o=A,A=!1);var B=!1,z=!1;A&&A.length==2&&(A[0]<this.minX&&(B=!0)&&(this.minX=A[0]),A[1]>this.maxX&&(B=!0)&&(this.maxX=A[1]),B&&(this.config.centerX?(this.stepX=(this.w-this.config.offsetX[0]-this.config.offsetX[1])/(this.maxX-this.minX+1),this.baseX=this.x+this.config.offsetX[0]+this.stepX/2):this.stepX=(this.w-this.config.offsetX[0]-this.config.offsetX[1])/(this.maxX-this.minX),this._x2=this.baseX+this.minX*this.stepX)),o&&o.length==2&&(this.config.type=="logarithm"&&(o[0]=g(o[0]),o[1]=g(o[1])),o[0]<this.minY&&(z=!0)&&(this.minY=o[0]),o[1]>this.maxY&&(z=!0)&&(this.maxY=o[1]),z&&(this.config.centerY?(this.stepY=(this.h-this.config.offsetY[0]-this.config.offsetY[1])/(this.maxY-this.minY+1),this.baseY=this.y+this.config.offsetY[0]+this.stepY/2):this.stepY=(this.h-this.config.offsetY[0]-this.config.offsetY[1])/(this.maxY-this.minY),this._y2=this.baseY+this.maxY*this.stepY));if(B||z){for(var v=0;v<this._draw.length;v++){this._draw[v]()}}return this},q.prototype.draw=function(s){this.undraw(s),this._draw.push(s),s();var o=this;return function(){o.undraw(s)}},q.prototype.undraw=function(s){for(var o=0;o<this._draw.length;o++){if(this._draw[o]==s){return this._draw.splice(o,1),s}}},q.prototype.y2=function(o){return this.config.type=="logarithm"&&(o=g(o)),this._y2-o*this.stepY},q.prototype.x2=function(o){return this._x2+o*this.stepX},q.prototype.dx=function(o){return o<this.baseX?o=this.minX:(o=this.minX+Math.round((o-this.baseX)/this.stepX),o>this.maxX&&(o=this.maxX)),o},q.prototype.cy=function(s){var o=this.maxY-(s-this.baseY)/this.stepY;return this.config.type=="logarithm"&&(o=l(o)),o},q.prototype.grid=function(E,I,z,B){B=m.object_extend(B,{color:"#bbd6f3",offsetY:[0,0]});var J=[],v=this.x,H=this.y,G=this.x+this.w,D=this.y+this.h;if(I>1){var A=this.h/I;B.offsetY[1]!=0&&I++;while(--I){var F=H+I*A;J.push(E.line(v,F,G,F).attr({stroke:B.color}))}B.offsetY[0]!=0&&J.push(E.line(v,H,G,H).attr({stroke:B.color}))}if(z>1){var A=this.w/z;while(--z){var C=v+z*A;J.push(E.line(C,H+B.offsetY[0],C,D+B.offsetY[1]).attr({stroke:B.color}))}}return J},q.prototype.label=function(E,I){I=m.object_extend(I,{type:"left",num:3,offset:-17,align:"end",fill:"#81a1c4",font:"12px arial",fix:function(o){return o.toFixed(2)}});if(typeof I.fill=="string"){var z=I.fill;I.fill=function(){return z}}var B=I.num,J,v,H,G=[],D=I.width||50;if(I.type=="left"||I.type=="right"){J=this.h/(B-1),I.type=="left"?v=this.x+I.offset:I.type=="right"&&(v=this.x+this.w+I.offset);var A=I.fill(this.cy(H));for(var F=0;F<B;F++){H=this.y+F*J;var C=I.fix(this.cy(H));if(String(C).match("%")){switch(C.slice(0,1)){case"+":A=I.up;break;case"-":A=I.down;break;default:A=I.fill(this.cy(H))}}G[F]=E.text(v,H,C).attr({align:I.align,fill:A,width:D,font:I.font,valign:"middle"})}}else{if(I.type=="top"||I.type=="bottom"){J=this.w/(B-1),I.type=="top"?H=this.y+I.offset:I.type=="bottom"&&(H=this.y+this.h+I.offset);for(var F=0;F<B;F++){v=this.x+F*J;var C=I.fix(this.dx(v));G[F]=E.text(v,H,C).attr({align:I.align,fill:I.fill(this.dx(v)),font:I.font,width:D,valign:"middle"})}}}return G}}),f("../../../../chart/line/mountain",["require","exports","module"],function(l,g,m){function k(C,G,v){var p=G.points,A=G.broken,H=0,q=0,F,E,B=G.y;for(;q<A.length;q++){var z=!0;C.beginPath();for(;H<A[q];H++){z?(z=!1,C.moveTo(p[H][0],p[H][1]),F=p[H][0],E=p[H][1],B>E&&(B=E)):C.lineTo(p[H][0],p[H][1])}H>0&&C.lineTo(p[H-1][0],G.y),q==0?(C.lineTo(G.x,G.y),C.lineTo(G.x,E),C.lineTo(F,E)):(C.lineTo(F,G.y),C.lineTo(F,E)),C.closePath();var D;typeof G.fill=="string"?D=G.fill:(D=C.createLinearGradient(0,G.fillMaxValue||B,0,G.y),D.addColorStop(0,G.fill[0]),D.addColorStop(1,G.fill[1])),C.fillStyle=D,C.fill()}for(q=0;q<A.length;q++){C.beginPath();for(H=q?A[q-1]:0;H<A[q];H++){H?C.lineTo(p[H][0],p[H][1]):C.moveTo(p[H][0],p[H][1])}C.lineWidth=1,C.lineCap="round",C.strokeStyle=G.stroke,C.stroke()}}return function(H,N,A,D){var O=[],z=0,M=D.broken||[N.length],K=[],G=D.smoothLineX||0,C=D.smoothLineY||0;for(var J=0;J<M.length;J++){var E,q,I,L;K[J]=J?K[J-1]:0;for(var B=M[J];z<B;z++){x=A.x2(z),x-I<G?K[J]++:(I=x,D.zero||N[z]?(y=A.y2(N[z]),q=Math.abs(y-L),q<C?(K[J]++,E=[x,y]):(E&&(K[J]--,O.push(E)),E=!1,L=y,O.push([x,y]))):K[J]++)}E&&(K[J]--,O.push(E))}var F=[];for(J=0;J<M.length;J++){F[J]=M[J]-K[J]}return H.shape(k).attr({fillMaxValue:D.fillMaxValue&&A.y2(D.fillMaxValue),fill:D.line&&D.line.fill||["rgba(129,201,250,1)","rgba(218,234,250,0.5)"],stroke:D.line&&D.line.stroke||"#0090ff",points:O,broken:F,x:A.x,y:A.y+A.h,h:A.h})}}),f("../../../../chart/kline",["require","exports","module","./base","../util/tool","./coordinate","./line/mountain"],function(z,C,m){function p(J,M){var G=M.x,E=M.y,I=95;J.font='12px arial,"\u5b8b\u4f53"',J.textBaseline="middle",J.fillStyle="#385e7c";var N,F;N=["\u4ef7\u683c","\u6da8\u8dcc\u5e45","\u6210\u4ea4\u91cf"];for(F=0;F<N.length;F++){J.fillText(N[F],G+I*F,E)}var L=M.data,K=L[1].replace(/%/,"")>0?v.red:L[1].replace(/%/,"")==0?v.base:v.green;for(var F=0;F<L.length;F++){F==2?J.fillStyle=v.base:J.fillStyle=K;var H=J.measureText(N[F]).width+5;J.fillText(L[F],G+I*F+H,E,I-H)}J.fillStyle=v.base,J.textAlign="end",J.font='12px arial,"\u5b8b\u4f53"',J.fillText((M.mkt=="us"?"\u7f8e\u4e1c":"")+"\u65f6\u95f4\uff1a"+M.date,M.right,E)}var g=z("./base"),q=z("../util/tool"),D=z("./coordinate"),k=z("./line/mountain"),B=q.object_extend,A=q.array_find,v={red:"#d91a2a",green:"#17a63a",base:"#385e7c"};return g.addSubChart("kline",{init:function(o,l){var l=this.config=B(l,{x:68,y:65,w:653,h:219,offset:30,smoothLineY:1,smoothLineX:1,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,215,346,362],font:'12px arial,"\u5b8b\u4f53"',textY:30},useVs:!0},!1,!0);this.coord=new D(l.x,l.y,l.w,l.h,{offsetY:0}),this.date=[],this.type=this.config.type||"daily",this.onChange=o||function(){}},bg:function(o){var l=this.config;if(this.parent.isVs&&l.useVs){return}var s=[104,217];o.rect(l.title.x,l.title.y,l.title.w,l.title.h,4).attr({fill:l.title.fill,stroke:l.title.stroke}),o.rect(l.x,l.y,l.w,l.h).attr({stroke:l.grid.stroke,fill:l.grid.fill}),this.coord.grid(o,8,12,{color:l.grid.stroke})},run:function(l){switch(l.t){case"type":this.type=l.d,this._isShow&&this.parent.draw();break;case"date":this.date=l.d,this._isShow&&this.parent.draw();break;case"coordinate":this.coord.type(l.d),this._isShow&&this.parent.draw()}},draw:function(){var s=this.config;this.loader&&this.loader.cancel();if(this.parent.isVs&&s.useVs){return}var l=this;this.points=null,l.paper.set(l.el).remove(),this.el=[];var u=[],o=0;this.loader=this.data.getData(l.type,l.date[0],l.date[1],"f").progress(function(H){l.paper.set(u).remove(),l.paper.set(l.el).remove(),u=[],o=0;var F=parseFloat(H.yprice).toFixed(l.data.precision);l._data=H,H=H.data;if(!H[0]){return}var E=[parseInt(H[0][0]),parseInt(H[H.length-1][0])];if(l.date[0]!=E[0]||l.date[1]!=E[1]){l.date=E,l.onChange(E)}var t=[];for(var K=0;K<H.length;K++){t.push(H[K][2])}l.coord.init();var G=Math.min.apply(Math,t),I=Math.max.apply(Math,t);G==I&&(G--,I++),l.coord.axis([0,t.length-1||1],[G,I]),u[o++]=k(l.paper,t,l.coord,l.config),u[o++]=l.coord.label(l.paper,{num:9,offset:s.label.offset.left}),u[o++]=l.coord.label(l.paper,{type:"bottom",num:4,offset:12,width:100,align:"center",fix:function(L){return H[L]&&H[L][0].substr(0,4)+"/"+H[L][0].substr(4,2)+"/"+H[L][0].substr(6,2)||""}});var J=(H[H.length-1][2]-F)*100/F>0?v.red:(H[H.length-1][2]-F)*100/F==0?v.base:v.green;l.el[0]=l.paper.text(s.title.x+s.title.shift[1],s.title.textY,"\u533a\u95f4\u6da8\u5e45\uff1a").attr({fill:v.base,align:"left",valign:"middle",font:s.title.font}),l.el[3]=l.paper.text(s.title.x+s.title.shift[1]+60,s.title.textY,q.percent((H[H.length-1][2]-F)*100/F)).attr({fill:J,align:"left",valign:"middle",font:s.title.font});var E=H[H.length-1][0];l.el[1]=l.paper.text(s.title.x+s.title.w-s.title.shift[0],s.title.textY,(l.parent.market=="us"?"\u7f8e\u4e1c":"")+"\u65f6\u95f4\uff1a"+E.substr(4,2)+"/"+E.substr(6,2)).attr({fill:s.title.color||"#3fa5eb",align:"end",font:s.title.font,valign:"middle"}),l._isOver&&l.over()})},over:function(G,K,E){var L=this.config;if(this.parent.isVs&&L.useVs){return}this.els||(this.els=[],this.els[0]=G.shape(g.drawShape.line).attr({x:L.x,y:0,length:L.w,type:"x"}).hide(),this.els[1]=G.shape(g.drawShape.line).attr({x:0,y:L.y,length:L.h,type:"y"}).hide(),this.els[2]=G.circle(K,E,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide(),this.els[4]=G.shape(g.drawShape.label).attr({x:65,y:0,align:"right",width:60,x1:L.x-15,type:"left"}).hide(),this.els[5]=G.shape(g.drawShape.label).attr({x:722,y:0,align:"right",width:60,x1:L.x+L.w+45,type:"right"}).hide(),this.els[6]=G.shape(g.drawShape.label).attr({x:0,y:L.y+L.h,width:87,type:"bottom"}).hide(),this.els[8]=G.shape(p).attr({x:L.title.x+L.title.shift[2],y:L.title.textY,right:L.title.x+L.title.w-L.title.shift[0],mkt:this.parent.market}).hide());var l=this.coord.dx(K);if(l>=0&&this._data&&this._data.data[l]){K=this.coord.x2(l);var J=this._data.data[l],I=this._data.yprice,F=J[2],E=this.coord.y2(F);this.paper.set(this.el).hide(),this.els[0].attr("y",E).show(),this.els[1].attr("x",K).show(),this.els[2].attr({x:K,y:E}).show(),this.els[4].attr({y:E,text:F}).show();var H=this._data.data[l][0];return H=H.substr(0,4)+"/"+H.substr(4,2)+"/"+H.substr(6,2),this.els[6].attr({x:K,text:H}).show(),I=l==0?this._data.yprice:this._data.data[l-1][2],this.els[8].attr({data:[F,q.percent((F-I)*100/I),q.getLongNum(J[5])],date:J[0].substr(4,2)+"/"+J[0].substr(6,2)}).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null}})}),f("../../../../chart/line/candlestick",["require","exports","module"],function(k,g,l){return function(C,G,q,m){var z=[[],[],[],[]],H,p,F=Math.round(q.stepX/3),H,p=[],E,B;m.maxWidth&&F>m.maxWidth/2&&(F=Math.round(m.maxWidth/2));for(var v=0,D=G.length;v<D;v++){var A=G[v];H=q.x2(v),H=Math.round(q.x2(v)),A&&(B=parseFloat(A[3])<parseFloat(A[0])?1:0,p=[Math.round(q.y2(A[0])),Math.round(q.y2(A[3])),Math.round(q.y2(A[1])),Math.round(q.y2(A[2]))],p[0]==p[1]&&(p[1]=p[0]+1),A[0]==A[3]&&(p[0]-=0.5,p[1]+=0.5),A[1]==A[2]&&(p[2]-=0.5,p[3]+=0.5),z[B].push(["moveTo",[H-F,p[1]]],["lineTo",[H-F,p[0]]],["lineTo",[H+F,p[0]]],["lineTo",[H+F,p[1]]],["lineTo",[H-F,p[1]]]),z[B+2].push(["moveTo",[H,p[3]]],["lineTo",[H,p[2]]]))}return[C.path(z[0]).attr({fill:"#d91a2a",stroke:null}),C.path(z[1]).attr({fill:"#17a63a",stroke:null}),C.path(z[2]).attr({stroke:"#d91a2a"}),C.path(z[3]).attr({stroke:"#17a63a"})]}}),f("../../../../chart/user/user",["require","exports","module","../../util/tool"],function(o,k,p){var m=o("../../util/tool").array_find,g=p.exports=function(q){this.kline=q,this.type="",this.nodeList={}};g.prototype.attach=function(A,u,B){this.type=u;for(var z in this.nodeList){if(z!=u){var q=this.nodeList[z]||[];for(var v=0;v<q.length;v++){q[v].node.remove()}}}var q=this.nodeList[this.type]||[];for(var v=0;v<q.length;v++){q[v].node.attach(A)}A.draw(B)},g.prototype.remove=function(){var s=this.nodeList[this.type]||[];for(var q=0;q<s.length;q++){s[q].node.remove()}},g.prototype.clip=function(s){s.beginPath();var q=this.getWindow();s.moveTo(q.x[0],q.y[0]),s.lineTo(q.x[1],q.y[0]),s.lineTo(q.x[1],q.y[1]),s.lineTo(q.x[0],q.y[1]),s.lineTo(q.x[0],q.y[0]),s.clip()},g.prototype.setX=function(u,q,v){var s={};s[q]=this.x2x(v),s[q+"!"]=this.x2d(v),u.attr(s)},g.prototype.getX=function(s,q){var u=this.d2x(s.attr(q+"!"));return u!==!1&&(s.attrs[q]=u,u=s.round(u)),u},g.prototype.getWindow=function(){var q=this.kline.config;return{x:[q.x,q.x+q.w],y:[q.y,q.y+q.h]}},g.prototype.getXEdge=function(v,s){if(!this.kline._data){return !1}var z=v.attr(s+"!"),u=this.getWindow(),q=this.kline._data.data;return z<q[0][0]?u.x[0]:z>q[q.length-1][0]?u.x[1]:!1},g.prototype.getXData=function(A,u){var B=this.kline._data.data,z=this.kline.coord,q=z.dx(A),v=z.dx(u);return B.slice(q,v+1)},g.prototype.getXPoints=function(C,F){if(C>F){var z=F;F=C,C=z}var q=this.kline.coord,A=this.getXData(C,F),G=[],v=q.dx(C),E=this.kline.paper.round;for(var D=0;D<A.length;D++){var B=A[D];G.push([E(q.x2(v+D)),[E(q.y2(B[1])),E(q.y2(B[2])),E(q.y2(B[3])),E(q.y2(B[4]))]])}return G},g.prototype.setY=function(u,q,v){var s={};s[q]=v,s[q+"!"]=this.y2p(v),u.attr(s)},g.prototype.getY=function(s,q){var u=this.p2y(s.attr(q+"!"));return u!==!1&&(s.attrs[q]=u,u=s.round(u)),u},g.prototype.x2x=function(s){var q=this.kline,u=q.coord;return u.x2(u.dx(s))},g.prototype.x2d=function(s){var q=this.kline,u=q.coord.dx(s);return u>=0&&q._data.data[u]?q._data.data[u][0]:!1},g.prototype.d2x=function(s){var q=this.kline;if(q._data){var u=m(q._data.data,function(v,z){return v[0]-s});return q._data.data[u]&&q._data.data[u][0]==s?q.coord.x2(u):(u=m(q.dates(),function(v){return v-s})-m(q.dates(),function(t){return t-q._data.data[0][0]}),q.coord.x2(u))}return !1},g.prototype.y2p=function(s){var q=this.kline;return q.coord.cy(s)},g.prototype.p2y=function(s){if(isNaN(s)){return !1}var q=this.kline,u=q.config;return q.coord.y2(s)},g.prototype.getCurrent=function(){var s=this.nodeList[this.type]||[];for(var q=0;q<s.length;q++){var u=s[q].node;if(u.attr("status")==l.FOCUS){return s[q]}}},g.prototype.rem=function(u){this.currentShape=null;if(u){var q=this.nodeList[this.type]||[];for(var v=0;v<q.length;v++){var s=q[v];if(s==u){return q[v].clear(),q.splice(v,1),!0}}}else{this.isRem=!0}},g.prototype.checkXY=function(s,q){var u=this.kline.config;return s<u.x||s>u.x+u.w||q<u.y||q>u.y+u.h?!1:!0},g.prototype.add=function(v,s){var z=this;!this.nodeList[this.type]&&(this.nodeList[this.type]=[]);var u=this.nodeList[this.type]||[];z._addshape&&(z._addshape.node.remove(),z._addshape=null);var q={};v.undrag(),v.drag(function(D,A){var C=z.x2d(q.x+D),B=z.d2x(C);q.x&&z.checkXY(B,q.y+A)&&z._addshape.initMove(B,q.y+A)},function(B,D,A){if(!z.checkXY(A.dx,A.dy)){q.x=!1;return}if(z.isRem){z._addshape&&z._addshape.node.remove(),z._addshape=null;return}z._addshape||(z._addshape=new s(v,z)),z._addshape.node.attr("status",l.FOCUS);var t=z.x2d(A.dx),C=z.d2x(t);q.x=C,q.y=A.dy,z._addshape.initStart(C,A.dy,B,D)},function(){z._addshape&&z._addshape.node.isValid&&(u.push(z._addshape),z.addEvent(v,z._addshape),z._addshape=null)})},g.prototype.draw=function(s,q){this.isRem=!1,this.currentShape!=q&&(s.undrag(),this._addshape&&(this._addshape.node.remove(),this._addshape=null),this.currentShape=q,q&&this.add(s,q))},g.prototype.addEvent=function(B,z){var D=this,A=z.node,v=function(u){B.cursor("pointer"),A.attr("status")==l.NORMAL&&A.attr("status",l.HOVER)};A.mouseover(v)&&z.onClear(function(){A.unmouseover(v)});var C=function(u){B.cursor("default"),A.attr("status")==l.HOVER&&A.attr("status",l.NORMAL)};A.mouseout(C)&&z.onClear(function(){A.unmouseout(C)});var s=function(t){t.element!=A?A.attr("status",l.NORMAL):A.attr("status",l.FOCUS)};B.click(s)&&z.onClear(function(){B.unclick(s)});var q={};A.drag(function(u,t){q.x&&D.checkXY(q.x+u,q.y+t)&&z.onMove(q.x+u,q.y+t,u,t)},function(E,F,t){if(!D.checkXY(t.dx,t.dy)){q.x=!1;return}if(D.isRem){D.rem(z),t.returnValue=!1,B.cursor("default");return}A.attr("status",l.FOCUS),t.returnValue=!1,z.onStart(t.dx,t.dy,E,F),z.dragAttr=A.attr(),q.x=t.dx,q.y=t.dy},function(){z.onEnd()}),z.onClear(function(){A.undrag()})},g.prototype.drawTitle=function(A,u,C,z){var q=this.getWindow();A.beginPath();var v=A.measureText(z).width+3,B=16;u<q.x[1]&&u+v>q.x[1]&&(u-=v),C<q.y[1]&&C+B>q.y[1]&&(C-=B),A.moveTo(u,C),A.lineTo(u+v,C),A.lineTo(u+v,C+B),A.lineTo(u,C+B),A.lineTo(u,C),A.strokeStyle="green",A.fillStyle="green",A.stroke(),A.textBaseLine="top",z&&A.fillText(z,u+1,C+B/2+3)};var l=p.exports.STATUS={HOVER:1,FOCUS:2,NORMAL:0};p.exports.isInRadius=function(A,u,B,z,q){var v=Math.sqrt(Math.pow(A-B,2)+Math.pow(u-z,2));return v<=q},p.exports.getLinePolygon=function(D,G,z,q,B){if(D==z){if(G>q){var H=q;q=G,G=H}return[[D-B,G-B],[D+B,G-B],[z+B,q+B],[z-B,q+B]]}var v=Math.atan2(q-G,z-D),F=Math.cos(v),E=Math.sin(v),C=B*(F-E),A=B*(F+E);return[[D-C,G-A],[D-C,G+A],[z+C,q+A],[z+C,q-A]]},p.exports.drawRadius=function(u,q,v,s){u.moveTo(q-s,v-s),u.lineTo(q+s,v-s),u.lineTo(q+s,v+s),u.lineTo(q-s,v+s),u.lineTo(q-s,v-s)},p.exports.drawLine=function(v,s,z,u,q){v.moveTo(s,z),v.lineTo(u,q)},p.exports.drawTitle=function(A,u,B,z){A.beginPath();var q=A.measureText(z).width+3,v=16;A.moveTo(u,B),A.lineTo(u+q,B),A.lineTo(u+q,B+v),A.lineTo(u,B+v),A.lineTo(u,B),A.strokeStyle="green",A.fillStyle="green",A.stroke(),A.textBaseLine="top",A.fillText(z,u+1,B+v/2+3)},p.exports.createShape=function(u){var q=function(A,z){this.user=z,this.node=A.shape(this.draw).attr({radius:3,user:z,shape:this})},v=q.prototype;v.onClear=function(A){var z=this.clearFns=this.clearFns||[];z.push(A)},v.clear=function(){var A=this.clearFns=this.clearFns||[];for(var z=0;z<A.length;z++){A[z]()}this.removed=!0,this.node.remove()},v.draw=v.initStart=v.initMove=v.onStart=v.onMove=v.initEnd=v.onEnd=function(){};for(var s in u){v[s]=u[s]}return q}}),f("../../../../chart/user/segment",["require","exports","module","./user"],function(o,k,p){function g(v,s){s=s||1;var z=v["x"+s+"!"],u=v["y"+s+"!"],q=z.substr(0,4)+"."+z.substr(4,2)+"."+z.substr(6,2);return z.length==12&&(q+=" "+z.substr(8,2)+":"+z.substr(10,2)),q+" "+u.toFixed(2)}var m=o("./user"),l="hasOwnProperty";return m.createShape({draw:function(B,z,D){D.isValid=!1;if(z[l]("x1")&&z[l]("y1")){var C=z.user.getX(D,"x1"),v=z.user.getY(D,"y1");if(z[l]("x2")&&z[l]("y2")){D.isValid=!0;var s=z.user.getX(D,"x2"),A=z.user.getY(D,"y2");z.user.clip(B);var q=z.radius;B.beginPath(),B.strokeStyle="#fd4312",C=D.round(C),v=D.round(v),s=D.round(s),A=D.round(A),B.moveTo(C,v),B.lineTo(s,A),B.stroke(),D.polygon=m.getLinePolygon(C,v,s,A,q),z.status!=m.STATUS.NORMAL&&(B.beginPath(),m.drawRadius(B,C,v,q),m.drawRadius(B,s,A,q),z.status==m.STATUS.FOCUS?(B.fill(),z.user.drawTitle(B,C,v,g(z)),z.user.drawTitle(B,s,A,g(z,2))):z.status==m.STATUS.HOVER&&B.stroke())}}},initStart:function(s,q){this.user.setX(this.node,"x1",s),this.user.setY(this.node,"y1",q)},initMove:function(s,q){this.user.setX(this.node,"x2",s),this.user.setY(this.node,"y2",q)},onStart:function(s,q){var u=this.node;m.isInRadius(s,q,u.attr("x1"),u.attr("y1"),u.attr("radius"))?this._type=1:m.isInRadius(s,q,u.attr("x2"),u.attr("y2"),u.attr("radius"))?this._type=2:this._type=0},onMove:function(u,q,v,s){this._type==1?(this.user.setX(this.node,"x1",u),this.user.setY(this.node,"y1",q)):this._type==2?(this.user.setX(this.node,"x2",u),this.user.setY(this.node,"y2",q)):(this.user.setX(this.node,"x1",this.dragAttr.x1+v),this.user.setY(this.node,"y1",this.dragAttr.y1+s),this.user.setX(this.node,"x2",this.dragAttr.x2+v),this.user.setY(this.node,"y2",this.dragAttr.y2+s))}})}),f("../../../../chart/user/chengyaxian",["require","exports","module","./user"],function(l,g,m){var k=l("./user");return k.createShape({draw:function(B,E,q){q.isValid=!1;var z="hasOwnProperty";if(E[z]("y")){q.isValid=!0;var F=E.user.getWindow(),p=E.user.getY(q,"y");E.user.clip(B);var D=F.x[0],C=p,A=F.x[1],v=p;B.beginPath(),B.strokeStyle="#fd4312",B.moveTo(D,C),B.lineTo(A,v),B.stroke(),q.polygon=k.getLinePolygon(D,C,A,C,E.radius),E.status!=k.STATUS.NORMAL&&(B.beginPath(),k.drawRadius(B,(D+A)/2,p,E.radius),E.status==k.STATUS.FOCUS?(B.fill(),E.user.drawTitle(B,D,C+2,E["y!"].toFixed(2))):B.stroke())}},initStart:function(p,o){this.user.setY(this.node,"y",o)},initMove:function(p,o){var q=this.user.getWindow();if(o<q.y[0]+0.5||o>q.y[1]-0.5){return}this.user.setY(this.node,"y",o)},onStart:function(p,o){},onMove:function(p,o){var q=this.user.getWindow();if(o<q.y[0]+0.5||o>q.y[1]-0.5){return}this.user.setY(this.node,"y",o)}})}),f("../../../../chart/user/LineClass",["require","exports","module"],function(l,g,m){var k=m.exports=function(q,o,s,p){arguments.length==4?this.set(q,o,s,p):arguments.length==2&&(this.B=-1,this.A=q,this.C=o)};k.prototype.set=function(q,o,s,p){q==s?(this.B=0,this.A=-1,this.C=q):(this.B=-1,this.A=(o-p)/(q-s),this.C=(q*p-s*o)/(q-s))},k.prototype.clone=function(){var o=new k;return o.A=this.A,o.B=this.B,o.C=this.C,o},k.prototype.parallel=function(p,o){var q=this.clone();return q.B===0?q.C=p:q.C=o-q.A*p,q},k.prototype.getX=function(o){return this.B==0?this.C:(o-this.C)/this.A},k.prototype.getY=function(o){return this.B==0?Number.NaN:this.A*o+this.C},k.prototype.getPolygon=function(B,E,v,p,z){if(this.B==0){if(E>p){var F=E;E=p,p=F}return[[this.C-z,E-z],[this.C+z,E-z],[this.C+z,p+z],[this.C-z,p+z]]}var q=Math.atan(this.A),D=Math.cos(q),C=Math.sin(q),A=z*(D-C),F=z*(D+C);return[[B-A,E-F],[B-A,E+F],[v+A,p+F],[v+A,p-F]]}}),f("../../../../chart/user/huiguitongdao",["require","exports","module","./user","./LineClass"],function(m,k,o){var l=m("./user"),g=m("./LineClass");return l.createShape({draw:function(B,E,q){q.isValid=!1;var z="hasOwnProperty";if(E[z]("x1")&&E[z]("x2")){var F=q.round(E.user.getX(q,"x1")),p=q.round(E.user.getX(q,"x2")),D=E.user.getWindow(),C=E.shape.getLine();if(!C){return}E.y1=C[0][1],E.y2=C[0][3],q.isValid=!0,E.user.clip(B),B.beginPath(),B.strokeStyle="#fd4312",C.r1&&E.status!=l.STATUS.NORMAL&&(B.moveTo(F,D.y[0]),B.lineTo(F,D.y[1])),C.r2&&E.status!=l.STATUS.NORMAL&&(B.moveTo(p,D.y[0]),B.lineTo(p,D.y[1]));for(var A=0;A<3;A++){var v=C[A];B.moveTo(v[0],v[1]),B.lineTo(v[2],v[3])}B.stroke(),q.polygon=[l.getLinePolygon(C[0][0],C[0][1],C[0][2],C[0][3],E.radius),l.getLinePolygon(C[1][0],C[1][1],C[1][2],C[1][3],E.radius),l.getLinePolygon(C[2][0],C[2][1],C[2][2],C[2][3],E.radius)],E.status!=l.STATUS.NORMAL&&(B.beginPath(),C.r1&&(l.drawRadius(B,C[0][0],C[0][1],E.radius),q.polygon.push(l.getLinePolygon(F,D.y[0],F,D.y[1],E.radius))),C.r2&&(l.drawRadius(B,C[0][2],C[0][3],E.radius),q.polygon.push(l.getLinePolygon(p,D.y[0],p,D.y[1],E.radius))),E.status==l.STATUS.FOCUS?B.fill():B.stroke())}},initStart:function(q,p){this.user.setX(this.node,"x1",q)},initMove:function(q,p){this.user.setX(this.node,"x2",q)},onStart:function(q,p){var s=this.node;l.isInRadius(q,p,s.attr("x1"),s.attr("y1"),s.attr("radius"))?this._type=1:l.isInRadius(q,p,s.attr("x2"),s.attr("y2"),s.attr("radius"))?this._type=2:this._type=0},onMove:function(s,p,u,q){this._type==1?this.user.setX(this.node,"x1",s):this._type==2?this.user.setX(this.node,"x2",s):(this.user.setX(this.node,"x1",this.dragAttr.x1+u),this.user.setX(this.node,"x2",this.dragAttr.x2+u))},getLine:function(){var G=this.user.getX(this.node,"x1"),M=this.user.getX(this.node,"x2");if(G!=0&&M!=0){var B=this.user.getXPoints(G,M),q=Number.MAX_VALUE,D=Number.MIN_VALUE,N=[],A,L,J,F;for(var C=0;C<B.length;C++){N.push([B[C][0],B[C][1][1]])}var I=this.linearRegression(N);for(var C=0;C<B.length;C++){var E=B[C][1][2]-I[0]*B[C][0];q>E&&(q=E),E=B[C][1][3]-I[0]*B[C][0],D<E&&(D=E)}this._line=[I,[I[0],q],[I[0],D]]}var z=!0;if(G===!1){G=this.user.getXEdge(this.node,"x1");if(G===!1){return}z=!1}var H=!0;if(M===!1){M=this.user.getXEdge(this.node,"x2");if(M===!1){return}H=!1}var K=[this.getPoints(G,M,this._line[0][0],this._line[0][1]),this.getPoints(G,M,this._line[1][0],this._line[1][1]),this.getPoints(G,M,this._line[2][0],this._line[2][1])];return K.r1=z&&(G==K[0][0]||G==K[0][2]),K.r2=H&&(M==K[0][0]||M==K[0][2]),K},linearRegression:function(A){var D=A.length,v=0,p=0;for(var z=0;z<D;z++){v+=A[z][0],p+=A[z][1]}v/=D,p/=D;var E=0,q=0;for(var z=0;z<D;z++){var C=A[z][0]-v;E+=C*(A[z][1]-p),q+=C*C}var B=E/q;return q=p-v*B,[B,q]},getPoints:function(B,v,D,A){var z=this.node.attrs,C=new g(D,A),q=this.user.getWindow(),p=[[q.x[0],C.getY(q.x[0])],[q.x[1],C.getY(q.x[1])],[C.getX(q.y[0]),q.y[0]],[C.getX(q.y[1]),q.y[1]],[B,C.getY(B)],[v,C.getY(v)]];return p.sort(function(u,s){return u[0]-s[0]}),[p[2][0],p[2][1],p[3][0],p[3][1]]}})}),f("../../../../chart/user/rect",["require","exports","module","./user"],function(m,k,o){function g(u,q){q=q||1;var v=u["x"+q+"!"],s=u["y"+q+"!"],p=v.substr(0,4)+"."+v.substr(4,2)+"."+v.substr(6,2);return v.length==12&&(p+=" "+v.substr(8,2)+":"+v.substr(10,2)),p+" "+s.toFixed(2)}var l=m("./user");return l.createShape({draw:function(B,F,q){var G="hasOwnProperty";q.isValid=!1;if(F[G]("x1")&&F[G]("y1")){var p=F.user.getX(q,"x1"),E=F.user.getY(q,"y1");if(F[G]("x2")&&F[G]("y2")){q.isValid=!0;var D=q.round(F.user.getX(q,"x2")),A=q.round(F.user.getY(q,"y2")),v=!0,C=!0;if(p===!1){p=F.user.getXEdge(q,"x1");if(p===!1){return}v=!1}if(D===!1){D=F.user.getXEdge(q,"x2");if(D===!1){return}C=!1}var z=F.radius;F.user.clip(B),B.beginPath(),B.strokeStyle="#fd4312",B.moveTo(p,E),B.lineTo(D,E),C&&B.lineTo(D,A)||B.moveTo(D,A),B.lineTo(p,A),v&&B.lineTo(p,E),B.stroke(),q.isValid=!0,q.polygon=[l.getLinePolygon(p,E,D,E,z),l.getLinePolygon(D,E,D,A,z),l.getLinePolygon(D,A,p,A,z),l.getLinePolygon(p,A,p,E,z)],F.status!=l.STATUS.NORMAL&&(B.beginPath(),v&&l.drawRadius(B,p,E,z),v&&C&&l.drawRadius(B,D,E,z),C&&l.drawRadius(B,D,A,z),v&&C&&l.drawRadius(B,p,A,z),F.status==l.STATUS.FOCUS?(B.fill(),v&&F.user.drawTitle(B,p,E,g(F)),C&&F.user.drawTitle(B,D,A,g(F,2))):F.status==l.STATUS.HOVER&&B.stroke())}}},initStart:function(q,p){this.user.setX(this.node,"x1",q),this.user.setY(this.node,"y1",p)},initMove:function(q,p){this.user.setX(this.node,"x2",q),this.user.setY(this.node,"y2",p)},onStart:function(q,p){var s=this.node;l.isInRadius(q,p,s.attr("x1"),s.attr("y1"),s.attr("radius"))?this._type=1:l.isInRadius(q,p,s.attr("x2"),s.attr("y2"),s.attr("radius"))?this._type=2:this._type=0},onMove:function(s,p,u,q){this._type==1?(this.user.setX(this.node,"x1",s),this.user.setY(this.node,"y1",p)):this._type==2?(this.user.setX(this.node,"x2",s),this.user.setY(this.node,"y2",p)):(this.user.setX(this.node,"x1",this.dragAttr.x1+u),this.user.setY(this.node,"y1",this.dragAttr.y1+q),this.user.setX(this.node,"x2",this.dragAttr.x2+u),this.user.setY(this.node,"y2",this.dragAttr.y2+q))}})}),f("../../../../chart/user/zhouqixian",["require","exports","module","./user"],function(l,g,m){var k=l("./user");return k.createShape({draw:function(C,G,q){q.isValid=!1;var z="hasOwnProperty";if(G[z]("x1")&&G[z]("x2")){q.isValid=!0;var H=G.user.getX(q,"x1");if(H===!1){return}G.user.clip(C),q.polygon=[];var p=G.user.getWindow();C.beginPath(),C.strokeStyle="#fd4312",k.drawLine(C,H,p.y[0],H,p.y[1]),C.fillText("0",H,p.y[1]),q.polygon.push(k.getLinePolygon(H,p.y[0],H,p.y[1],G.radius));var F=G.user.getX(q,"x2");if(F!==!1){var E=!0,B=F,v=G.user.kline.coord.dx(F),D=G.user.getXPoints(H,F).length-1,A=D;while(B>=p.x[0]&&B<=p.x[1]){B=G.user.kline.coord.x2(v),k.drawLine(C,B,p.y[0],B,p.y[1]),C.fillText(A,B,p.y[1]),q.polygon.push(k.getLinePolygon(B,p.y[0],B,p.y[1],G.radius));if(F==H){break}B+=F-H,A+=D,v+=D}}C.stroke(),G.status!=k.STATUS.NORMAL&&(C.beginPath(),k.drawRadius(C,H,(p.y[0]+p.y[1])/2,G.radius),E&&k.drawRadius(C,F,(p.y[0]+p.y[1])/2,G.radius),G.status==k.STATUS.FOCUS?C.fill():C.stroke())}},initStart:function(p,o){this.user.setX(this.node,"x1",p)},initMove:function(p,o){this.user.setX(this.node,"x2",p)},onStart:function(u,p){var v=this.node,o=v.attrs.user.getWindow(),q=(o.y[0]+o.y[1])/2;k.isInRadius(u,p,v.attr("x1"),q,v.attr("radius"))?this._type=1:k.isInRadius(u,p,v.attr("x2"),q,v.attr("radius"))?this._type=2:this._type=3},onMove:function(z,q,B){var v=this.node;if(this._type==1){this.user.setX(v,"x1",z)}else{if(this._type==2){this.user.setX(v,"x2",z)}else{var p=v.attrs.user.getWindow(),u=this.dragAttr.x1+B,A=this.dragAttr.x2+B;if(u<p.x[0]||A<p.x[0]||u>p.x[1]||A>p.x[1]){return}this.user.setX(v,"x1",this.dragAttr.x1+B),this.user.setX(v,"x2",this.dragAttr.x2+B)}}}})}),f("../../../../chart/user/huangjinfengexian",["require","exports","module","./user"],function(l,g,m){var k=l("./user");return k.createShape({draw:function(H,N,A){A.isValid=!1;var D="hasOwnProperty",O=[0.191,0.382,0.5,0.618];if(N[D]("y1")&&N[D]("y2")){A.isValid=!0;var z=N.user.getY(A,"y1"),M=N.user.getY(A,"y2"),K=N["y1!"],G=N["y2!"],C=N.user.getWindow(),J=C.x[0],E=C.x[1];N.user.clip(H),H.beginPath(),H.textBaseline="top",H.strokeStyle="#fd4312",k.drawLine(H,J,z,E,z),k.drawLine(H,J,M,E,M),H.fillText("1.000("+G.toFixed(2)+")",J,M+1),H.stroke(),A.polygon=[k.getLinePolygon(J,z,E,z,N.radius),k.getLinePolygon(J,M,E,M,N.radius)];if(M!=z){H.beginPath();var q=M-z,I=G-K;H.strokeStyle="#d08e7e";for(var L=0;L<O.length;L++){var B=A.round(z+q*O[L]),F=K+I*O[L];k.drawLine(H,J,B,E,B),A.polygon.push(k.getLinePolygon(J,B,E,B,N.radius)),H.fillText(O[L].toFixed(3)+"("+F.toFixed(2)+")",J,B+1),B=A.round(M+q*O[L]),F=G+I*O[L],k.drawLine(H,J,B,E,B),A.polygon.push(k.getLinePolygon(J,B,E,B,N.radius)),H.fillText((1+O[L]).toFixed(3)+"("+F.toFixed(2)+")",J,B+1)}H.stroke()}N.status!=k.STATUS.NORMAL&&(H.beginPath(),k.drawRadius(H,(J+E)/2,z,N.radius),k.drawRadius(H,(J+E)/2,M,N.radius),N.status==k.STATUS.FOCUS?H.fill():H.stroke())}},initStart:function(p,o){this.user.setY(this.node,"y1",o)},initMove:function(p,o){this.user.setY(this.node,"y2",o)},onStart:function(p,o){var q=this.node;Math.abs(o-q.attr("y1"))<q.attr("radius")?this._type=1:Math.abs(o-q.attr("y2"))<q.attr("radius")?this._type=2:this._type=0},onMove:function(q,o,s,p){this._type==1?this.user.setY(this.node,"y1",o):this._type==2?this.user.setY(this.node,"y2",o):(this.user.setY(this.node,"y1",this.dragAttr.y1+p),this.user.setY(this.node,"y2",this.dragAttr.y2+p))}})}),f("../../../../chart/user/baifenbixian",["require","exports","module","./user"],function(m,k,o){var l=m("./user"),g=[1/8,0.25,1/3,3/8,0.5,5/8,2/3,0.75,7/8];return l.createShape({draw:function(G,M,A){A.isValid=!1;var N="hasOwnProperty";if(M[N]("y1")&&M[N]("y2")){A.isValid=!0;var z=M.user.getY(A,"y1"),L=M.user.getY(A,"y2"),J=M["y1!"],F=M["y2!"],C=M.user.getWindow(),I=C.x[0],D=C.x[1];M.user.clip(G),G.beginPath(),G.textBaseline="top",G.strokeStyle="#fd4312",l.drawLine(G,I,z,D,z),l.drawLine(G,I,L,D,L),G.stroke(),A.polygon=[l.getLinePolygon(I,z,D,z,M.radius),l.getLinePolygon(I,L,D,L,M.radius)];if(L!=z){G.beginPath();var q=L-z,H=F-J;G.strokeStyle="#d08e7e";for(var K=0;K<g.length;K++){var B=A.round(z+q*g[K]),E=J+H*g[K];l.drawLine(G,I,B,D,B),A.polygon.push(l.getLinePolygon(I,B,D,B,M.radius)),G.fillText((100*g[K]).toFixed(1)+"%("+E.toFixed(2)+")",I,B+1)}G.stroke()}M.status!=l.STATUS.NORMAL&&(G.beginPath(),l.drawRadius(G,(I+D)/2,z,M.radius),l.drawRadius(G,(I+D)/2,L,M.radius),M.status==l.STATUS.FOCUS?G.fill():G.stroke())}},initStart:function(q,p){this.user.setY(this.node,"y1",p)},initMove:function(q,p){this.user.setY(this.node,"y2",p)},onStart:function(q,p){var s=this.node;Math.abs(p-s.attr("y1"))<s.attr("radius")?this._type=1:Math.abs(p-s.attr("y2"))<s.attr("radius")?this._type=2:this._type=0},onMove:function(s,p,u,q){this._type==1?this.user.setY(this.node,"y1",p):this._type==2?this.user.setY(this.node,"y2",p):(this.user.setY(this.node,"y1",this.dragAttr.y1+q),this.user.setY(this.node,"y2",this.dragAttr.y2+q))}})}),f("../../../../chart/user/boduanxian",["require","exports","module","./user"],function(m,k,o){var l=m("./user"),g=[0.25,1/3,0.5];return l.createShape({draw:function(G,M,A){A.isValid=!1;var N="hasOwnProperty";if(M[N]("y1")&&M[N]("y2")){A.isValid=!0;var z=M.user.getY(A,"y1"),L=M.user.getY(A,"y2"),J=M["y1!"],F=M["y2!"],C=M.user.getWindow(),I=C.x[0],D=C.x[1];M.user.clip(G),G.beginPath(),G.textBaseline="top",G.strokeStyle="#fd4312",l.drawLine(G,I,z,D,z),G.fillText("0.0%("+J.toFixed(2)+")",I,z+1),l.drawLine(G,I,L,D,L),G.fillText("100.0%("+F.toFixed(2)+")",I,L+1),G.stroke(),A.polygon=[l.getLinePolygon(I,z,D,z,M.radius),l.getLinePolygon(I,L,D,L,M.radius)];if(L!=z){G.beginPath();var q=L-z,H=F-J;G.strokeStyle="#d08e7e";for(var K=0;K<g.length;K++){var B=A.round(z+q*g[K]),E=J+H*g[K];l.drawLine(G,I,B,D,B),A.polygon.push(l.getLinePolygon(I,B,D,B,M.radius)),G.fillText((100*g[K]).toFixed(1)+"%("+E.toFixed(2)+")",I,B+1)}G.stroke()}M.status!=l.STATUS.NORMAL&&(G.beginPath(),l.drawRadius(G,(I+D)/2,z,M.radius),l.drawRadius(G,(I+D)/2,L,M.radius),M.status==l.STATUS.FOCUS?G.fill():G.stroke())}},initStart:function(q,p){this.user.setY(this.node,"y1",p)},initMove:function(q,p){this.user.setY(this.node,"y2",p)},onStart:function(q,p){var s=this.node;Math.abs(p-s.attr("y1"))<s.attr("radius")?this._type=1:Math.abs(p-s.attr("y2"))<s.attr("radius")?this._type=2:this._type=0},onMove:function(s,p,u,q){this._type==1?this.user.setY(this.node,"y1",p):this._type==2?this.user.setY(this.node,"y2",p):(this.user.setY(this.node,"y1",this.dragAttr.y1+q),this.user.setY(this.node,"y2",this.dragAttr.y2+q))}})}),f("../../../../chart/user/feibolaqixian",["require","exports","module","./user"],function(l,g,m){var k=l("./user");return k.createShape({draw:function(E,J,z){z.isValid=!1;var B="hasOwnProperty";if(J[B]("x1")){z.isValid=!0;var K=J.user.getX(z,"x1");if(K===!1){return}J.user.clip(E);var v=J.user.getWindow();if(K<v.x[0]||K>v.x[1]){return}var I=v.y[0],H=v.y[1];E.beginPath(),E.strokeStyle="#fd4312",k.drawLine(E,K,I,K,H),z.polygon=k.getLinePolygon(K,I,K,H,J.radius);var D=J.user.getXPoints(K,v.x[1]),A=[0,1],G=1,C=D.length;if(C>1){var q=D[A[G]][0];k.drawLine(E,q,I,q,H),G=2;for(;;){var F=A[G-2]+A[G-1];if(F>=C){break}A[G]=F,q=D[F][0],k.drawLine(E,q,I,q,H),E.fillText(F,q,H),G++}}E.stroke(),J.status!=k.STATUS.NORMAL&&(E.beginPath(),k.drawRadius(E,K,(I+H)/2,J.radius),J.status==k.STATUS.FOCUS?E.fill():E.stroke())}},initStart:function(p,o){this.user.setX(this.node,"x1",p)},initMove:function(p,o){this.user.setX(this.node,"x1",p)},onStart:function(p,o){var q=this.node;Math.abs(p-q.attr("x1"))<=q.attr("radius")?this._type=1:this._type=0},onMove:function(q,o,s){var p=this.node;this._type==1&&this.user.setX(p,"x1",q)}})}),f("../../../../chart/user/zhangbiaoji",["require","exports","module","./user"],function(m,k,o){var l=m("./user"),g=new Image;return g.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjEgNjQuMTQwOTQ5LCAyMDEwLzEyLzA3LTEwOjU3OjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxRDQ3RjlGMzZCOUQxMUUyQjg2NERERUREQzZDODRGMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxRDQ3RjlGNDZCOUQxMUUyQjg2NERERUREQzZDODRGMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFENDdGOUYxNkI5RDExRTJCODY0RERFRERDNkM4NEYwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFENDdGOUYyNkI5RDExRTJCODY0RERFRERDNkM4NEYwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+99hxVQAAAcVJREFUWEftlE1LAlEUhgVBCAShH9KmPxEFtWjZx6KIFv2EoqAiTehj5T8IRcFNQRREIS6DKFomZIwFjgViRgPJ7RybG8fbce6Yct048KDzHue8jyNOQAjRd9jQNGxoGjY0DRuahg398LA8MgQc4is37wQ21OEKXAGiuDFlvR4nhrnP+YUNvXAFzlFAYsVm37oRYcN2QGEIOKUCEmt3rlLNZSLcdTrYkAOKUOCEFqtY8fky3JEwd70XbKgCBSiQpYXtKO0tvHQqwoYUWBwEMrRIB4hYtesz3/8aNpTAQhRI0YLCyqio5rMtpXiOOc1K+4tPcEdC3F4VNkRgESvwfnMhGh81h+ZwLux0PPFH5GDp0Y8IGyKwJEIXNgVuL2EkHOe5MENnKAFHxE5FY6rIV7WShlkQYHsQNkRgwa8EFQAm6QyREkCgfLS1TUXorB1siMCCZhEurN/lIPoRoDOJWmQno5tSpBcSTv0+D6dNgQll5vlt4adZR5FuJcLF1fFpeI8CY8pMK4HYyZ21xmcdr/+fhAs+dFoEEL8SLni958OLDXV0KKGFDXUMJCQDCclAQgFL6dEXiZ7BhqZhQ9OwoWnY0Cwi8A2cF1uqoMCiggAAAABJRU5ErkJggg==",l.createShape({draw:function(z,q,B){B.isValid=!1;var v="hasOwnProperty";if(q[v]("x")){B.isValid=!0;var A=q.user.getX(B,"x"),p=q.user.getY(B,"y");if(A===!1){return}q.user.clip(z),z.drawImage(g,A-g.width/2,p),B.polygon=[[A-g.width/2,p],[A+g.width/2,p],[A+g.width/2,p+g.height],[A-g.width/2,p+g.height]],q.status!=l.STATUS.NORMAL&&q.status==l.STATUS.FOCUS}},initStart:function(q,p){this.user.setX(this.node,"x",q),this.user.setY(this.node,"y",p)},initMove:function(q,p){this.user.setX(this.node,"x",q),this.user.setY(this.node,"y",p)},onStart:function(q,p){},onMove:function(q,p,s){this.user.setX(this.node,"x",q),this.user.setY(this.node,"y",p)}})}),f("../../../../chart/user/diebiaoji",["require","exports","module","./user"],function(m,k,o){var l=m("./user"),g=new Image;return g.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjEgNjQuMTQwOTQ5LCAyMDEwLzEyLzA3LTEwOjU3OjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyQkFGOTE2MzZCOUQxMUUyOTM0NkFFOURFOTRDRTk5QyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQkFGOTE2NDZCOUQxMUUyOTM0NkFFOURFOTRDRTk5QyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjJCQUY5MTYxNkI5RDExRTI5MzQ2QUU5REU5NENFOTlDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJCQUY5MTYyNkI5RDExRTI5MzQ2QUU5REU5NENFOTlDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QW+uDAAAAgdJREFUWEftlElKA0EUhl1lFcgBBAdwwoUozgNOOCy8gxsv4MILKE6od9CVU9ADuHSnBlwpYjTO6EaME5iolP8LVijbv+3uLMpNFh/p+l7Vez9NdQqUUv8Olbah0jZU2oZK21DpRflicRjEDMJsn1+o9AJDI0Bpkm8P+/A5B6HSC2eIp9QTtIqYe4JApRf5EJp8CI21EGgeAoUuNV8h5DwIOb0TKgUcjlQslpwsxGbrWU2Ga1gIeAmQ2IhHq7D+MwiVAhpkBnWut6SndyeaWE3jDAFXBBJSS6aS52aNQaWABtlBCPI+tzfTwmqCGQLrbABnzQ0qBTT4Mah9rSkbxFnTg/AsAS5YTc65QaWABqHKpdJjs6EEmdoZb8fzrxAjW8M1eP4RYGCzR6U/02iXYwhhcLO3pDvaljIbS5Cx7dEh0x3eHygEvjJd30aXunu9RRt1BHK7mBr5OuRymgMal2s/zXXzSl32WeiJdugAcUA/cxMqncjXIW/AHORG13qrunm5wTGVAJ4BBCoZchfaVhs+2GBNx1qzunq+xHZ1AYr0WS+odGM+NtvpFsQIcA1K9Rk/UPkXeCPdziAS4PzxDOXgAQQqvZjcGe/HZcwEQSCVSJ5CZwKU6T1BoNIPeCND+B94jz8cY6nkU6jUtaBQGYBqcPD9y+q+oNI2VNqGSttQaRsq7aIKvgDDF/xwMkQj0AAAAABJRU5ErkJggg==",l.createShape({draw:function(z,q,B){B.isValid=!1;var v="hasOwnProperty";if(q[v]("x")){B.isValid=!0;var A=q.user.getX(B,"x"),p=q.user.getY(B,"y");if(A===!1){return}q.user.clip(z),z.drawImage(g,A-g.width/2,p),B.polygon=[[A-g.width/2,p],[A+g.width/2,p],[A+g.width/2,p+g.height],[A-g.width/2,p+g.height]],q.status!=l.STATUS.NORMAL&&q.status==l.STATUS.FOCUS}},initStart:function(q,p){this.user.setX(this.node,"x",q),this.user.setY(this.node,"y",p)},initMove:function(q,p){this.user.setX(this.node,"x",q),this.user.setY(this.node,"y",p)},onStart:function(q,p){},onMove:function(q,p,s){this.user.setX(this.node,"x",q),this.user.setY(this.node,"y",p)}})}),f("../../../../chart/user/wenben",["require","exports","module","./user"],function(m,k,o){var l=m("./user"),g=[];return l.createShape({draw:function(B,F,q){q.isValid=!1;var z="hasOwnProperty";if(F[z]("x")&&F.text){q.isValid=!0,F.user.clip(B);var G=F.user.getX(q,"x"),p=F.user.getY(q,"y");if(G===!1){return}var E=0,D=16,A=F.text.split("\n");B.textBaseline="top";for(var v=0;v<A.length;v++){var C=A[v];E=Math.max(E,B.measureText(C).width),B.fillText(C,G,p+D*v)}q.polygon=[[G,p],[G+E,p],[G+E,p+D*v],[G,p+D*v]],F.status!=l.STATUS.NORMAL&&F.status==l.STATUS.FOCUS}},getTextArea:function(v,p,A){if(!this._text){var u=this,q=this._text=document.createElement("textarea");q.wrap="off",q.style.cssText="position:absolute;z-index:1000000;overflow:hidden;font-size:12px;",document.body.appendChild(q),this.node.dblclick(function(s){q.style.top=z.attr("y")+s.gy-s.dy+"px",q.style.left=z.attr("x")+s.gx-s.dx+"px",q.style.display="block",q.focus()});var z=this.node;q.addEventListener("blur",function(){q.style.display="none",z.attr("text",q.value)}),q.addEventListener("propertychange",function(){q.style.height=q.style.width="0px",q.style.height=q.scrollHeight+"px",q.style.width=q.scrollWidth+"px"}),q.addEventListener("input",function(){q.style.height=q.style.width="0px",q.style.height=q.scrollHeight+"px",q.style.width=q.scrollWidth+"px"}),navigator.userAgent.indexOf("MSIE 9")>0&&q.addEventListener("change",function(){q.style.height=q.style.width="0px",q.style.height=q.scrollHeight+"px",q.style.width=q.scrollWidth+"px"}),g.push(q)}else{if(v&&p){var q=this._text;q.style.left=v+"px",q.style.top=p+"px"}}return this._text},initStart:function(A,q,C,z){var v=this.getTextArea();for(var B=0;B<g.length;B++){v!=g[B]&&g[B].blur()}var p=v.value;if(p){v.style.display="none",this.node.attr("text",p);return}this.user.setX(this.node,"x",A),this.user.setY(this.node,"y",q),v.style.left=C+"px",v.style.top=z+"px",v.style.display="block",v.focus()},initMove:function(q,p){},onStart:function(u,q,v,s){var p=this.getTextArea();this._onStartXY=[+p.style.left.replace("px",""),+p.style.top.replace("px","")]},onMove:function(u,q,v,s){var p=this.getTextArea(this._onStartXY[0]+v,this._onStartXY[1]+s);this.user.setX(this.node,"x",this.dragAttr.x+v),this.user.setY(this.node,"y",this.dragAttr.y+s)}})}),f("../../../../chart/kline2",["require","exports","module","./base","../util/tool","./coordinate","./line/candlestick","./user/user","./user/segment","./user/chengyaxian","./user/huiguitongdao","./user/rect","./user/zhouqixian","./user/huangjinfengexian","./user/baifenbixian","./user/boduanxian","./user/feibolaqixian","./user/zhangbiaoji","./user/diebiaoji","./user/wenben"],function(z,C,m){var g=z("./base"),q=z("../util/tool"),D=z("./coordinate"),k=q.object_extend,B=q.array_find,A=z("./line/candlestick"),v=z("./user/user"),p={red:"#d91a2a",green:"#17a63a",base:"#385e7c"};return g.addSubChart("kline2",{init:function(o,u){var u=this.config=k(u,{x:68,y:65,w:653,h:219,offset:30,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,215,346,362],font:'12px arial,"\u5b8b\u4f53"',textY:30}},!1,!0);this.coord=u.coord||new D(u.x,u.y,u.w,u.h,{offsetY:20,centerX:!0}),this.date=[],this.type=this.config.type||"daily",this.onChange=o||function(){};var s=this.parent.foreLayer,l=this.user=new v(this);this.userCmd={},this.userCmd.segment=function(){l.draw(s,z("./user/segment"))},this.userCmd.chengyaxian=function(){l.draw(s,z("./user/chengyaxian"))},this.userCmd.huiguitongdao=function(){l.draw(s,z("./user/huiguitongdao"))},this.userCmd.rect=function(){l.draw(s,z("./user/rect"))},this.userCmd.zhouqixian=function(){l.draw(s,z("./user/zhouqixian"))},this.userCmd.huangjinfengexian=function(){l.draw(s,z("./user/huangjinfengexian"))},this.userCmd.baifenbixian=function(){l.draw(s,z("./user/baifenbixian"))},this.userCmd.boduanxian=function(){l.draw(s,z("./user/boduanxian"))},this.userCmd.feibolaqixian=function(){l.draw(s,z("./user/feibolaqixian"))},this.userCmd.zhangbiaoji=function(){l.draw(s,z("./user/zhangbiaoji"))},this.userCmd.diebiaoji=function(){l.draw(s,z("./user/diebiaoji"))},this.userCmd.wenben=function(){l.draw(s,z("./user/wenben"))},this.userCmd.select=function(){l.draw(s)},this.userCmd.rem=function(){l.draw(s),l.rem()}},bg:function(o){var l=[104,217],s=this.config;o.rect(s.title.x,s.title.y,s.title.w,s.title.h,4).attr({fill:s.title.fill,stroke:s.title.stroke}),o.rect(s.x,s.y,s.w,s.h).attr({stroke:s.grid.stroke,fill:s.grid.fill}),this.coord.grid(o,8,12,{color:s.grid.stroke})},userDraw:function(o){var l=this.parent.foreLayer;this.user.attach(l,o?"":this.type,o)},run:function(o){switch(o.t){case"fq":this.fq=o.d,this.coord.init(),this._isShow&&this.parent.draw();break;case"type":this.type=o.d,this._isShow&&this.parent.draw();break;case"date":this.date=o.d,this.coord.init(),this._isShow&&this.parent.draw();break;case"coordinate":this.coord.type(o.d),this.coord.init(),this._isShow&&this.parent.draw();break;case"userdraw":if(this._isShow){var l=o.d;this.userCmd[l]?(this.userCmd[l](),this.userdraw=!0):(this.userCmd.select(),this.userdraw=!1)}}},dates:function(u){!this._allDates&&(this._allDates={}),!this._allDates[this.type]&&(this._allDates[this.type]=[]);var o=this._allDates[this.type];if(!u){return o}var E=parseInt(u[0],10),s=B(o,function(t){return parseInt(t,10)-E});s<0&&(s=E<parseInt(o[0],10)?0:o.length),E=parseInt(u[u.length-1],10);var l=B(o,function(t){return parseInt(t,10)-E});l<0?l=E<parseInt(o[0],10)?0:o.length:l+=1,o.splice.apply(o,[s,l-s].concat(u))},draw:function(){var E=this,l=this.config;this.points=null,this.loader&&this.loader.cancel(),E.paper.set(E.el).remove(),this.el=[];var G=[],u=0,F;E.userDraw(!0),this.loader=this.data.getData(E.type,E.date[0],E.date[1],E.fq).progress(function(O){function s(Q){if(/[0-9]/g.test(Q)){if(Q.substr(0,2)=="hk"){return !1}var P=Q.substr(0,5);return P=="sh000"||P=="sz399"}return !0}E.paper.set(G).remove(),E.paper.set(E.el).remove(),G=[],u=0;var I=parseFloat(O.yprice).toFixed(E.data.precision);E._data=O,O=O.data;if(!O[0]){return}var K=[parseInt(O[0][0]),parseInt(O[O.length-1][0])];if(E.date[0]!=K[0]||E.date[1]!=K[1]){E.date=K,E.onChange(K),E.coord.init()}var t=[],o,J=[],N=[];for(o=0;o<O.length;o++){t.push([O[o][1],O[o][3],O[o][4],O[o][2]]),N.push(O[o][3],O[o][4]),J.push(O[o][0])}E.dates(J),E.coord.axis([0,t.length<g.CONSTANT["kline-limit"]?g.CONSTANT["kline-limit"]-1:t.length-1],[Math.min.apply(Math,N),Math.max.apply(Math,N)]),F&&F(),F=E.coord.draw(function(){G[0]&&E.paper.set(G[0]).remove(),G[0]=A(E.paper,t,E.coord,l)}),G[1]=E.coord.label(E.paper,{num:9}),G[2]=E.coord.label(E.paper,{type:"bottom",num:4,offset:12,width:100,align:"center",fix:function(P){return O[P]&&O[P][0].substr(0,4)+"/"+O[P][0].substr(4,2)+"/"+O[P][0].substr(6,2)||""}});var H=l.title.x+l.title.shift[1],M=null;s(E.parent.symbol)||(M="\u4e0d\u590d\u6743",E.fq&&(M=E.fq=="f"?"\u524d\u590d\u6743":"\u540e\u590d\u6743")),M&&(E.el[3]=E.parent.foreLayer.text(H,l.title.textY,M).attr({fill:p.base,align:"left",valign:"middle",font:l.title.font}),H+=l.fq.shift);var L=(O[O.length-1][2]-I)*100/I>0?p.red:(O[O.length-1][2]-I)*100/I==0?p.base:p.green;E.el[0]=E.parent.foreLayer.text(H,l.title.textY,"\u533a\u95f4\u6da8\u5e45\uff1a").attr({fill:p.base,align:"left",valign:"middle",font:l.title.font}),E.el[2]=E.parent.foreLayer.text(H+60,l.title.textY,q.percent((O[O.length-1][2]-I)*100/I)).attr({fill:L,align:"left",valign:"middle",font:l.title.font});var K=O[O.length-1][0];E.el[1]=E.parent.foreLayer.text(l.title.x+l.title.w-l.title.shift[0],l.title.textY,(E.parent.market=="us"?"\u7f8e\u4e1c":"")+"\u65f6\u95f4\uff1a"+K.substr(4,2)+"/"+K.substr(6,2)).attr({fill:p.base,align:"end",font:l.title.font,valign:"middle"}),E.userDraw(),E._isOver&&E.over()})},_drawTipTxt:function(H,K){var F=K.x,l=K.y,G=76,L=K.data.yprice,E=K.data.data;H.font='12px arial,"\u5b8b\u4f53"',H.textBaseline="middle",H.fillStyle="#385e7c",H.fillText("\u5f00",F,l),H.fillText("\u9ad8",F+G,l),H.fillText("\u4f4e",F+G*2,l),H.fillText("\u6536",F+G*3,l);var J=[[E[1],E[1]<L?"#17a63a":"#d91a2a"],[E[3],E[3]<L?"#17a63a":"#d91a2a"],[E[4],E[4]<L?"#17a63a":"#d91a2a"],[E[2],E[2]<L?"#17a63a":"#d91a2a"]];for(var I=0;I<J.length;I++){H.fillStyle=J[I][1],H.fillText(J[I][0],F+G*I+15,l,G)}H.fillStyle=p.base,H.textAlign="end",H.font='12px arial,"\u5b8b\u4f53"',H.fillText((K.mkt=="us"?"\u7f8e\u4e1c":"")+"\u65f6\u95f4\uff1a"+E[0].substr(4,2)+"/"+E[0].substr(6,2),K.right,l)},_drawTip:function(N,T){var H=T.x,E=T.y,U=154,G=170,S=21;N.beginPath(),N.fillStyle="rgba(255,255,255,0.85)",N.strokeStyle="#d6d5ce",N.moveTo(H,E),N.lineTo(H+U,E),N.lineTo(H+U,E+G),N.lineTo(H,E+G),N.lineTo(H,E),N.fill(),N.moveTo(H,E+S),N.lineTo(H+U,E+S),N.stroke();var Q=T.data.yprice,M=T.data.data;N.font='12px arial,"\u5b8b\u4f53"',N.textAlign="center",N.textBaseline="middle",N.fillStyle="#878774";var J="\u65e5\u671f ";J+=M[0].substr(0,4)+"/"+M[0].substr(4,2)+"/"+M[0].substr(6,2)+" ";var P=(new Date(M[0].substr(0,4),M[0].substr(4,2)-1,M[0].substr(6,2))).getDay(),K=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"];J+="\u5468"+K[P],N.fillText(J,H+U/2,E+S/2);var F=[["\u5f00   \u76d8",M[1],Number(M[1])<Number(Q)?"#17a63a":"#d91a2a"],["\u6700   \u9ad8",M[3],Number(M[3])<Number(Q)?"#17a63a":"#d91a2a"],["\u6700   \u4f4e",M[4],Number(M[4])<Number(Q)?"#17a63a":"#d91a2a"],["\u6536   \u76d8",M[2],Number(M[2])<Number(Q)?"#17a63a":"#d91a2a"],["\u6da8\u8dcc\u5e45",(Q==0?0:(M[2]-Q)*100/Q).toFixed(2)+"%",M[2]<Q?"#17a63a":"#d91a2a"],["\u6da8\u8dcc\u989d",(M[2]-Q).toFixed(2),M[2]<Q?"#17a63a":"#d91a2a"],["\u6210\u4ea4\u91cf",q.getLongNum(M[5]),"#878774"]],O=null;if("pos" in T.data){var R=[0,3,1,2],I=R[T.data.pos];O=F[I][1]}for(var L=0;L<F.length;L++){F[L][1]==O?N.font='bold 12px arial,"\u5b8b\u4f53"':N.font='12px arial,"\u5b8b\u4f53"',N.fillStyle="#878774",N.textAlign="left",N.fillText(F[L][0],H+15,E+S+S/2+L*S),N.fillStyle=F[L][2],N.textAlign="right",N.fillText(F[L][1],H+U-18,E+S+S/2+L*S)}},over:function(K,O,F){if(this.userdraw){return}var H=this.config;this.els||(this.els=[],this.els[0]=K.shape(g.drawShape.line).attr({x:H.x,y:0,length:H.w,type:"x"}).hide(),this.els[1]=K.shape(g.drawShape.line).attr({x:0,y:H.y,length:H.h,type:"y"}).hide(),this.els[2]=K.circle(O,F,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide(),this.els[3]=K.shape(this._drawTip).attr({x:O,y:H.y+15}).hide(),this.els[4]=K.shape(g.drawShape.label).attr({x:65,y:0,align:"right",width:60,x1:H.x-15,type:"left"}).hide(),this.els[5]=null,this.els[6]=K.shape(g.drawShape.label).attr({x:0,y:H.y+H.h,width:87,type:"bottom"}).hide(),this.els[7]=K.shape(this._drawTipTxt).attr({x:H.title.x+H.title.shift[2],y:H.title.textY,right:H.title.x+H.title.w-H.title.shift[0],mkt:this.parent.market}).hide());var P=this.coord.dx(O);if(P>=0&&this._data&&this._data.data[P]){var E=this._data.data[P],N=this.coord.cy(F),M=Number.MAX_VALUE,J=0;for(var G=1;G<5;G++){Math.abs(E[G]-N)<Math.abs(M-N)&&(M=E[G],J=G)}F=this.coord.y2(M),O=this.coord.x2(P),this.paper.set(this.el).hide(),this.els[0].attr("y",F).show(),this.els[1].attr("x",O).show(),this.els[2].attr({x:O,y:F}).show();var L={yprice:P==0?this._data.yprice:this._data.data[P-1][2],data:E,pos:J-1};this.els[3].attr("data",L).animate({x:P>this._data.data.length/2?H.x:H.x+H.w-154},50,"linear").toFront().show(),this.els[4].attr({y:F,text:E[J]}).show();var I=E[0];return I=I.substr(0,4)+"/"+I.substr(4,2)+"/"+I.substr(6,2),this.els[6].attr({x:O,text:I}).show(),this.els[7].attr("data",L).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.userCmd.select(),this.userdraw=!1,this.user.remove(),this.paper.set(this.el).remove()}})}),f("../../../../chart/minutek",["require","exports","module","./base","../util/tool","./coordinate","./line/candlestick","./user/user","./user/segment","./user/chengyaxian","./user/huiguitongdao","./user/rect","./user/zhouqixian","./user/huangjinfengexian","./user/baifenbixian","./user/boduanxian","./user/feibolaqixian","./user/zhangbiaoji","./user/diebiaoji","./user/wenben"],function(s,B,k){var g=s("./base"),o=s("../util/tool"),A=s("./coordinate"),z=o.object_extend,q=o.array_find,m=s("./line/candlestick"),v=s("./user/user"),p={red:"#d91a2a",green:"#17a63a",base:"#385e7c"};return g.addSubChart("minutek",{init:function(u,D){var D=this.config=z(D,{x:68,y:65,w:653,h:219,offset:30,smoothLineY:1,smoothLineX:1,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,215,346,362],font:'12px arial,"\u5b8b\u4f53"',textY:30},useVs:!0},!1,!0);this.coord=D.coord||new A(D.x,D.y,D.w,D.h,{offsetY:20,centerX:!0}),this.date=[],this.type=this.config.type||"daily",this.onChange=u||function(){};var C=this.parent.foreLayer,l=this.user=new v(this);this.userCmd={},this.userCmd.segment=function(){l.draw(C,s("./user/segment"))},this.userCmd.chengyaxian=function(){l.draw(C,s("./user/chengyaxian"))},this.userCmd.huiguitongdao=function(){l.draw(C,s("./user/huiguitongdao"))},this.userCmd.rect=function(){l.draw(C,s("./user/rect"))},this.userCmd.zhouqixian=function(){l.draw(C,s("./user/zhouqixian"))},this.userCmd.huangjinfengexian=function(){l.draw(C,s("./user/huangjinfengexian"))},this.userCmd.baifenbixian=function(){l.draw(C,s("./user/baifenbixian"))},this.userCmd.boduanxian=function(){l.draw(C,s("./user/boduanxian"))},this.userCmd.feibolaqixian=function(){l.draw(C,s("./user/feibolaqixian"))},this.userCmd.zhangbiaoji=function(){l.draw(C,s("./user/zhangbiaoji"))},this.userCmd.diebiaoji=function(){l.draw(C,s("./user/diebiaoji"))},this.userCmd.wenben=function(){l.draw(C,s("./user/wenben"))},this.userCmd.select=function(){l.draw(C)},this.userCmd.rem=function(){l.draw(C),l.rem()}},bg:function(u){var l=this.config,C=[104,217];u.rect(l.title.x,l.title.y,l.title.w,l.title.h,4).attr({fill:l.title.fill,stroke:l.title.stroke}),u.rect(l.x,l.y,l.w,l.h).attr({stroke:l.grid.stroke,fill:l.grid.fill}),this.coord.grid(u,8,12,{color:l.grid.stroke})},userDraw:function(u){var l=this.parent.foreLayer;this.user.attach(l,u?"":this.type,u)},run:function(u){switch(u.t){case"fq":this.fq=u.d,this.coord.init(),this._isShow&&this.parent.draw();break;case"type":this.type=u.d,this._isShow&&this.parent.draw();break;case"date":this.date=u.d,this.coord.init(),this._isShow&&this.parent.draw();break;case"coordinate":this.coord.type(u.d),this.coord.init(),this._isShow&&this.parent.draw();break;case"userdraw":if(this._isShow){var l=u.d;this.userCmd[l]?(this.userCmd[l](),this.userdraw=!0):(this.userCmd.select(),this.userdraw=!1)}}},dates:function(D){!this._allDates&&(this._allDates={}),!this._allDates[this.type]&&(this._allDates[this.type]=[]);var u=this._allDates[this.type];if(!D){return u}var E=parseInt(D[0],10),C=q(u,function(t){return parseInt(t,10)-E});C<0&&(C=E<parseInt(u[0],10)?0:u.length),E=parseInt(D[D.length-1],10);var l=q(u,function(t){return parseInt(t,10)-E});l<0?l=E<parseInt(u[0],10)?0:u.length:l+=1,u.splice.apply(u,[C,l-C].concat(D))},draw:function(){var C=this.config;this.loader&&this.loader.cancel();var l=this;this.points=null,l.paper.set(l.el).remove(),this.el=[];var E=[],u=0,D;l.userDraw(!0),this.loader=this.data.getData(l.type,l.date[0],l.date[1],l.fq).progress(function(N){l.paper.set(E).remove(),l.paper.set(l.el).remove(),E=[],u=0;var L=parseFloat(N.yprice).toFixed(l.data.precision);l._data=N,N=N.data;if(!N[0]){return}var H=[parseInt(N[0][0]),parseInt(N[N.length-1][0])];if(l.date[0]!=H[0]||l.date[1]!=H[1]){l.date=H,l.onChange(H),l.coord.init()}var J=[],t,I=[],M=-Number.MAX_VALUE,F=Number.MAX_VALUE;for(t=0;t<N.length;t++){J.push([N[t][1],N[t][3],N[t][4],N[t][2]]);var G=parseFloat(N[t][3]);M<G&&(M=G);var G=parseFloat(N[t][4]);F>G&&(F=G),I.push(N[t][0])}l.dates(I),M==F&&(M++,F--),l.coord.axis([0,J.length<g.CONSTANT["kline-limit"]?g.CONSTANT["kline-limit"]-1:J.length-1],[F,M]),D&&D(),D=l.coord.draw(function(){E[0]&&l.paper.set(E[0]).remove(),E[0]=m(l.paper,J,l.coord,C)}),E[1]=l.coord.label(l.paper,{num:9}),l.type.match(/5/)?E[u++]=l.coord.label(l.paper,{type:"bottom",num:3,offset:12,width:100,align:"center",fix:function(P){var O=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],Q=(new Date(N[P][0].substr(0,4),N[P][0].substr(4,2)-1,N[P][0].substr(6,2))).getDay();return N[P]&&N[P][0].substr(4,2)+"/"+N[P][0].substr(6,2)+" \u5468"+O[Q]||""}}):E[u++]=l.coord.label(l.paper,{type:"bottom",num:4,offset:12,width:100,align:"center",fix:function(O){return N[O]&&N[O][0].substr(0,4)+"/"+N[O][0].substr(4,2)+"/"+N[O][0].substr(6,2)||""}});var K=(N[N.length-1][2]-L)*100/L||"0.00"?p.red:(N[N.length-1][2]-L)*100/L||"0.00"?p.base:p.green;l.el[0]=l.parent.foreLayer.text(C.title.x+C.title.shift[1],C.title.textY,"\u533a\u95f4\u6da8\u5e45\uff1a").attr({fill:p.base,align:"left",valign:"middle",font:C.title.font}),l.el[2]=l.parent.foreLayer.text(C.title.x+C.title.shift[1]+60,C.title.textY,o.percent((N[N.length-1][2]-L)*100/L||"0.00")).attr({fill:K,align:"left",valign:"middle",font:C.title.font});var H=N[N.length-1][0];l.el[1]=l.parent.foreLayer.text(C.title.x+C.title.w-C.title.shift[0],C.title.textY,(l.parent.market=="us"?"\u7f8e\u4e1c":"")+"\u65f6\u95f4\uff1a"+H.substr(4,2)+"."+H.substr(6,2)+" "+H.substr(8,2)+":"+H.substr(10,2)).attr({fill:C.title.color||"#3fa5eb",color:"#385e7c",align:"end",font:C.title.font,valign:"middle"}),l.userDraw(),l._isOver&&l.over()})},over:function(I,N,D){var F=this.config;this.els||(this.els=[],this.els[0]=I.shape(g.drawShape.line).attr({x:F.x,y:0,length:F.w,type:"x"}).hide(),this.els[1]=I.shape(g.drawShape.line).attr({x:0,y:F.y,length:F.h,type:"y"}).hide(),this.els[2]=I.circle(N,D,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide(),this.els[3]=I.shape(d).attr({x:N,y:F.y+18}).hide(),this.els[4]=I.shape(g.drawShape.label).attr({x:F.x,y:F.y+F.h,align:"right",width:60,x1:F.x-15,type:"left"}).hide(),this.els[5]=I.shape(g.drawShape.label).attr({x:F.x,y:F.y+F.h,align:"right",width:60,x1:F.x+F.w+45,type:"right"}).hide(),this.els[6]=I.shape(g.drawShape.label).attr({x:F.x,y:F.y+F.h,width:87,type:"bottom"}).hide(),this.els[7]=I.shape(b).attr({x:F.title.x+F.title.w-F.title.shift[0],y:F.title.textY+14,mkt:this.parent.market}).hide());var M=this.coord.dx(N);if(M>=0&&this._data&&this._data.data[M]){var L=this._data.data[M],H=this.coord.cy(D),E=Number.MAX_VALUE,K=0;for(var G=1;G<5;G++){Math.abs(L[G]-H)<Math.abs(E-H)&&(E=L[G],K=G)}D=this.coord.y2(E),N=this.coord.x2(M),this.paper.set(this.el).hide(),this.els[0].attr("y",D).show(),this.els[1].attr("x",N).show(),this.els[2].attr({x:N,y:D}).show();var C={yprice:M==0?this._data.yprice:this._data.data[M-1][2],data:L,pos:K-1};this.els[3].attr("data",C).animate({x:M>this._data.data.length/2?66:F.w-86},50,"linear").toFront().show(),this.els[4].attr({y:D,text:L[K]}).show();var J=L[0];return J=J.substr(0,4)+"/"+J.substr(4,2)+"/"+J.substr(6,2)+" "+J.substr(8,2)+":"+J.substr(10,2),this.els[6].attr({x:N,text:J}).show(),this.els[7].attr("data",C).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.userCmd.select(),this.userdraw=!1,this.user.remove(),this.paper.set(this.el).remove()}})}),f("../../../../chart/trend",["require","exports","module","./base","../util/tool"],function(p,k,u){var m=p("./base"),g=p("../util/tool"),l=g.date_shift,q=g.array_find;return m.addSubChart("trend",{init:function(s,o,v){this.config=g.object_extend(v,{x:66,y:459,w:655,h:34,showDate:!0,grid:{fill:"#e0eefd",stroke:"#81b3eb"}},!1,!0),this.date=[],this.onChange=s||function(){},this.onClick=o||function(){},this.paper=this.parent.canvas.layer(),this._rect=[this.config.x,this.config.x+this.config.w]},bg:function(s){var o=this.config;s.rect(o.x,o.y,o.w,o.h).attr({stroke:o.grid.stroke,fill:o.grid.fill})},run:function(o){o.t=="date"&&(o.d[0]&&this.date[0]!=o.d[0]||o.d[1]&&this.date[1]!=o.d[1])?(o.d[0]&&(this.date[0]=o.d[0]),o.d[1]&&(this.date[1]=o.d[1]),this._isShow&&(this._date2rect(),this.draw())):o.t=="fq"&&(this.fq=o.d,this._isShow&&this.parent.draw())},_rect:[510,600],_rect2:[],_rectw:4,_date2rect:function(){var D=this,A=this.trendDate,E=this.config;if(A&&A.length>1&&D.date[0]){var C=A.length-1,z=q(A,function(s,F){return s-D.date[0]},!0);z==1&&A[1]>D.date[0]&&(z=0),this._rect[0]=E.x+E.w*z/C,z=q(A,function(s,F){return s-D.date[1]},!0),this._rect[1]=E.x+E.w*z/C}this._rect2=this._rect.slice();var B=D.trendEls;if(B){var v=this._rect2[0],o=this._rect2[1];v>o&&(v=this._rect2[1],o=this._rect2[0]),B[2].attr({width:o-v,x:v}),B[3].attr("x",D._rect2[0]-D._rectw),B[4].attr("x",D._rect2[1]-D._rectw),B[0].attr("text",D.date[0]),B[1].attr("text",D.date[1])}this.left=Math.round((this._rect2[0]-E.x)*C/E.w),this.right=Math.round((this._rect2[1]-E.x)*C/E.w)},draw:function(F,J){this.paper.show();if(!this.date[0]||this.inited){this.config.useVs!==!1&&this.trendEls&&(!this.parent.isVs&&this.config.showDate?(this.trendEls[0].show(),this.trendEls[1].show(),this.trendText.show()):(this.trendEls[0].hide(),this.trendEls[1].hide(),this.trendText.hide()));return}var A=this.config,C=this;this.inited=!0;var K,z,I=function(N,L,M){var s=C.trendEls,o=[C._rect2[0],C._rect2[1]];N==3?o=[L,M]:N==2?o=[C._rect[0]+L,C._rect[1]+L]:o[N]=C._rect[N]+L,o[0]<o[1]?(K=o[0],z=o[1]):(K=o[1],z=o[0]),K<A.x&&(N==2&&(o[o[0]<o[1]?1:0]=z=z+A.x-K),o[o[0]<o[1]?0:1]=K=A.x),z>A.x+A.w&&(N==2&&(o[o[0]<o[1]?0:1]=K=K+A.x+A.w-z),o[o[0]<o[1]?1:0]=z=A.x+A.w),C._rect2=o,s[2].attr({width:z-K,x:K}),s[3].attr("x",C._rect2[0]-C._rectw),s[4].attr("x",C._rect2[1]-C._rectw)},H=function(Q,N,P){var O=C.trendDate,R=O.length,M=Math.round((C._rect2[0]-A.x)*R/A.w),L=Math.round((C._rect2[1]-A.x)*R/A.w);C._rect[0]=C._rect2[0],C._rect[1]=C._rect2[1];if(M!=C.left||L!=C.right){C.left=M,C.right=L,M<L?C.date=[O[M]||O[0],O[L]||O[R-1]]:M>L?C.date=[O[L]||O[0],O[M]||O[R-1]]:C.date=[O[L]||O[R-1],O[M]||O[R-1]],C.onChange(C.date),C.trendEls[0].attr("text",C.date[0]),C.trendEls[1].attr("text",C.date[1])}},E=function(){var s=this.attrs,o=[s.x,s.x+s.width],L=[s.y,s.y+s.height];return[[o[0],L[0]],[o[1],L[0]],[o[1],L[1]],[o[0],L[1]]]},B=function(Q,N,S){var P=4,M=4,O=[N.x,N.x+P,N.x+N.width-P,N.x+N.width],R=[N.y,N.y+M,N.y+N.height-M,N.y+N.height];Q.beginPath(),Q.moveTo(O[1],R[0]),Q.lineTo(O[2],R[0]),P&&M&&Q.quadraticCurveTo(O[3],R[0],O[3],R[1]),Q.lineTo(O[3],R[2]),P&&M&&Q.quadraticCurveTo(O[3],R[3],O[2],R[3]),Q.lineTo(O[1],R[3]),P&&M&&Q.quadraticCurveTo(O[0],R[3],O[0],R[2]),Q.lineTo(O[0],R[1]),P&&M&&Q.quadraticCurveTo(O[0],R[0],O[1],R[0]);var L=Q.createLinearGradient(O[0],R[0],O[3],R[0]);L.addColorStop(0,"#ffffff"),L.addColorStop(0.5,"#ecf3fc"),L.addColorStop(1,"#ffffff"),Q.fillStyle=L,Q.fill(),Q.strokeStyle="#689ccf",Q.stroke(),Q.moveTo(O[0]+2,R[0]+N.height/2-2.5),Q.lineTo(O[3]-2,R[0]+N.height/2-2.5),Q.moveTo(O[0]+2,R[0]+N.height/2),Q.lineTo(O[3]-2,R[0]+N.height/2),Q.moveTo(O[0]+2,R[0]+N.height/2+2.5),Q.lineTo(O[3]-2,R[0]+N.height/2+2.5),Q.strokeStyle="#8cb3da",Q.stroke()},G=function(){var M=this.attrs,s=M.x,N=M.y,L=M.width,o=M.height;return[[s,N],[s+L,N],[s+L,N+o],[s,N+o]]},D=function(Q,N,S){var P=N.x,M=N.y,O=N.width,R=N.height;Q.beginPath(),Q.moveTo(P,M),Q.lineTo(P+O,M),Q.strokeStyle="#aacfea",Q.stroke(),Q.beginPath(),Q.moveTo(P,M+R),Q.lineTo(P,M+1),Q.lineTo(P+O,M+1),Q.lineTo(P+O,M+R),Q.strokeStyle="#c9e3f7",Q.stroke(),Q.beginPath(),Q.moveTo(P,M+R),Q.lineTo(P+O,M+R),Q.strokeStyle="#f1f9ff",Q.stroke(),Q.beginPath(),Q.moveTo(P+O-5,M+R/2-1.5),Q.lineTo(P+O-5-3,M+R/2+1.5),Q.lineTo(P+O-5-6,M+R/2-1.5),Q.lineTo(P+O-5,M+R/2-1.5),Q.fillStyle="#74b1da",Q.fill(),Q.fillStyle="#4485b1",Q.textAlign="left",Q.textBaseline="middle",Q.font="11px arial";var L=String(N.text);L&&(L=L.substr(0,4)+"-"+L.substr(4,2)+"-"+L.substr(6,2)),Q.fillText(L,P+8,M+R/2)},v=function(Q,N,S){var P=N.rx||N.r||0,M=N.ry||N.r||0,O=[N.x,N.x+P,N.x+N.width-P,N.x+N.width],R=[N.y,N.y+M,N.y+N.height-M,N.y+N.height];Q.beginPath(),Q.moveTo(O[1],R[0]),Q.lineTo(O[2],R[0]),P&&M&&Q.quadraticCurveTo(O[3],R[0],O[3],R[1]),Q.lineTo(O[3],R[2]),P&&M&&Q.quadraticCurveTo(O[3],R[3],O[2],R[3]),Q.lineTo(O[1],R[3]),P&&M&&Q.quadraticCurveTo(O[0],R[3],O[0],R[2]),Q.lineTo(O[0],R[1]),P&&M&&Q.quadraticCurveTo(O[0],R[0],O[1],R[0]),Q.fillStyle="rgba(255,238,146,0.57)",Q.fill();var L=Q.createLinearGradient(0,R[0],0,R[3]);L.addColorStop(0,"#FFFFFF"),L.addColorStop(5/N.height,"rgba(255,255,255,0)"),Q.fillStyle=L,Q.fill(),Q.shadowOffsetX=0,Q.shadowOffsetY=1,Q.shadowBlur=3,Q.shadowColor="rgba(13,18,23,0.38)",Q.strokeStyle="#689ccf",Q.stroke()};this.loader&&this.loader.cancel(),this.loader=this.data.getTrend(this.fq).progress(function(O){C.loader&&C.loader.cancel(),C.loader=null;var T=[];C.trendDate=[];var U=[],L;for(var P=0;P<O.length;P++){T.push(O[P][4]),L=O[P][0].substr(0,4),(!U.length||U[U.length-1][1]!=L)&&U.push([P,L]),C.trendDate.push(parseInt(O[P][0],10))}C._date2rect();var S=m.drawMethod.line(C.paper,T,{x:C.config.x,y:A.y+1,w:C.config.w,h:A.h-2,fill:"#c2d4e6",stroke:"#e0eefd"}),M=A.y-1,N=A.h+2;C.trendEls=[C.paper.shape(D).attr({x:21,y:22,width:83,height:19,text:C.date[0]}).click(function(s,o,V){C.onClick(0,C.date[0],o,V)}).getPolygon(G),C.paper.shape(D).attr({x:129,y:22,width:83,height:19,text:C.date[1]}).click(function(s,o,V){C.onClick(1,C.date[1],o,V)}).getPolygon(G),C.paper.shape(v).attr({x:C._rect[0],y:M,width:C._rect[1]-C._rect[0],height:N,r:2}).drag(function(o){I(2,o)},function(){},function(o){H(2,o.dx,o.dy)}).getPolygon(function(){var s=this.attrs,o=[s.x,s.x+s.width],V=[s.y,s.y+s.height];return[[o[0],V[0]],[o[1],V[0]],[o[1],V[1]],[o[0],V[1]]]}),C.paper.shape(B).attr({x:C._rect[0]-C._rectw,y:A.y+1,width:C._rectw*2,height:N-4}).mouseover(function(){__.dom.f(".h5-panel").style.cursor="w-resize",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="w-resize")}).mouseout(function(){__.dom.f(".h5-panel").style.cursor="default",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="default")}).drag(function(o){I(0,o)},function(){},function(o){H(0,o.dx,o.dy)}).getPolygon(E),C.paper.shape(B).attr({x:C._rect[1]-C._rectw,y:A.y+1,width:C._rectw*2,height:N-4}).mouseover(function(){__.dom.f(".h5-panel").style.cursor="w-resize",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="w-resize")}).mouseout(function(){__.dom.f(".h5-panel").style.cursor="default",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="default")}).drag(function(o){I(1,o)},function(){},function(o){H(1,o.dx,o.dy)}).getPolygon(E)],C.trendText=C.paper.text(116,30,"\u81f3").attr({valign:"middle",align:"center",fill:"#8ec1e3",font:"12px SimSun"});if(C.config.useVs!==!1&&C.parent.isVs||!C.config.showDate){C.trendEls[0].hide(),C.trendEls[1].hide(),C.trendText.hide()}for(var P=0,R=0;P<U.length;P++){if(!P||U[P][0]-U[R][0]>C.trendDate.length/8){R=P;var Q=C.config.x+U[P][0]*A.w/C.trendDate.length;C.paper.text(Q,C.config.y+C.config.h+5,U[P][1]).attr({valign:"top",fill:"#81a1c4"})}}})},clear:function(){this.paper.hide(),this.loader&&this.loader.cancel(),this.loader=null}})}),f("../../../../chart/trendm",["require","exports","module","./base","../util/tool"],function(p,k,u){var m=p("./base"),g=p("../util/tool"),l=g.date_shift,q=g.array_find;return m.addSubChart("trendm",{init:function(s,o,v){this.config=g.object_extend(v,{x:66,y:459,w:655,h:34,showDate:!0,grid:{fill:"#e0eefd",stroke:"#81b3eb"}},!1,!0),this.date=[],this.onChange=s||function(){},this.onClick=o||function(){},this.paper=this.parent.canvas.layer()},bg:function(s){var o=this.config;s.rect(o.x,o.y,o.w,o.h).attr({stroke:o.grid.stroke,fill:o.grid.fill})},run:function(o){o.t=="date"&&(o.d[0]&&this.date[0]!=o.d[0]||o.d[1]&&this.date[1]!=o.d[1])?(o.d[0]&&(this.date[0]=o.d[0]),o.d[1]&&(this.date[1]=o.d[1]),this._isShow&&(this._date2rect(),this.draw())):o.t=="period"&&(this._period=o.d,this._isShow&&(this._date2rect(),this.draw()))},_rect:[510,600],_rect2:[],_rectw:4,_date2rect:function(){var D=this,A=this.trendDate,E=this.config;if(A&&D.date[0]){var C=A.length-1,z=q(A,function(s,F){return s-D.date[0]},!0);D._period&&(z-=D._period/5-1);if(z==1&&A[1]>D.date[0]||z<0){z=0}this._rect[0]=E.x+E.w*z/C,z=q(A,function(s,F){return s-D.date[1]},!0),this._rect[1]=E.x+E.w*z/C}this._rect2=this._rect.slice();var B=D.trendEls;if(B){var v=this._rect2[0],o=this._rect2[1];v>o&&(v=this._rect2[1],o=this._rect2[0]),B[2].attr({width:o-v,x:v}),B[3].attr("x",D._rect2[0]-D._rectw),B[4].attr("x",D._rect2[1]-D._rectw)}this.left=Math.round((this._rect2[0]-E.x)*C/E.w),this.right=Math.round((this._rect2[1]-E.x)*C/E.w)},draw:function(D,H){this.paper.show();if(!this.date[0]||this.inited){return}var z=this.config,B=this;this.inited=!0;var I,v,G=function(L,J,K){var s=B.trendEls,o=[B._rect2[0],B._rect2[1]];L==3?o=[J,K]:L==2?o=[B._rect[0]+J,B._rect[1]+J]:o[L]=B._rect[L]+J,o[0]<o[1]?(I=o[0],v=o[1]):(I=o[1],v=o[0]),I<z.x&&(L==2&&(o[o[0]<o[1]?1:0]=v=v+z.x-I),o[o[0]<o[1]?0:1]=I=z.x),v>z.x+z.w&&(L==2&&(o[o[0]<o[1]?0:1]=I=I+z.x+z.w-v),o[o[0]<o[1]?1:0]=v=z.x+z.w),B._rect2=o,s[2].attr({width:v-I,x:I}),s[3].attr("x",B._rect2[0]-B._rectw),s[4].attr("x",B._rect2[1]-B._rectw)},F=function(O,L,N){var M=B.trendDate,P=M.length,K=Math.round((B._rect2[0]-z.x)*P/z.w),J=Math.round((B._rect2[1]-z.x)*P/z.w);B._rect[0]=B._rect2[0],B._rect[1]=B._rect2[1];if(K!=B.left||J!=B.right){B.left=K,B.right=J,K<J?B.date=[M[K]||M[0],M[J]||M[P-1]]:K>J?B.date=[M[J]||M[0],M[K]||M[P-1]]:B.date=[M[J]||M[P-1],M[K]||M[P-1]],B.onChange(B.date)}},C=function(){var s=this.attrs,o=[s.x,s.x+s.width],J=[s.y,s.y+s.height];return[[o[0],J[0]],[o[1],J[0]],[o[1],J[1]],[o[0],J[1]]]},A=function(O,L,Q){var N=4,K=4,M=[L.x,L.x+N,L.x+L.width-N,L.x+L.width],P=[L.y,L.y+K,L.y+L.height-K,L.y+L.height];O.beginPath(),O.moveTo(M[1],P[0]),O.lineTo(M[2],P[0]),N&&K&&O.quadraticCurveTo(M[3],P[0],M[3],P[1]),O.lineTo(M[3],P[2]),N&&K&&O.quadraticCurveTo(M[3],P[3],M[2],P[3]),O.lineTo(M[1],P[3]),N&&K&&O.quadraticCurveTo(M[0],P[3],M[0],P[2]),O.lineTo(M[0],P[1]),N&&K&&O.quadraticCurveTo(M[0],P[0],M[1],P[0]);var J=O.createLinearGradient(M[0],P[0],M[3],P[0]);J.addColorStop(0,"#ffffff"),J.addColorStop(0.5,"#ecf3fc"),J.addColorStop(1,"#ffffff"),O.fillStyle=J,O.fill(),O.strokeStyle="#689ccf",O.stroke(),O.moveTo(M[0]+2,P[0]+L.height/2-2.5),O.lineTo(M[3]-2,P[0]+L.height/2-2.5),O.moveTo(M[0]+2,P[0]+L.height/2),O.lineTo(M[3]-2,P[0]+L.height/2),O.moveTo(M[0]+2,P[0]+L.height/2+2.5),O.lineTo(M[3]-2,P[0]+L.height/2+2.5),O.strokeStyle="#8cb3da",O.stroke()},E=function(O,L,Q){var N=L.rx||L.r||0,K=L.ry||L.r||0,M=[L.x,L.x+N,L.x+L.width-N,L.x+L.width],P=[L.y,L.y+K,L.y+L.height-K,L.y+L.height];O.beginPath(),O.moveTo(M[1],P[0]),O.lineTo(M[2],P[0]),N&&K&&O.quadraticCurveTo(M[3],P[0],M[3],P[1]),O.lineTo(M[3],P[2]),N&&K&&O.quadraticCurveTo(M[3],P[3],M[2],P[3]),O.lineTo(M[1],P[3]),N&&K&&O.quadraticCurveTo(M[0],P[3],M[0],P[2]),O.lineTo(M[0],P[1]),N&&K&&O.quadraticCurveTo(M[0],P[0],M[1],P[0]),O.fillStyle="rgba(255,238,146,0.57)",O.fill();var J=O.createLinearGradient(0,P[0],0,P[3]);J.addColorStop(0,"#FFFFFF"),J.addColorStop(5/L.height,"rgba(255,255,255,0)"),O.fillStyle=J,O.fill(),O.shadowOffsetX=0,O.shadowOffsetY=1,O.shadowBlur=3,O.shadowColor="rgba(13,18,23,0.38)",O.strokeStyle="#689ccf",O.stroke()};this.loader&&this.loader.cancel(),this.loader=this.data.getData("minuteK5",!0).progress(function(O){O=O.data,B.loader&&B.loader.cancel(),B.loader=null;var S=[];B.trendDate=[];var T=[],K;for(var M=0;M<O.length;M++){S.push(O[M][4]),K=O[M][0].substr(0,8),(!T.length||T[T.length-1][1]!=K)&&T.push([M,K]),B.trendDate.push(parseInt(O[M][0],10))}B._date2rect(),B.config.max=Math.max.apply(null,S),B.config.min=Math.min.apply(null,S),B.config.max==B.config.min&&(B.config.max++,B.config.min--);var J=m.drawMethod.line(B.paper,S,{x:B.config.x,y:z.y+1,w:B.config.w,h:z.h-2,fill:"#c2d4e6",stroke:"#e0eefd",max:B.config.max,min:B.config.min,zero:!0}),P=z.y-1,R=z.h+2;B.trendEls=[null,null,B.paper.shape(E).attr({x:B._rect[0],y:P,width:B._rect[1]-B._rect[0],height:R,r:2}).drag(function(o){G(2,o)},function(){},function(o){F(2,o.dx,o.dy)}).getPolygon(function(){var s=this.attrs,o=[s.x,s.x+s.width],U=[s.y,s.y+s.height];return[[o[0],U[0]],[o[1],U[0]],[o[1],U[1]],[o[0],U[1]]]}),B.paper.shape(A).attr({x:B._rect[0]-B._rectw,y:z.y+1,width:B._rectw*2,height:R-4}).mouseover(function(){__.dom.f(".h5-panel").style.cursor="w-resize",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="w-resize")}).mouseout(function(){__.dom.f(".h5-panel").style.cursor="default",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="default")}).drag(function(o){G(0,o)},function(){},function(o){F(0,o.dx,o.dy)}).getPolygon(C),B.paper.shape(A).attr({x:B._rect[1]-B._rectw,y:z.y+1,width:B._rectw*2,height:R-4}).mouseover(function(){__.dom.f(".h5-panel").style.cursor="w-resize",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="w-resize")}).mouseout(function(){__.dom.f(".h5-panel").style.cursor="default",__.dom.f(".g-main")&&(__.dom.f(".g-main").style.cursor="default")}).drag(function(o){G(1,o)},function(){},function(o){F(1,o.dx,o.dy)}).getPolygon(C)];for(var M=0,L=0;M<T.length;M++){if(!M||T[M][0]-T[L][0]>B.trendDate.length/8){L=M;var N=B.config.x+T[M][0]*z.w/B.trendDate.length,Q=T[M][1].substr(0,4)+"/"+T[M][1].substr(4,2)+"/"+T[M][1].substr(6,2);B.paper.text(N,B.config.y+B.config.h+5,Q).attr({valign:"top",fill:"#81a1c4"})}}})},clear:function(){this.paper.hide(),this.loader&&this.loader.cancel(),this.loader=null}})}),f("../../../../chart/line/line",["require","exports","module"],function(k,g,l){return function(M,A,F,C){var I=[],B=C.broken||[A.length],E=C.smoothLineX||0,z=C.smoothLineY||0;for(var P=0,L=0;P<B.length;P++){var H=!0,O,J,D,N,q,G;for(;L<B[P];L++){O=F.x2(L);if(!(O-q<E)){q=O;if(C.zero||A[L]){J=F.y2(A[L]),N=Math.abs(J-G),N<z?D=[O,J]:(D&&(I.push([H?"moveTo":"lineTo",D]),H=!1,D=!1),G=J,I.push([H?"moveTo":"lineTo",[O,J]]),H=!1)}}}D&&I.push([H?"moveTo":"lineTo",D])}var K=M.path(I);return"stroke-width" in C&&K.attr("stroke-width",C["stroke-width"]),"stroke" in C&&K.attr("stroke",C.stroke),K}}),f("../../../../chart/ma",["require","exports","module","./base","../util/tool","./coordinate","./line/line"],function(q,A,l){function p(o){return Math.LOG10E*Math.log(o)}var g=q("./base"),m=q("../util/tool"),B=q("./coordinate"),k=q("./line/line"),z=m.object_extend,v=m.array_find;return g.addSubChart("MA",{init:function(u,o,C,s){this.ma=u,this.matype=C,s=this.config=z(s,{x:68,y:321,w:653,h:40,offset:3,labelOffset:0,centerX:!1}),this.coord=s.coord||new B(s.x,s.y,s.w,s.h,{offsetY:s.offset,centerX:s.centerX}),this.config.stroke=o,this.type="daily",this.date=[]},run:function(o){switch(o.t){case"fq":this.fq=o.d,this._isShow&&this.parent.draw();break;case"type":this.type=o.d,this._isShow&&this.parent.draw();break;case"date":this.date=o.d,this.coord.init(),this._isShow&&this.parent.draw()}},draw:function(){var u=this,o=u.config;u.matype=="left"&&!u.el?u.el=u.parent.foreLayer.text(o.x,o.y+o.labelOffset,"MA"+u.ma).attr({fill:u.config.stroke,align:"start",valign:"bottom"}):u.matype=="middle"&&!u.el?u.el=u.parent.foreLayer.text(o.x+o.w/2,o.y+o.labelOffset,"MA"+u.ma).attr({fill:u.config.stroke,align:"center",valign:"bottom"}):u.matype=="right"&&!u.el&&(u.el=u.parent.foreLayer.text(o.x+o.w,o.y+o.labelOffset,"MA"+u.ma).attr({fill:u.config.stroke,align:"end",valign:"bottom"})),u.el.attach(u.parent.foreLayer),this.loader&&this.loader.cancel();var C=[],s;this.loader=u.data.getMA(u.type,u.date[0],u.date[1],u.ma,o.datatype,u.fq).progress(function(D){u.paper.set(C).remove();if(u.config.limit){for(var E=D.length;E<u.config.limit;E++){D.push(0)}}var t=Number.MAX_VALUE;for(var E=0;E<D.length;E++){D[E]&&D[E]<t&&(t=D[E])}u.coord.axis([0,D.length-1],[t,Math.max.apply(null,D)]),u._data=D,u.paper.set(C).remove(),s&&s(),s=u.coord.draw(function(){C[0]&&u.paper.set(C[0]).remove(),C[0]=k(u.paper,D,u.coord,o)}),u._isOver&&u.over()})},over:function(D,o,E){if(!this.els){if(!this.el){return}this.els=[],this.els[0]=D.text(this.el.attr("x"),this.el.attr("y"),this.el.attr("text")+"\u010f\u017a\u009a").attr({fill:this.el.attr("fill"),align:this.el.attr("align"),valign:this.el.attr("valign")}).hide()}var C=this.coord.dx(o);if(C>=0&&this._data&&this._data[C]){var u=this._data[C];return this.config.datatype!="volume"?u=parseFloat(u).toFixed(this.data.precision):u=m.getLongNum(u).toString(),this.els[0].attr("text","MA"+this.ma+"\uff1a"+u).show(),this.el.hide(),!0}},out:function(){this.el&&this.el.show();if(this.els){for(var o=0;o<this.els.length;o++){this.els[o].hide()}}},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.el&&this.el.remove()}})}),f("../../../../chart/subgraph/subgraph",["require","exports","module","../base","../../util/tool","../coordinate"],function(p,z,l){function q(F,I,D){var B=I.x,E=I.width,J=I.y,C=I.height,H=I.style,G=H.focus;I.focus?(F.beginPath(),F.moveTo(B,J),F.lineTo(B,J+C),F.moveTo(B+E,J+C),F.lineTo(B+E,J),F.strokeStyle=G.border[0],F.stroke(),F.beginPath(),F.moveTo(B,J+C),F.lineTo(B+E,J+C),F.strokeStyle=G.border[1],F.stroke(),F.beginPath(),F.moveTo(B+E,J),F.lineTo(B,J),F.strokeStyle=G.border[2],F.stroke(),F.beginPath(),F.moveTo(B,J),F.lineTo(B,J+C),F.lineTo(B+E,J+C),F.lineTo(B+E,J),F.lineTo(B,J),F.fillStyle=G.fill,F.fill(),F.fillStyle=G.color,F.font=G.font):(F.fillStyle=H.color,F.font=H.font),F.textAlign="center",F.textBaseline="middle",F.fillText(I.text,B+E/2,J+C/2)}var g=p("../base"),m=p("../../util/tool"),A=p("../coordinate"),k=m.object_extend,v=m.array_find;return g.addSubChart("subgraph",{init:function(o){var o=this.config=k(o,{x:68,y:377,w:653,h:54,tab:{shift:19,h:20,w:53,fill:"#dde9f1",style:{focus:{fill:"#ebf3f9",border:["#81b3eb","#7c8287","#e0e9f1"],color:"#0084ff",font:"bold 11px 'Myriad Pro'"},color:"#99a5b0",font:"11px 'Myriad Pro'"}},offset:5,grid:{stroke:"#81b3eb",fill:"#f0f7fc",color:"#cee1f5"}},!1,!0);this.coordinate=new A(o.x,o.y,o.w,o.h,{offsetY:5,centerX:o.centerX}),this.charts=[],this.chartFocus=null,this.els=[],this.charts2=[],this.chartFocus2=null,this.els2=[]},bg:function(s){var o=[104,217],u=this.config;s.rect(u.x,u.y,u.w,u.h).attr({stroke:u.grid.stroke,fill:u.grid.fill}),this.coordinate.grid(s,5,null,{color:u.grid.color}),s.line(u.x,u.y+u.h,u.x+u.w,u.y+u.h).attr({stroke:u.grid.stroke}),s.rect(u.x+1,u.y+u.h,u.w-2,u.tab.h).attr({fill:u.tab.fill,stroke:null}),s.set(this.els).attach(s),s.set(this.els2).attach(s)},draw:function(){},clear:function(){},addSubChart:function(B){var s=this.config;arguments[2]=k(arguments[2],s,!1,!0);var C=this.parent.addSubChart.apply(this.parent,arguments);if(C){C.run=function(t){switch(t.t){case"fq":this.fq=t.d,this._isShow&&this.parent.draw();break;case"type":this.type=t.d,this._isShow&&this.parent.draw();break;case"date":this.date=t.d,this._isShow&&this.parent.draw()}},C.coordinate=this.coordinate,C.focus=function(){this.visible=!0,this.parent.draw()},C.blur=function(){this.visible=!1,this.out(),this.clear(),this.parent.draw()},this.charts.push(C);var u=this,o=this.charts.length-1;this.els.push(this.parent.backLayer.shape(q).attr({x:s.x+s.tab.shift+o*s.tab.w,y:s.y+s.h,text:C.name,width:s.tab.w,height:s.tab.h,style:s.tab.style,focus:!u.chartFocus}).click(function(){for(var E=0;E<u.charts.length;E++){var D=u.charts[E];D==C?(u.els[E].attr("focus",!0),D.focus&&D.focus()):(u.els[E].attr("focus",!1),D.blur&&D.blur())}}).getPolygon(function(){var G=this.attrs,E=G.x,H=G.width,F=G.y,D=G.height;return[[E,F],[E+H,F],[E+H,F+D],[E,F+D]]})),u.chartFocus||(u.chartFocus=C,C.focus())}return C}})}),f("../../../../chart/line/histogram",["require","exports","module"],function(k,g,l){return function(D,J,z,B){var K=B.color,q=[[],[]],I=z.stepX/3;B.maxWidth&&I>B.maxWidth/2&&(I=B.maxWidth/2);var G=z.x+z.w,C,A,F;F=Math.round(z.x2(0))==Math.round(z.x2(1));for(var m=0,E=J.length;m<E;m++){F?(C=Math.round(z.x2(m)*10)/10,A=Math.round(z.y2(J[m])*10)/10):(C=Math.round(z.x2(m)),A=Math.round(z.y2(J[m])));if(J[m]){K?h=z.y2(z.minY)-A:h=z.y2(0)-A;var H=C-I;r=C+I,H<z.x&&(H=z.x),r>G&&(r=G),q[(K?K[m]:J[m])<0?1:0].push(["moveTo",[H,A+h]],["lineTo",[H,A]],["lineTo",[r,A]],["lineTo",[r,A+h]],["lineTo",[H,A+h]])}}return[D.path(q[0]).attr({fill:B.colors&&B.colors.up||"#d91a2a",stroke:null}),D.path(q[1]).attr({fill:B.colors&&B.colors.down||"#17a63a",stroke:null})]}}),f("../../../../chart/subgraph/macd",["require","exports","module","../base","../../util/tool","../line/line","../line/histogram"],function(p,z,l){var g=p("../base"),m=p("../../util/tool"),A=p("../line/line"),k=p("../line/histogram"),v=m.object_extend,q=m.array_find;return g.addSubChart("MACD",{init:function(o){this.config=v(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="MACD"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),s.points=[],this.loader=this.data.getMACD(s.type,s.date[0],s.date[1],s.fq).progress(function(F,D,C){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var B=F.length;B<o.limit;B++){F.push(0),D.push(0),C.push(0)}}s._MACD=F,s._DIFF=D,s._DEA=C;var t=Math.max(Math.max.apply(Math,F),Math.max.apply(Math,D),Math.max.apply(Math,C)),E=Math.min(Math.min.apply(Math,F),Math.min.apply(Math,D),Math.min.apply(Math,C));-E>t&&(t=-E),E=-t,o.max=t,o.min=E,s.coordinate.init(),s.coordinate.axis([0,D.length-1],[E,t]),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"DIFF").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=A(s.paper,D,s.coordinate,o),o.stroke="#ff6000",s.el[1]=s.parent.foreLayer.text(o.x+o.w/2,o.y,"DEA").attr({fill:o.stroke,align:"center",valign:"bottom"}),s.el[5]=A(s.paper,C,s.coordinate,o),o.stroke="#ee6ac5",s.el[2]=s.parent.foreLayer.text(o.x+o.w,o.y,"MACD").attr({fill:o.stroke,align:"right",valign:"bottom"}),s.el[6]=k(s.paper,F,s.coordinate,o),s.el[3]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(C,u,D){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var o=this.config;this.els[0]=C.text(o.x,o.y,"DIFF\uff1a").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[1]=C.text(o.x+o.w/2,o.y,"DEA\uff1a").attr({fill:this.el[1].attr("fill"),align:this.el[1].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[2]=C.text(o.x+o.w,o.y,"MACD\uff1a").attr({fill:this.el[2].attr("fill"),align:this.el[2].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[3]=C.shape(g.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var B=this.coordinate.dx(u);if(B>=0&&this._MACD[B]){return this.els[0].attr("text","DIFF\uff1a"+parseFloat(this._DIFF[B]).toFixed(2)).show(),this.el[0].hide(),this.els[1].attr("text","DEA\uff1a"+parseFloat(this._DEA[B]).toFixed(2)).show(),this.el[1].hide(),this.els[2].attr("text","MACD\uff1a"+parseFloat(this._MACD[B]).toFixed(2)).show(),this.el[2].hide(),this.els[3].attr("x",this.coordinate.x2(B)).show(),!0}},out:function(){this.paper.set(this.el.slice(0,3)).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/subgraph/rsi",["require","exports","module","../base","../../util/tool","../line/line"],function(q,l,z){var p=q("../base"),k=q("../../util/tool"),m=q("../line/line"),v=k.object_extend,g=k.array_find;return p.addSubChart("RSI",{init:function(o){this.config=v(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="RSI"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),s.points=[],this.loader=this.data.getRSI(s.type,s.date[0],s.date[1],s.fq).progress(function(E,C,B){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var D=E.length;D<o.limit;D++){E.push(0),C.push(0),B.push(0)}}s._data=[E,C,B];var A=s._data.join(",").replace(/NaN/g,"").split(/,+/),t=Number.MAX_VALUE;for(var D=0;D<A.length;D++){A[D]&&parseFloat(A[D])<parseFloat(t)&&(t=A[D])}s.coordinate.init(),s.coordinate.axis([0,E.length-1],[t,Math.max.apply(Math,A)]),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"RSI6").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=m(s.paper,E,s.coordinate,o),o.stroke="#ff6000",s.el[1]=s.parent.foreLayer.text(o.x+o.w/2,o.y,"RSI12").attr({fill:o.stroke,align:"center",valign:"bottom"}),s.el[5]=m(s.paper,C,s.coordinate,o),o.stroke="#006000",s.el[2]=s.parent.foreLayer.text(o.x+o.w,o.y,"RSI24").attr({fill:o.stroke,align:"right",valign:"bottom"}),s.el[6]=m(s.paper,B,s.coordinate,o),s.el[3]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(E,C,G){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var B=this.config;this.els[0]=E.text(B.x,B.y,"RSI6\uff1a").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[1]=E.text(B.x+B.w/2,B.y,"RSI12\uff1a").attr({fill:this.el[1].attr("fill"),align:this.el[1].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[2]=E.text(B.x+B.w,B.y,"RSI24\uff1a").attr({fill:this.el[2].attr("fill"),align:this.el[2].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[3]=E.shape(p.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var D=this.points,F=this.coordinate.dx(C);if(F>=0&&this._data[0][F]){var A=this._data;return this.els[0].attr("text","RSI6\uff1a"+parseFloat(A[0][F]).toFixed(2)).show(),this.el[0].hide(),this.els[1].attr("text","RSI12\uff1a"+parseFloat(A[1][F]).toFixed(2)).show(),this.el[1].hide(),this.els[2].attr("text","RSI24\uff1a"+parseFloat(A[2][F]).toFixed(2)).show(),this.el[2].hide(),this.els[3].attr("x",this.coordinate.x2(F)).show(),!0}},out:function(){this.paper.set(this.el.slice(0,3)).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/subgraph/kdj",["require","exports","module","../base","../../util/tool","../line/line"],function(q,l,z){var p=q("../base"),k=q("../../util/tool"),m=q("../line/line"),v=k.object_extend,g=k.array_find;return p.addSubChart("KDJ",{init:function(o){this.config=v(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="KDJ"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),s.points=[],this.loader=this.data.getKDJ(s.type,s.date[0],s.date[1],s.fq).progress(function(D,B,A){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var C=D.length;C<o.limit;C++){D.push(0),B.push(0),A.push(0)}}s._data=[D,B,A];var t=s._data.join(",").replace(/NaN/g,"").split(/,+/);o.max=Math.max.apply(Math,t),o.min=Math.min.apply(Math,t),s.coordinate.init(),s.coordinate.axis([0,D.length-1],[o.min,o.max]),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"K").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=m(s.paper,D,s.coordinate,o),o.stroke="#ff6000",s.el[1]=s.parent.foreLayer.text(o.x+o.w/2,o.y,"D").attr({fill:o.stroke,align:"center",valign:"bottom"}),s.el[5]=m(s.paper,B,s.coordinate,o),o.stroke="#006000",s.el[2]=s.parent.foreLayer.text(o.x+o.w,o.y,"J").attr({fill:o.stroke,align:"right",valign:"bottom"}),s.el[6]=m(s.paper,A,s.coordinate,o),s.el[3]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(E,C,G){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var B=this.config;this.els[0]=E.text(B.x,B.y,"K\uff1a").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[1]=E.text(B.x+B.w/2,B.y,"D\uff1a").attr({fill:this.el[1].attr("fill"),align:this.el[1].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[2]=E.text(B.x+B.w,B.y,"J\uff1a").attr({fill:this.el[2].attr("fill"),align:this.el[2].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[3]=E.shape(p.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var D=this.points,F=this.coordinate.dx(C);if(F>=0&&this._data[0][F]){var A=this._data;return this.els[0].attr("text","K\uff1a"+parseFloat(A[0][F]).toFixed(2)).show(),this.el[0].hide(),this.els[1].attr("text","D\uff1a"+parseFloat(A[1][F]).toFixed(2)).show(),this.el[1].hide(),this.els[2].attr("text","J\uff1a"+parseFloat(A[2][F]).toFixed(2)).show(),this.el[2].hide(),this.els[3].attr("x",this.coordinate.x2(F)).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/subgraph/dmi",["require","exports","module","../base","../../util/tool","../line/line"],function(q,l,z){var p=q("../base"),k=q("../../util/tool"),m=q("../line/line"),v=k.object_extend,g=k.array_find;return p.addSubChart("DMI",{init:function(o){this.config=v(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="DMI"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),this.loader=this.data.getDMI(s.type,s.date[0],s.date[1],s.fq).progress(function(G,D,C,F){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var B=G.length;B<o.limit;B++){G.push(0),D.push(0),C.push(0),F.push(0)}}s._data=[G,D,C,F];var A=s._data.join(",").replace(/NaN/g,"").split(/,+/),E=Number.MAX_VALUE,t=Number.MIN_VALUE;for(var B=0;B<A.length;B++){A[B]!=0&&!isNaN(A[B])&&(A[B]=parseFloat(A[B]),A[B]<E&&(E=A[B]),A[B]>t&&(t=A[B]))}E>t&&(E=-1,t=1),s.coordinate.init(),s.coordinate.axis([0,G.length-1],[E,t]),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"DI1").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=m(s.paper,G,s.coordinate,o),o.stroke="#ff6000",s.el[1]=s.parent.foreLayer.text(o.x+o.w/3,o.y,"DI2").attr({fill:o.stroke,align:"center",valign:"bottom"}),s.el[5]=m(s.paper,D,s.coordinate,o),o.stroke="#00ff60",s.el[2]=s.parent.foreLayer.text(o.x+2*o.w/3,o.y,"ADX").attr({fill:o.stroke,align:"center",valign:"bottom"}),s.el[6]=m(s.paper,C,s.coordinate,o),o.stroke="#006000",s.el[3]=s.parent.foreLayer.text(o.x+o.w,o.y,"ADXR").attr({fill:o.stroke,align:"right",valign:"bottom"}),s.el[7]=m(s.paper,F,s.coordinate,o),s.el[4]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(C,A,E){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var u=this.config;this.els[0]=C.text(u.x,u.y,"DI1\uff1a").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[1]=C.text(u.x+u.w/3,u.y,"DI2\uff1a").attr({fill:this.el[1].attr("fill"),align:this.el[1].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[2]=C.text(u.x+2*u.w/3,u.y,"ADX\uff1a").attr({fill:this.el[2].attr("fill"),align:this.el[2].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[3]=C.text(u.x+u.w,u.y,"ADXR\uff1a").attr({fill:this.el[3].attr("fill"),align:this.el[3].attr("align"),valign:this.el[3].attr("valign")}).hide(),this.els[4]=C.shape(p.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var B=this.coordinate.dx(A);if(B>=0&&this._data[0][B]){var D=this._data;return this.els[0].attr("text","DI1\uff1a"+parseFloat(D[0][B]).toFixed(2)).show(),this.el[0].hide(),this.els[1].attr("text","DI2\uff1a"+parseFloat(D[1][B]).toFixed(2)).show(),this.el[1].hide(),this.els[2].attr("text","ADX\uff1a"+parseFloat(D[2][B]).toFixed(2)).show(),this.el[2].hide(),this.els[3].attr("text","ADXR\uff1a"+parseFloat(D[3][B]).toFixed(2)).show(),this.el[3].hide(),this.els[4].attr("x",this.coordinate.x2(B)).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/subgraph/obv",["require","exports","module","../base","../../util/tool","../line/line"],function(q,l,z){var p=q("../base"),k=q("../../util/tool"),m=q("../line/line"),v=k.object_extend,g=k.array_find;return p.addSubChart("OBV",{init:function(o){this.config=v(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="OBV"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),s.points=[],this.loader=this.data.getOBV(s.type,s.date[0],s.date[1],s.fq).progress(function(D){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var B=D.length;B<o.limit;B++){D.push(0)}}s._data=D;var A=D,C=Number.MAX_VALUE;for(var B=0;B<A.length;B++){A[B]&&A[B]<C&&(C=A[B])}var t=Math.max.apply(Math,D);C>=t&&(C=t-1,t=-C),s.coordinate.init(),s.coordinate.axis([0,D.length-1],[C,Math.max.apply(Math,D)]),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"OBV").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=m(s.paper,D,s.coordinate,o),s.el[3]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(C,A,E){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var u=this.config;this.els[0]=C.text(u.x,u.y,"OBV\uff1a").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[3]=C.shape(p.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var B=this.coordinate.dx(A);if(B>=0&&this._data[B]){var D=this._data;return this.els[0].attr("text","OBV\uff1a"+parseFloat(D[B]).toFixed(2)).show(),this.el[0].hide(),this.els[3].attr("x",this.coordinate.x2(B)).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/subgraph/w&r",["require","exports","module","../base","../../util/tool","../line/line"],function(q,l,z){var p=q("../base"),k=q("../../util/tool"),m=q("../line/line"),v=k.object_extend,g=k.array_find;return p.addSubChart("W&R",{init:function(o){this.config=v(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="W&R"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),s.points=[],this.loader=this.data.getWR(s.type,s.date[0],s.date[1],s.fq).progress(function(B,t){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var D=B.length;D<o.limit;D++){B.push(0),t.push(0)}}s._data=[B,t];var A=s._data.join(",").split(","),H=Number.MAX_VALUE,G=Number.MIN_VALUE;for(var D=0;D<A.length;D++){A[D]=parseFloat(A[D]),A[D]!=0&&!isNaN(A[D])&&(A[D]<H&&(H=A[D]),A[D]>G&&(G=A[D]))}H>G&&(H=-1,G=1),s.coordinate.init(),s.coordinate.axis([0,B.length-1],[H,G]),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"WR1").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=m(s.paper,B,s.coordinate,o),o.stroke="#006000",s.el[2]=s.parent.foreLayer.text(o.x+o.w,o.y,"WR2").attr({fill:o.stroke,align:"right",valign:"bottom"}),s.el[6]=m(s.paper,t,s.coordinate,o);var E=[20,80];for(var C=0;C<2;C++){var F=o.y+o.offset+(o.h-2*o.offset)*(o.max-E[C])/(o.max-o.min);s.el[10+C]=s.paper.line(o.x,F,o.x+o.w,F).attr("stroke","gray")}s.el[3]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(C,A,E){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var u=this.config;this.els[0]=C.text(u.x,u.y,"WR1\uff1a").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[2]=C.text(u.x+u.w,u.y,"WR2\uff1a").attr({fill:this.el[2].attr("fill"),align:this.el[2].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[3]=C.shape(p.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var B=this.coordinate.dx(A);if(B>=0&&this._data[0][B]){var D=this._data;return this.els[0].attr("text","WR1\uff1a"+parseFloat(D[0][B]).toFixed(2)).show(),this.el[0].hide(),this.els[2].attr("text","WR2\uff1a"+parseFloat(D[1][B]).toFixed(2)).show(),this.el[2].hide(),this.els[3].attr("x",this.coordinate.x2(B)).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/line/bar",["require","exports","module"],function(k,g,l){return function(H,N,B,q){var E=N[0],O=N[1],A=N[2],M=N[3],K=[[],[]],G=B.stepX/3,D,J=[],F,z;q.maxWidth&&G>q.maxWidth/2?G=q.maxWidth/2:G>3&&(G=3);var I=B.x+B.stepX/2;for(var L=0,C=M.length;L<C;L++){D=B.x2(L),M[L]&&(z=M[L]>E[L]?0:1,J=[B.y2(E[L]),B.y2(M[L]),B.y2(O[L]),B.y2(A[L])],O[L]==A[L]&&(J[2]-=0.5,J[3]+=0.5),K[z].push("M",D-G<B.x?B.x:D-G," ",J[0],"L",D," ",J[0],"M",D," ",J[1],"L",D+G>B.x+B.w?B.x+B.w:D+G," ",J[1],"M",D," ",J[3],"L",D," ",J[2]))}return[H.path(K[0].join("")).attr({stroke:"#d91a2a"}),H.path(K[1].join("")).attr({stroke:"#17a63a"})]}}),f("../../../../chart/subgraph/boll",["require","exports","module","../base","../../util/tool","../line/line","../line/bar"],function(p,z,l){var g=p("../base"),m=p("../../util/tool"),A=p("../line/line"),k=m.object_extend,v=m.array_find,q=p("../line/bar");return g.addSubChart("BOLL",{init:function(o){this.config=k(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="BOLL"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),s.points=[],this.loader=this.data.getBOLL(s.type,s.date[0],s.date[1],s.fq).progress(function(H,D,C,F){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var B=C.length;B<o.limit;B++){H.push(0),D.push(0),C.push(0),F[0].push(0),F[1].push(0),F[2].push(0),F[3].push(0)}}s._data=[H,D,C];var E=s._data.join(",").split(",").concat(F.join(",").split(",")),t=Number.MAX_VALUE,G=Number.MIN_VALUE;for(var B=0;B<E.length;B++){E[B]=parseFloat(E[B]),E[B]!=0&&!isNaN(E[B])&&(E[B]<t&&(t=E[B]),E[B]>G&&(G=E[B]))}t>G&&(t=-1,G=1),s.coordinate.init(),s.coordinate.axis([0,C.length-1],[t,G]),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"UPPER").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=A(s.paper,H,s.coordinate,o),o.stroke="#ff6000",s.el[1]=s.parent.foreLayer.text(o.x+o.w/2,o.y,"MID").attr({fill:o.stroke,align:"center",valign:"bottom"}),s.el[5]=A(s.paper,D,s.coordinate,o),o.stroke="#006000",s.el[2]=s.parent.foreLayer.text(o.x+o.w,o.y,"LOWER").attr({fill:o.stroke,align:"right",valign:"bottom"}),s.el[6]=A(s.paper,C,s.coordinate,o),s.el[7]=q(s.paper,F,s.coordinate,o),s.el[3]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(D,B,F){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var u=this.config;this.els[0]=D.text(u.x,u.y,"UPPER\uff1a").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[1]=D.text(u.x+u.w/2,u.y,"MID\uff1a").attr({fill:this.el[1].attr("fill"),align:this.el[1].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[2]=D.text(u.x+u.w,u.y,"LOWER\uff1a").attr({fill:this.el[2].attr("fill"),align:this.el[2].attr("align"),valign:this.el[2].attr("valign")}).hide(),this.els[3]=D.shape(g.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var C=this.coordinate.dx(B);if(C>=0&&this._data[0][C]){var E=this._data;return this.els[0].attr("text","UPPER\uff1a"+parseFloat(E[0][C]).toFixed(2)).show(),this.el[0].hide(),this.els[1].attr("text","MID\uff1a"+parseFloat(E[1][C]).toFixed(2)).show(),this.el[1].hide(),this.els[2].attr("text","LOWER\uff1a"+parseFloat(E[2][C]).toFixed(2)).show(),this.el[2].hide(),this.els[3].attr("x",this.coordinate.x2(C)).show(),!0}},out:function(){this.paper.set(this.el.slice(0,3)).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/line/sar",["require","exports","module"],function(l,g,m){function k(q,o){q.beginPath(),q.moveTo(o.xa[0],0),q.lineTo(o.xa[1],0),q.lineTo(o.xa[1],1000),q.lineTo(o.xa[0],1000),q.lineTo(o.xa[0],0),q.clip(),q.strokeStyle=o.stroke;for(var s=0,p=o.p.length;s<p;s++){q.beginPath(),q.arc(o.p[s][0],o.p[s][1],o.r,0,Math.PI*2,!0),q.stroke()}}m.exports=function(E,I,z,B,J){var v=[[],[]],H=B.stepX/3,G,D=[],A,F;J.maxWidth&&H>J.maxWidth/2?H=J.maxWidth/2:H>2&&(H=2);for(var C=0,q=I.length;C<q;C++){G=B.x2(C),I[C]&&(F=z[C]>0?0:1,D=B.y2(I[C]),v[F].push([G,D]))}return[E.shape(k).attr({xa:[B.x,B.x+B.w],r:H,p:v[0],stroke:"#d91a2a"}),E.shape(k).attr({xa:[B.x,B.x+B.w],r:H,p:v[1],stroke:"#17a63a"})]}}),f("../../../../chart/subgraph/sar",["require","exports","module","../base","../../util/tool","../line/line","../line/bar","../line/sar"],function(q,A,l){var g=q("../base"),m=q("../../util/tool"),B=m.object_extend,k=m.array_find,z=q("../line/line"),v=q("../line/bar"),p=q("../line/sar");return g.addSubChart("SAR",{init:function(o){this.config=B(o,{x:68,y:377,w:653,h:54,offset:5}),this.date=[],this.type="daily",this.el=[],this.name="SAR"},draw:function(){if(!this.visible){return}var s=this,o=this.config;this.loader&&this.loader.cancel(),s.paper.set(s.el).remove(),s.points=[],this.loader=this.data.getSAR(s.type,s.date[0],s.date[1],s.fq).progress(function(H,F,D){s.paper.set(s.el).remove(),s.el=[];if(s.config.limit){for(var E=H.length;E<o.limit;E++){H.push(0),D[0].push(0),D[1].push(0),D[2].push(0),D[3].push(0)}}s._data=H;var G=s._data.join(",").split(",").concat(D.join(",").split(",")),C=Number.MAX_VALUE,t=Number.MIN_VALUE;for(var E=0;E<G.length;E++){G[E]=parseFloat(G[E]),G[E]!=0&&!isNaN(G[E])&&(G[E]<C&&(C=G[E]),G[E]>t&&(t=G[E]))}C>t&&(C=-1,t=1),s.coordinate.init(),s.coordinate.axis([0,H.length-1],[C,t]),s.el[6]=v(s.paper,D,s.coordinate,o),o.stroke="#335de6",s.el[0]=s.parent.foreLayer.text(o.x,o.y,"SAR").attr({fill:o.stroke,align:"left",valign:"bottom"}),s.el[4]=p(s.paper,H,F,s.coordinate,o),s.el[3]=s.coordinate.label(s.paper),s._isOver&&s.over()})},over:function(E,C,G){if(!this.visible){return}if(!this.els){if(!this.el[0]){return}this.els=[];var u=this.config;this.els[0]=E.text(u.x,u.y,"SAR").attr({fill:this.el[0].attr("fill"),align:this.el[0].attr("align"),valign:this.el[0].attr("valign")}).hide(),this.els[3]=E.shape(g.drawShape.line).attr({y:this.config.y,length:this.config.h,type:"y"}).show()}if(!this.els){return}var D=this.coordinate.dx(C);if(D>=0&&this._data[D]){var F=this._data;return this.els[0].attr("text","SAR\uff1a"+parseFloat(F[D]).toFixed(2)).show(),this.el[0].hide(),this.els[3].attr("x",this.coordinate.x2(D)).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.el).remove()}})}),f("../../../../chart/volume",["require","exports","module","./base","../util/tool","./coordinate","./line/histogram"],function(p,z,l){var g=p("./base"),m=p("../util/tool"),A=p("./coordinate"),k=p("./line/histogram"),v=m.object_extend,q=m.array_find;return g.addSubChart("volume",{init:function(o){var o=this.config=v(o,{x:68,y:321,w:653,h:40,offset:3,grid:{fill:"#f0f7fc",stroke:"#acccef"}},!1,!0);this.coord=o.coord||new A(o.x,o.y,o.w,o.h,{offsetY:3,centerX:!0}),this.date=[],this.type="daily"},bg:function(s){var o=this.config;s.rect(o.x,o.y,o.w,o.h).attr({stroke:o.grid.stroke,fill:o.grid.fill})},run:function(o){switch(o.t){case"type":this.type=o.d,this._isShow&&this.parent.draw();break;case"date":this.date=o.d,this._isShow&&this.parent.draw()}},draw:function(){var s=this,o=this.config;this.points=null,this.loader&&this.loader.cancel();var u=[];this.loader=this.data.getVolume(s.type,s.date[0],s.date[1]).progress(function(E){s.paper.set(u).remove();var C=[],B=[];for(var F=0;F<E.length;F++){C.push(E[F][5]),B.push(E[F][2]-E[F][1])}if(o.limit){for(;F<o.limit;F++){C.push(0),B.push(0)}}o.max=Math.max.apply(null,C),isFinite(o.max)||(o.max=0),s.coord.init(),s.coord.axis([0,C.length<g.CONSTANT["volume-limit"]?g.CONSTANT["volume-limit"]-1:C.length-1],[0,o.max]),o.color=C.color=B,u[u.length]=k(s.paper,C,s.coord,o),s._data=C;var t=s.parent.market=="sh"||s.parent.market=="sz"?"\u624b":"\u80a1",G=o.max,D=m.getLongNum(G);t=D[1]+t,u[u.length]=s.coord.label(s.paper,{type:"left",num:4,fix:function(H){return H<0?t:Math.round(H/D.e)}}),s._isOver&&s.over()})},over:function(G,E,I){var D=this.config;this.els||(this.els=[],this.els[1]=G.rect().hide(),this.els[0]=G.shape(g.drawShape.line).attr({x:0,y:D.y,length:D.h,type:"y"}).hide());var F=this.coord.dx(E);if(this._data&&this._data[F]){E=this.coord.x2(F),I=this.coord.y2(this._data[F]),this.els[0].attr("x",E).show();var H=this.coord.stepX/3,C=1;this.config.maxWidth&&H>this.config.maxWidth/2&&(H=this.config.maxWidth/2);var B=this._data.color[F]<0?"#17a63a":"#d91a2a";return this.els[1].attr({x:E-H-C,y:I-C,width:2*H+2*C,height:this.coord.y2(0)-I+2*C,fill:B,stroke:B}).show(),!0}},out:function(){this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null}})}),f("../../../../chart/minute",["require","exports","module","./base","../util/tool","./coordinate","./line/mountain","./line/line"],function(z,C,m){var g=z("./base"),q=z("../util/tool"),D=z("./coordinate"),k=z("./line/mountain"),B=z("./line/line"),A=q.object_extend,v=q.array_find,p={red:"#d91a2a",green:"#17a63a",base:"#385e7c"};return g.addSubChart("minute",{init:function(l){var l=this.config=A(l,{x:68,y:65,w:653,h:219,offset:10,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,118,240,362],font:'14px "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu',textY:36}},!1,!0);this.coord=new D(l.x,l.y,l.w,l.h,{offsetY:0}),this.pointsLength=g.CONSTANT[this.parent.market+"-minutes-length"],this.el=[]},bg:function(s){if(this.parent.isVs){return}var o=[104,217],u=this.config;s.rect(u.title.x,u.title.y,u.title.w,u.title.h,4).attr({fill:u.title.fill,stroke:u.title.stroke}),s.rect(u.x-1,u.y-1,u.w+2,u.h+2).attr({stroke:u.grid.stroke,fill:u.grid.fill}),this.el[0]=s.text(u.title.x+u.title.shift[0],u.title.textY,"\u4ef7\u683c").attr({fill:"#385e7c",font:u.title.font,width:u.title.shift[1]-u.title.shift[0]}),this.el[4]=s.text(u.title.x+u.title.shift[0]+32+u.title.shift[4],u.title.textY,"\u4ef7\u683c").attr({fill:"#385e7c",font:u.title.font,width:u.title.shift[1]-u.title.shift[0]}),this.el[1]=s.text(u.title.x+u.title.shift[1],u.title.textY,"\u6da8\u8dcc\u5e45").attr({fill:"#385e7c",font:u.title.font,width:u.title.shift[2]-u.title.shift[1]}),this.el[5]=s.text(u.title.x+u.title.shift[1]+44+u.title.shift[4],u.title.textY,"\u6da8\u8dcc\u5e45").attr({fill:"#385e7c",font:u.title.font,width:u.title.shift[2]-u.title.shift[1]}),this.el[2]=s.text(u.title.x+u.title.shift[2],u.title.textY,"\u6210\u4ea4\u91cf").attr({fill:"#385e7c",font:u.title.font,width:u.title.shift[3]-u.title.shift[2]}),this.el[6]=s.text(u.title.x+u.title.shift[2]+44+u.title.shift[4],u.title.textY,"\u6210\u4ea4\u91cf").attr({fill:"#385e7c",font:u.title.font,width:u.title.shift[3]-u.title.shift[2]}),this.el[3]=s.text(u.title.x+u.title.w-u.title.shift[0],u.title.textY,"\u65f6\u95f4").attr({fill:u.title.color||"#3fa5eb",font:u.title.font,align:"end"});var l=g.CONSTANT[this.parent.market+"-minutes-time"];this.coord.grid(s,8,l.length-1,{color:u.grid.stroke}),this.coord.init(),this.coord.axis([0,l.length-1],[]),this.coord.label(s,{type:"bottom",num:l.length,offset:21,align:"center",width:100,fix:function(t){return t==0||t%2!=l.length%2?l[t]:""}})},draw:function(){this.loader&&this.loader.cancel();if(this.parent.isVs){return}var F=this,o=this.config;F.points=null;var G,E,u,l=[];this.loader=F.data.getMinData().progress(function(I){F._data=I,F.paper.set(l).remove()&&(l=[]);var t=F._data.chr=[],T=F._data.avgp=[],M=F._data.avgchr=[],O=I.yprice;isNaN(O)&&(O=0);var K=0;if(I&&I.price){for(var H=0;H<I.price.length;H++){K+=parseFloat(I.price[H]),T[H]=K/(H+1),M[H]=O==0?0:100*(T[H]-O)/O,t.push(O==0?0:100*(I.price[H]-O)/O)}}var N=Math.max(Math.max.apply(null,t),-Math.min.apply(null,t));(N==0||!isFinite(N))&&(N=0.1);var S=-N;F.coord.init(),F.coord.axis([0,F.pointsLength-1],[S,N]),F.config.zero=!0,l[l.length]=k(F.paper,t,F.coord,F.config),F.config.avg&&(l[l.length]=B(F.paper,M,F.coord,{zero:!0,"stroke-width":1,stroke:"#fc8507"})),l[l.length]=F.coord.label(F.paper,{type:"left",num:9,offset:o.label.offset.left,fix:function(s){return O==0?s.toFixed(F.data.precision):(O*(1+s/100)).toFixed(F.data.precision)}}),l[l.length]=F.coord.label(F.paper,{up:p.red,down:p.green,type:"right",num:9,offset:o.label.offset.right,fix:function(s){return q.percent(s)}});var J=o.y+o.h/2;l[l.length]=F.paper.line(o.x,J,o.x+o.w,J).attr({stroke:"#67b4e7"});var L=F._data.time.length-1,O=F._data.yprice,Q=String(O).length-String(O).indexOf(".")-1,P=F._data.time[L],R=F._data.chr[L]>0?p.red:F._data.chr[L]==0?p.base:p.green;P&&(F.el[0].attr("text","\u4ef7\u683c\uff1a").show(),F.el[4].attr("text",parseFloat(F._data.price[L]).toFixed(Q)).show(),F.el[4].attr("fill",R).show(),F.el[1].attr("text","\u6da8\u8dcc\u5e45\uff1a").show(),F.el[5].attr("text",q.percent(F._data.chr[L])).show(),F.el[5].attr("fill",R).show(),F.el[2].attr("text","\u6210\u4ea4\u91cf\uff1a").show(),F.el[6].attr("text",q.getLongNum(F._data.qt[36]|0)).show(),F._data.date&&F.el[3].attach(F.paper).attr("text",[F.parent.market=="us"?"\u7f8e\u4e1c":"","\u65f6\u95f4\uff1a",F._data.date.substr(4,2),"/",F._data.date.substr(6,2)," ",P.substr(0,2),":",P.substr(2,2)].join(""))),F._isOver&&F.over()})},over:function(G,K,E){if(this.parent.isVs){return}var L=this,l=this.config;this.els||(this.els=[],this.els[0]=G.circle(K,E,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide(),this.els[1]=G.shape(g.drawShape.label).attr({x:l.x-2,y:0,align:"right",width:60,x1:l.x-l.label.shift,type:"left",fill:l.label.fill}).hide(),this.els[2]=G.shape(g.drawShape.label).attr({x:l.x+l.w+2,y:0,align:"left",width:60,x1:l.x+l.w+l.label.shift,type:"right",fill:l.label.fill}).hide(),this.els[3]=G.shape(g.drawShape.label).attr({x:0,y:l.y+l.h,type:"bottom",fill:l.label.fill}).hide(),this.els[4]=G.text(l.title.x+l.title.shift[0],l.title.textY,"\u4ef7\u683c\uff1a").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[1]-l.title.shift[0]}).hide(),this.els[11]=G.text(l.title.x+l.title.shift[0]+32+l.title.shift[4],l.title.textY,"\u4ef7\u683c\uff1a").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[1]-l.title.shift[0]}).hide(),this.els[5]=G.text(l.title.x+l.title.shift[1],l.title.textY,"\u6da8\u8dcc\u5e45\uff1a").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[2]-l.title.shift[1]}).hide(),this.els[12]=G.text(l.title.x+l.title.shift[1]+44+l.title.shift[4],l.title.textY,"\u6da8\u8dcc\u5e45\uff1a").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[2]-l.title.shift[1]}).hide(),this.els[6]=G.text(l.title.x+l.title.shift[2],l.title.textY,"\u6210\u4ea4\u91cf\uff1a").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[3]-l.title.shift[2]}).hide(),this.els[13]=G.text(l.title.x+l.title.shift[2]+44+l.title.shift[4],l.title.textY,"\u6210\u4ea4\u91cf\uff1a").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[3]-l.title.shift[2]}).hide(),this.els[7]=G.text(l.title.x+l.title.w-l.title.shift[0],l.title.textY,"\u65f6\u95f4\uff1a").attr({fill:l.title.color||"#3fa5eb",font:l.title.font,align:"end"}).hide(),this.els[8]=G.shape(g.drawShape.line).attr({x:l.x,y:0,length:l.w,type:"x"}).toBack().hide(),this.els[9]=G.shape(g.drawShape.line).attr({x:0,y:l.y,length:l.h,type:"y"}).toBack().hide(),this.els[10]=G.text(l.title.x+l.title.shift[3],l.title.textY,"\u5747\u4ef7\uff1a").attr({fill:"#385e7c",font:l.title.font}).hide(),this.els[14]=G.text(l.title.x+l.title.shift[3]+32+l.title.shift[4],l.title.textY,"\u5747\u4ef7\uff1a").attr({fill:"#385e7c",font:l.title.font}).hide());var J=this.coord.dx(K);if(J>=0&&L._data&&L._data.time[J]){L.paper.set(L.el).hide(),K=this.coord.x2(J),E=this.coord.y2(L._data.chr[J]);var I=L._data.yprice,F=L.data.precision;this.els[0].attr({x:K,y:E}).show(),this.els[1].attr({y:E,text:parseFloat(L._data.price[J]).toFixed(F)}).show(),this.els[2].attr({y:E,text:q.percent(L._data.chr[J])}).show(),this.els[3].attr({x:K,text:L._data.time[J].substr(0,2)+":"+L._data.time[J].substr(2)}).show();var H=L._data.chr[J]>0?p.red:L._data.chr[J]==0?p.base:p.green;return this.els[4].attr("text","\u4ef7\u683c\uff1a").show(),this.els[11].attr("text",parseFloat(L._data.price[J]).toFixed(F)).show(),this.els[11].attr("fill",H).show(),this.els[5].attr("text","\u6da8\u8dcc\u5e45\uff1a").show(),this.els[12].attr("text",q.percent(L._data.chr[J])).show(),this.els[12].attr("fill",H).show(),this.els[6].attr("text","\u6210\u4ea4\u91cf\uff1a").show(),this.els[13].attr("text",q.getLongNum(L._data.volume[J])).show(),this.els[7].attr("text",[L.parent.market=="us"?"\u7f8e\u4e1c":"","\u65f6\u95f4\uff1a",L._data.date.substr(4,2),"/",L._data.date.substr(6,2)," ",L._data.time[J].substr(0,2),":",L._data.time[J].substr(2,2)].join("")).show(),this.els[8].attr("y",E).show(),this.els[9].attr("x",K).show(),this.config.avg&&(E=this.coord.y2(L._data.avgchr[J]),this.els[10].attr({text:"\u5747\u4ef7\uff1a"}).show(),this.els[14].attr({text:parseFloat(L._data.avgp[J]).toFixed(F),fill:H}).show()),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel()}})}),f("../../../../chart/vs/comm",["require","exports","module","../../util/tool"],function(l,g,m){var k=l("../../util/tool");g.getColor=function(p){var o=["#d91a2a","#4ba9eb","#eb4bb8","#8482f5","#2ec2ab"];for(var q in p){p[q]=o.shift()}},g.drawTitle=function(G,M,A){G.font="14px yahei";var D=0,N=M.data,z=[15,15,15],L=6,J=[],F=M.w||760,C=M.h||17;for(var I=0;I<N.length;I++){J[I]=[G.measureText(N[I][1]).width,G.measureText(k.percent(N[I][2])).width],D+=J[I][0]+J[I][1],D+=L+z[0]+z[1]+z[2]}var E=1;D>F-L*N.length&&(E=(F-L*N.length)/D);var q=M.x,H=M.y;A.polygon=[[q,H],[q+F,H],[q+F,H+24],[q,H+24]],ua=navigator.userAgent.toLowerCase(),G.font=12*E+"px yahei";for(var I=0;I<N.length;I++){q+=z[0];if(M.close){G.save(),G.beginPath(),N[I]._x=q,N[I]._y=H+C/2,M.closeHover===I?N[I]._r=9:N[I]._r=7,G.arc(N[I]._x,N[I]._y,N[I]._r,0,2*Math.PI,!1),G.fillStyle=N[I][0],G.fill(),I>0&&(G.fillStyle="#fff",G.font="bold 12px yahei",G.textBaseline="middle",(/msie/.test(ua)||/trident/.test(ua))&&!/opera/.test(ua),(/msie/.test(ua)||/trident/.test(ua))&&!/opera/.test(ua)?G.fillText("\u00d7",q-4,H+C/2):G.fillText("\u00d7",q-6,H+C/2)),G.restore()}else{G.save(),G.fillStyle=N[I][0],G.shadowOffsetX=0,G.shadowOffsetY=0,G.shadowBlur=1,G.shadowColor="#ffffff";var K=[q,q+3,q+L-3,q+L],B=[H+C/5,H+C/3,H+C*2/3,H+C*4/5];G.beginPath(),G.moveTo(K[1],B[0]),G.lineTo(K[2],B[0]),G.quadraticCurveTo(K[3],B[0],K[3],B[1]),G.lineTo(K[3],B[2]),G.quadraticCurveTo(K[3],B[3],K[2],B[3]),G.lineTo(K[1],B[3]),G.quadraticCurveTo(K[0],B[3],K[0],B[2]),G.lineTo(K[0],B[1]),G.quadraticCurveTo(K[0],B[0],K[1],B[0]),G.fill(),G.restore(),q+=L}G.textBaseline="middle",q+=z[1]*E,G.fillStyle="#385e7c",G.fillText(N[I][1],q,H+C/2,J[I][0]*E),q+=J[I][0]*E,q+=z[2]*E,N[I][2]>0?G.fillStyle="#d91a2a":G.fillStyle="#17a63a",G.fillText(k.percent(N[I][2]),q,H+C/2,J[I][1]*E),q+=J[I][1]*E}},g.createTitle=function(q,s){var p=q.shape(g.drawTitle);if(s){p.attr("close",!0);function o(z,v){var A=p.attr("data");for(var u=1;u<A.length;u++){if(Math.sqrt(Math.pow(A[u]._x-z,2)+Math.pow(A[u]._y-v,2))<=A[u]._r){return{index:u,data:A[u]}}}}p.click(function(v){var u=o(v.dx,v.dy);u&&typeof s=="function"&&s(u)}).mousemove(function(v){var u=o(v.dx,v.dy);p.attr("closeHover",u?u.index:-1)})}return p}}),f("../../../../chart/vs/minute",["require","exports","module","../base","../../util/tool","../../util/promise","../coordinate","./comm","../line/line"],function(z,D,m){var g=z("../base"),q=z("../../util/tool"),E=z("../../util/promise"),k=z("../coordinate"),C=z("./comm"),B=z("../line/line"),v=q.object_extend,p=q.array_find,A={red:"#d91a2a",green:"#17a63a",base:"#385e7c"};return g.addSubChart("minute-vs",{init:function(l){l=this.config=v(l,{x:68,y:65,w:653,h:219,offset:10,autoClose:null,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,118,240,362],font:'14px "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu',textY:36}},!1,!0),this.coord=new k(l.x,l.y,l.w,l.h,{offsetY:10}),this.pointsLength=g.CONSTANT[this.parent.market+"-minutes-length"],this.titles=[]},bg:function(s){if(!this.parent.isVs){return}var o=[104,217],u=this.config;s.rect(u.title.x,u.title.y,u.title.w,u.title.h,4).attr({fill:u.title.fill,stroke:u.title.stroke}),s.rect(u.x-1,u.y-1,u.w+2,u.h+2).attr({stroke:u.grid.stroke,fill:u.grid.fill});var l=g.CONSTANT[this.parent.market+"-minutes-time"];this.coord.grid(s,8,l.length-1,{color:u.grid.stroke}),this.coord.init(),this.coord.axis([0,l.length-1],[]),this.coord.label(s,{type:"bottom",num:l.length,offset:21,width:100,align:"center",fix:function(t){return t==0||t%2!=l.length%2?l[t]:""}})},draw:function(){this.loader&&this.loader.cancel(),this.paper.set(this.titles).remove();if(!this.parent.isVs){return}var H=this,u=this.config;H.points=[];var J=[H.data.getMinData()],F={},I=[H.data.symbol];F[H.data.symbol]=!1;for(var G in H.parent.dataVs){I.push(G),J.push(H.parent.dataVs[G].getMinData()),F[G]=!1}C.getColor(F),this.titles=[],this.cnt=J.length;var s=[];this.loader=E.join(J).progress(function(){H.paper.set(s).remove();var o;H._data=[];var R=Number.MIN_VALUE,M=Number.MAX_VALUE;for(var K=0;K<arguments.length;K++){var o=arguments[K][0],l=[],N;l.chr=[];var Q=l.yprice=o.yprice;if(o&&o.price){for(var N=0;N<o.price.length;N++){l.push(o.price[N]),l.chr.push(Q==0?0:100*(o.price[N]-Q)/Q)}}K||(H._data.time=o.time),H._data[K]=l;var t=Math.max(Math.max.apply(null,l.chr),Math.abs(Math.min.apply(null,l.chr)));isFinite(t)||(t=0.1),R=Math.max(t,R)}M=-R,H.coord.init(),H.coord.axis([0,H.pointsLength-1],[M,R]);var L=H.titles.cfg={x:u.title.x,y:u.title.y,w:u.title.w,h:u.title.h,data:[]};for(var K=0;K<arguments.length;K++){var l=H._data[K],P=arguments[K][0].qt||[],O=F[I[K]];l.color=O,u.stroke=O,u["stroke-width"]=2,u.zero=!0,s[s.length]=B(H.paper,l.chr,H.coord,u),L.data.push([O,P[1]||I[K],P[32]||0,I[K]])}H.titles[0]||(H.titles[0]=C.createTitle(H.parent.foreLayer,u.autoClose)),H.titles[0].attr(L),s[s.length]=H.coord.label(H.paper,{type:"right",up:A.red,down:A.green,num:9,offset:u.label.offset.right,fix:function(S){return q.percent(S)}})})},over:function(L,P,H){if(!this.parent.isVs){return}var Q=this,G=this.config;this.els||(this.els=[],this.els[0]=[],this.els[1]=[],this.els[2]=[],this.els[3]=L.shape(g.drawShape.label).attr({x:0,y:G.y+G.h,type:"bottom"}).hide(),this.els[8]=[],this.els[9]=L.shape(g.drawShape.line).attr({x:0,y:G.y,length:G.h,type:"y"}).toBack().hide());var O=this.coord.dx(P);if(O&&this._data&&this._data.time[O]){var N=!1,K=H,I=Number.MAX_VALUE;for(var M=0;M<this._data.length;M++){P=this.coord.x2(O);var J=Q._data[M];H=this.coord.y2(J.chr[O]),!this.els[0][M]&&(this.els[0][M]=L.circle(0,0,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide()),this.els[0][M].attr({x:P,y:H}).show(),!this.els[1][M]&&(this.els[1][M]=L.shape(g.drawShape.label).attr({x:G.x-2,y:0,align:"right",width:60,x1:G.x-G.label.shift,type:"left",fill:J.color}).hide()),J[O]&&this.els[1][M].attr({y:H,text:J[O]}).show(),!this.els[2][M]&&(this.els[2][M]=L.shape(g.drawShape.label).attr({x:G.x+G.w+2,y:0,align:"left",width:60,x1:G.x+G.w+G.label.shift,type:"right",fill:J.color}).hide()),J.chr[O]&&this.els[2][M].attr({y:H,text:q.percent(J.chr[O])}).show(),!this.els[8][M]&&(this.els[8][M]=L.shape(g.drawShape.line).attr({x:G.x,y:0,length:G.w,type:"x"}).toBack().hide()),this.els[8][M].attr("y",H).show(),this.titles.cfg.data[M][2]=J.chr[O];var F=Math.abs(H-K);F<I&&(I=F,this.els[1][M].toFront(),this.els[2][M].toFront())}return this.titles[0].attr(this.titles.cfg),this.els[3].attr({x:P,text:Q._data.time[O].substr(0,2)+":"+Q._data.time[O].substr(2)}).show(),this.els[9].attr("x",P).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.paper.set(this.titles).hide()}})}),f("../../../../chart/minute-5day",["require","exports","module","./base","../util/tool","./coordinate","./line/mountain","./line/line"],function(z,C,m){var g=z("./base"),q=z("../util/tool"),D=z("./coordinate"),k=z("./line/mountain"),B=z("./line/line"),A=q.object_extend,v=q.array_find,p={red:"#d91a2a",green:"#17a63a",base:"#385e7c"};return g.addSubChart("minute-5day",{init:function(l){var l=this.config=A(l,{x:68,y:65,w:653,h:219,offset:10,smoothLineY:1,smoothLineX:1,avg:!0,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,118,240,362],font:'14px "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu',textY:36},line:{}},!1,!0);this.coord=new D(l.x,l.y,l.w,l.h,{offsetY:0}),this.el=[]},bg:function(o){if(this.parent.isVs){return}var l=this.config,s=[104,217];o.rect(l.title.x,l.title.y,l.title.w,l.title.h,4).attr({fill:l.title.fill,stroke:l.title.stroke}),o.rect(l.x,l.y,l.w,l.h).attr({stroke:l.grid.stroke,fill:l.grid.fill}),this.coord.grid(o,8,5,{color:l.grid.stroke}),this.el[0]=o.text(l.title.x+l.title.shift[0],l.title.textY,"\u4ef7\u683c").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[1]-l.title.shift[0]}),this.el[1]=o.text(l.title.x+l.title.shift[0]+36+l.title.shift[4],l.title.textY,"\u4ef7\u683c").attr({fill:"#385e7c",font:l.title.font,width:l.title.shift[1]-l.title.shift[0]}),this.el[2]=o.text(l.title.x+l.title.shift[1],l.title.textY,"\u6210\u4ea4\u91cf").attr({fill:"#385e7c",font:l.title.font}),this.el[4]=o.text(l.title.x+l.title.shift[1]+46+l.title.shift[4],l.title.textY,"\u6210\u4ea4\u91cf").attr({fill:"#385e7c",font:l.title.font}),this.el[3]=o.text(l.title.x+l.title.w-l.title.shift[0],l.title.textY,"\u65f6\u95f4").attr({fill:l.title.color||"#3fa5eb",font:l.title.font,align:"end"})},draw:function(){this.loader&&this.loader.cancel();if(this.parent.isVs){return}var G=this,o=this.config;G.points=null;var I=[],E,l,F=[],H,u=[];this._data=null,this.loader=G.data.getMin5Data().progress(function(aa){G.paper.set(u).remove(),G._data={yprice:aa[0].yprice,price:[],volume:[],time:[],date:[],avgchr:[],avgp:[]},G.points=[];var ak,ah=5,ad=aa.length,ai=[],X=[];for(ak=0;ak<ad;ak++){ai.push(Math.max.apply(null,aa[ak].price)),X.push(Math.min.apply(null,aa[ak].price))}ai=Math.max.apply(null,ai),X=Math.min.apply(null,X);var ae=parseFloat(aa[0].yprice).toFixed(G.data.precision);isNaN(ae)&&(ae=0);var ag=Math.max(Math.abs(ai-ae),Math.abs(X-ae))||+ae||1;isFinite(ag)||(ag=1),o.fillMaxValue=ai,o.max=+ae+ag,o.min=+ae-ag,H&&G.paper.set(H).remove();var U=[],aj=[],W=[];for(ak=0;ak<ad;ak++){aj.push.apply(aj,aa[ak].price),W.push(aj.length),G._data.price.push.apply(G._data.price,aa[ak].price),G._data.volume.push.apply(G._data.volume,aa[ak].volume),G._data.time.push.apply(G._data.time,aa[ak].time),G._data.date.push([G._data.time.length,aa[ak].date]);for(var Y=0,J=0,V=parseFloat(aa[ak].yprice),t=V,P=0;Y<aa[ak].price.length;Y++){J+=parseFloat(aa[ak].price[Y]),t=J/(Y+1),P=V?0:100*(t-V)/V,G._data.avgp.push(t),G._data.avgchr.push(P)}if(ak==ad-1){for(var Y=aa[ak].time.length;Y<g.CONSTANT[G.parent.market+"-minutes-length"];Y++){aj.push(0)}}var ab=aa[ak].date;if(ab){var af=new Date(ab.substr(0,4),ab.substr(4,2)-1,ab.substr(6,2)),R=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"];U[ak]=ab.substr(4,2)+"-"+ab.substr(6,2)+" \u5468"+R[af.getDay()]}}o.broken=W,G.coord.init(),G.coord.axis([0,ah*g.CONSTANT[G.parent.market+"-minutes-length"]-1],[o.min,o.max]),u[u.length]=k(G.paper,aj,G.coord,G.config),G.config.avg&&(u[u.length]=B(G.paper,G._data.avgp,G.coord,{zero:!0,"stroke-width":1,stroke:"#fc8507",broken:W}));for(ak=U.length;ak<ah;ak++){U.push("")}u[u.length]=g.drawAxis.x(G.paper,U,{x:o.x,y:o.y+o.h+23,w:o.w,valign:"alphabetic",align:"center"}),u[u.length]=G.coord.label(G.paper,{type:"left",num:9,offset:o.label.offset.left,fix:function(s){return s.toFixed(G.data.precision)}}),u[u.length]=G.coord.label(G.paper,{up:p.red,down:p.green,type:"right",num:9,offset:o.label.offset.right,fix:function(s){return q.percent(ae==0?0:100*(s-ae)/ae)}}),G.paper.set(I).remove();var ac=o.y+o.h/2;I[0]=G.paper.line(o.x,ac,o.x+o.w,ac).attr({stroke:"#67b4e7"});var aj=aa[aa.length-1],K=aj.time.length-1,ae=G._data.yprice,Q=G.data.precision,al=aj.time[K],Z=aj.price[K]-aj.yprice>0?p.red:aj.price[K]-aj.yprice==0?p.base:p.green;al&&(G.el[0].attr("text","\u4ef7\u683c\uff1a").show(),G.el[1].attr("text",parseFloat(aj.price[K]).toFixed(Q)).show(),G.el[1].attr("fill",Z).show(),G.el[2].attr("text","\u6210\u4ea4\u91cf\uff1a").show(),G.el[4].attr("text",q.getLongNum(aj.qt[36]|0)).show(),G.el[3].attach(G.paper).attr("text",[G.parent.market=="us"?"\u7f8e\u4e1c":"","\u65f6\u95f4\uff1a",aj.date.substr(4,2),"/",aj.date.substr(6,2)," ",al.substr(0,2),":",al.substr(2,2)].join(""))),G._isOver&&G.over()})},over:function(I,N,F){if(this.parent.isVs){return}var O=this,E=this.config;this.els||(this.els=[],this.els[0]=I.circle(N,F,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide(),this.els[1]=I.shape(g.drawShape.label).attr({x:E.x,y:0,align:"right",width:60,x1:E.x-E.label.shift,type:"left",fill:E.label.fill}).hide(),this.els[2]=I.shape(g.drawShape.label).attr({x:E.x+E.w,y:0,align:"left",width:60,x1:E.x+E.w+E.label.shift,type:"right",fill:E.label.fill}).hide(),this.els[3]=I.shape(g.drawShape.label).attr({x:0,y:E.y+E.h,type:"bottom",fill:E.label.fill}).hide(),this.els[4]=I.text(E.title.x+E.title.shift[0],E.title.textY,"\u4ef7\u683c\uff1a").attr({fill:"#385e7c",font:E.title.font,width:E.title.shift[1]-E.title.shift[0]}).hide(),this.els[10]=I.text(E.title.x+E.title.shift[0]+36+E.title.shift[4],E.title.textY,"\u4ef7\u683c\uff1a").attr({fill:"#385e7c",font:E.title.font,width:E.title.shift[1]-E.title.shift[0]}).hide(),this.els[6]=I.text(E.title.x+E.title.shift[1],E.title.textY,"\u6210\u4ea4\u91cf\uff1a").attr({fill:"#385e7c",font:E.title.font}).hide(),this.els[11]=I.text(E.title.x+E.title.shift[1]+46+E.title.shift[4],E.title.textY,"\u6210\u4ea4\u91cf\uff1a").attr({fill:"#385e7c",font:E.title.font}).hide(),this.els[7]=I.text(E.title.x+E.title.w-E.title.shift[0],E.title.textY,"\u65f6\u95f4\uff1a").attr({fill:E.title.color||"#3fa5eb",font:E.title.font,align:"end"}).hide(),this.els[8]=I.shape(g.drawShape.line).attr({x:E.x,y:0,length:E.w,type:"x"}).hide().toBack(),this.els[9]=I.shape(g.drawShape.line).attr({x:0,y:E.y,length:E.h,type:"y"}).hide().toBack());var M=this.coord.dx(N);if(M>=0&&this._data){N=this.coord.x2(M);var L=this._data;F=this.coord.y2(L.price[M]);if(M>=0&&L.time[M]){I.set(this.el).hide();var H=O._data.yprice,K=this.data.precision;this.els[0].attr({x:N,y:F}).show(),this.els[1].attr({y:F,text:parseFloat(L.price[M]).toFixed(K)}).show(),this.els[2].attr({y:F,text:q.percent(H==0?0:(L.price[M]-H)*100/H)}).show(),this.els[3].attr({x:N,text:L.time[M].substr(0,2)+":"+L.time[M].substr(2)}).show();var G=L.price[M]-L.yprice>0?p.red:L.price[M]-L.yprice==0?p.base:p.green;this.els[4].attr("text","\u4ef7\u683c\uff1a").show(),this.els[10].attr("text",parseFloat(L.price[M]).toFixed(K)).show(),this.els[10].attr("fill",G).show(),this.els[6].attr("text","\u6210\u4ea4\u91cf\uff1a").show(),this.els[11].attr("text",q.getLongNum(L.volume[M])).show();var l="";for(var J=0;J<L.date.length;J++){if(L.date[J][0]>M){l=L.date[J][1];break}}return this.els[7].attr("text",[this.parent.market=="us"?"\u7f8e\u4e1c":"","\u65f6\u95f4\uff1a",l.substr(4,2),"/",l.substr(6,2)," ",L.time[M].substr(0,2),":",L.time[M].substr(2,2)].join("")).show(),this.els[8].attr("y",F).show(),this.els[9].attr("x",N).show(),!0}}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel()}})}),f("../../../../chart/vs/minute-5day",["require","exports","module","../base","../../util/tool","../../util/promise","../coordinate","./comm","../line/line"],function(A,E,m){var g=A("../base"),q=A("../../util/tool"),F=A("../../util/promise"),k=A("../coordinate"),D=A("./comm"),C=A("../line/line"),z=q.object_extend,p=q.array_find,B={red:"#d91a2a",green:"#17a63a",base:"#385e7c"},v=function(u){var o=[],G={};for(var s=0;s<u.length;s++){var l=u[s];G[l]||(G[l]=!0,o.push(l))}return o};return g.addSubChart("minute-5day-vs",{init:function(l){var l=this.config=z(l,{x:68,y:65,w:653,h:219,offset:10,smoothLineY:1,smoothLineX:1,autoClose:null,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,118,240,362],font:'14px "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu',textY:36}});this.coord=new k(l.x,l.y,l.w,l.h,{offsetY:10}),this.el=[],this.titles=[]},bg:function(o){this.paper.set(this.titles).remove();if(!this.parent.isVs){return}var l=[104,217],s=this.config;o.rect(s.title.x,s.title.y,s.title.w,s.title.h,4).attr({fill:s.title.fill,stroke:s.title.stroke}),o.rect(s.x-1,s.y-1,s.w+2,s.h+2).attr({stroke:s.grid.stroke,fill:s.grid.fill}),this.coord.grid(o,8,5,{color:s.grid.stroke})},draw:function(){this.paper.set(this.titles).remove(),this.loader&&this.loader.cancel();if(!this.parent.isVs){return}var L=this,P=this.config;L.points=null;var G=[],u,K,I=[],s,M=[L.data.getMin5Data()],O={},H=[L.data.symbol];O[L.data.symbol]=!1;for(var J in L.parent.dataVs){M.push(L.parent.dataVs[J].getMin5Data()),O[J]=!1,H.push(J)}D.getColor(O),this.titles=[];var N=[];this.loader=F.join(M).progress(function(){L._data=[],L.paper.set(N).remove();var af=g.CONSTANT[L.parent.market+"-minutes-length"],aa=5,ae=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"];L._data.time=[];var aj=[];for(var ag=0;ag<arguments.length;ag++){var ad=arguments[ag][0];for(var ak=0;ak<ad.length;ak++){ad[ak].date&&aj.push(ad[ak].date)}}aj=v(aj).sort(),aj=aj.slice(-5);var ai=[];for(var ak=0;ak<aj.length;ak++){var al=aj[ak];if(al){var Y=new Date(al.substr(0,4),al.substr(4,2)-1,al.substr(6,2));ai[ak]=al.substr(4,2)+"-"+al.substr(6,2)+" \u5468"+ae[Y.getDay()]}}L.coord.init();for(var ag=0;ag<arguments.length;ag++){var ad=arguments[ag][0],Z=L._data[ag]={yprice:ad[0].yprice,price:[],chr:[],color:O[H[ag]]},ak,Q,X=ad.length,t=0,U=0,ab=0;for(ak=0,Q=0;ak<aj.length&&Q<X;ak++){var al=ad[Q].date;if(al!=aj[ak]){for(var ah=0;ah<af;ah++){Z.chr.push(t),Z.price.push(U)}}else{var W=ak<X-1?af:ad[Q].price.length;for(var ah=0;ah<W;ah++){U=ad[Q].price[ah],U&&(t=ad[0].yprice==0?0:100*(U-ad[0].yprice)/ad[0].yprice),Z.chr.push(t),Z.price.push(U),L._data.time[ab++]=ad[Q].time[ah]}Q++}}var ac=Math.max.apply(null,Z.chr),R=Math.abs(Math.min.apply(null,Z.chr));R>ac&&(ac=R),R=-ac,L.coord.axis([0,5*af-1],[R,ac])}var V=L.titles.cfg={x:P.title.x,y:P.title.y,w:P.title.w,h:P.title.h,data:[]};for(var ag=0;ag<arguments.length;ag++){P.stroke=L._data[ag].color,P["stroke-width"]=2,P.zero=!0,N[N.length]=C(L.paper,L._data[ag].chr,L.coord,P),V.data[ag]=[L._data[ag].color,arguments[ag][0].qt&&arguments[ag][0].qt[1]||H[ag],L._data[ag].chr.slice(-1)[0],H[ag]]}!L.titles[0]&&(L.titles[0]=D.createTitle(L.parent.foreLayer,P.autoClose)),L.titles[0].attr(V),N[N.length]=L.coord.label(L.paper,{up:B.red,down:B.green,type:"right",num:9,offset:P.label.offset.right,fix:function(l){return q.percent(l)}});for(ak=aj.length;ak<aa;ak++){ai.push("")}N[N.length]=g.drawAxis.x(L.paper,ai,{x:P.x,y:P.y+P.h+23,w:P.w,valign:"alphabetic",align:"center"}),L._isOver&&L.over()})},over:function(L,P,H){if(!this.parent.isVs){return}var Q=this.config,G=this;this.els||(this.els=[],this.els[0]=[],this.els[1]=[],this.els[2]=[],this.els[3]=L.shape(g.drawShape.label).attr({x:0,y:Q.y+Q.h,type:"bottom"}).hide(),this.els[8]=[],this.els[9]=L.shape(g.drawShape.line).attr({x:0,y:Q.y,length:Q.h,type:"y"}).hide().toBack());var O=this.coord.dx(P);if(this._data&&this._data.time[O]){P=this.coord.x2(O);var N=H,K=Number.MAX_VALUE;for(var I=0;I<this._data.length;I++){var M=this._data[I];H=this.coord.y2(M.chr[O]),!this.els[0][I]&&(this.els[0][I]=L.circle(P,H,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide()),this.els[0][I].attr({x:P,y:H}).show(),!this.els[1][I]&&(this.els[1][I]=L.shape(g.drawShape.label).attr({x:Q.x-2,y:0,align:"right",width:60,x1:Q.x-Q.label.shift,type:"left",fill:M.color}).hide()),this.els[1][I].attr({y:H,text:parseFloat(M.price[O]).toFixed(G.data.precision)}).show(),!this.els[2][I]&&(this.els[2][I]=L.shape(g.drawShape.label).attr({x:Q.x+Q.w+2,y:0,align:"left",width:60,x1:Q.x+Q.w+Q.label.shift,type:"right",fill:M.color}).hide()),this.els[2][I].attr({y:H,text:q.percent(M.chr[O])}).show(),!this.els[8][I]&&(this.els[8][I]=L.shape(g.drawShape.line).attr({x:Q.x,y:0,length:Q.w,type:"x"}).hide().toBack()),this.els[8][I].attr("y",H).show(),this.titles.cfg.data[I][2]=M.chr[O];var J=Math.abs(H-N);J<K&&(K=J,this.els[1][I].toFront(),this.els[2][I].toFront())}return this.titles[0].attr(this.titles.cfg),this.els[3].attr({x:P,text:G._data.time[O].substr(0,2)+":"+G._data.time[O].substr(2)}).show(),this.els[9].attr("x",P).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.paper.set(this.titles).remove()}})}),f("../../../../chart/minute-volume",["require","exports","module","./base","../util/tool","./coordinate","./line/histogram"],function(p,z,l){var g=p("./base"),m=p("../util/tool"),A=p("./coordinate"),k=p("./line/histogram"),v=m.object_extend,q=m.array_find;return g.addSubChart("minute-volume",{init:function(o){var o=this.config=v(o,{x:68,y:321,w:653,h:55,offset:3,colors:{down:"#17a63a",up:"#d91a2a"},grid:{stroke:"#acccef",fill:"#deedfd"},label:{offset:{right:50,left:-10}}},!1,!0);this.coord=o.coord||new A(o.x,o.y,o.w,o.h,{offsetY:3})},bg:function(s){var o=this.config,u=[104,217];s.shape(function(D,F){var C=F.x,t=F.y,B=F.width,E=F.height;D.moveTo(C,t),D.lineTo(C,t+E),D.lineTo(C+B,t+E),D.lineTo(C+B,t),o.grid.top?(D.lineTo(C,t),D.strokeStyle=o.grid.stroke,D.stroke()):(D.strokeStyle=o.grid.stroke,D.stroke(),D.lineTo(C,t)),D.fillStyle=o.grid.fill,D.fill()}).attr({x:this.config.x-1,y:this.config.y-1,width:this.config.w+2,height:this.config.h+2}),this.coord.grid(s,3,null,{color:o.grid.stroke})},draw5day:function(){var E=this,C=this.config;this.points=null,this.loader&&this.loader.cancel();var F,D=[],B=5,o=[];this.loader=E.data.getMin5Data().progress(function(t){E.paper.set(o).remove();var J=t.length,G,L,H=[];for(G=0;G<J;G++){H[G]=Math.max.apply(null,t[G].volume)}C.max=Math.max.apply(null,H);var s=[],K=[],O;for(G=0;G<J;G++){s.push.apply(s,t[G].volume);for(L=0;L<t[G].price.length;L++){L&&t[G].price[L]<t[G].price[L-1]?K.push(-1):K.push(1)}G==J-1&&(O=s.length,L<g.CONSTANT[E.parent.market+"-minutes-length"]&&(O+=g.CONSTANT[E.parent.market+"-minutes-length"]-L)),D[G]=D[G]||{x:C.x+G*C.w/B,y:C.y,w:C.w/B,h:C.h,offset:5},isFinite(C.max)||(C.max=0),D[G].max=C.max}C.length=O,E.coord.init(),E.coord.axis([0,5*g.CONSTANT[E.parent.market+"-minutes-length"]-1],[0,C.max]),C.color=s.color=K,o[o.length]=k(E.paper,s,E.coord,C),E._data=s;var u=E.parent.market=="sh"||E.parent.market=="sz"?"\u624b":"\u80a1",I=C.max,N=m.getLongNum(I);u=N[1]+u;if(E.coord.maxY<=E.coord.minY+0.0001){var M=0;o[o.length]=E.coord.label(E.paper,{type:"left",num:2,offset:C.label.offset.left,fix:function(P){return M++?u:0}})}else{o[o.length]=E.coord.label(E.paper,{type:"left",num:4,offset:C.label.offset.left,fix:function(P){return P<0?u:Math.round(P/N.e)}})}E._isOver&&E.over()})},draw:function(){if(this.config.type=="5day"){return this.draw5day()}var s=this,o=this.config;this.points=null,this.loader&&this.loader.cancel(),this.loader=s.data.getMinData();var u=[];this.loader.progress(function(E){s.paper.set(u).remove();var C=[],B=[],F;if(E&&E.price){C=E.volume.slice(0);for(F=0;F<E.price.length;F++){F&&E.price[F]<E.price[F-1]?B.push(-1):B.push(1)}}o.max=Math.max.apply(null,E.volume),isFinite(o.max)||(o.max=0),s.coord.init(),s.coord.axis([0,g.CONSTANT[s.parent.market+"-minutes-length"]-1],[0,o.max]),o.color=C.color=B,s._data=C,u[u.length]=k(s.paper,C,s.coord,o);var t=s.parent.market=="sh"||s.parent.market=="sz"?"\u624b":"\u80a1",H=o.max,D=m.getLongNum(H);t=D[1]+t;if(s.coord.maxY<=s.coord.minY+0.0001){var G=0;u[u.length]=s.coord.label(s.paper,{type:"left",num:2,offset:o.label.offset.left,fix:function(I){return G++?t:0}})}else{u[u.length]=s.coord.label(s.paper,{type:"left",num:4,offset:o.label.offset.left,fix:function(I){return I<0?t:Math.round(I/D.e)}})}s._isOver&&s.over()})},over:function(G,E,I){var D=this.config;this.els||(this.els=[],this.els[1]=this.paper.rect().hide(),this.els[0]=this.paper.shape(g.drawShape.line).attr({x:0,y:D.y,length:D.h,type:"y"}).hide());var F=this.coord.dx(E);if(this._data&&this._data[F]){E=this.coord.x2(F),I=this.coord.y2(this._data[F]),this.els[0].attach(this.paper).attr("x",E).show();var H=this.coord.stepX/3,C=1;this.config.maxWidth&&H>this.config.maxWidth/2&&(H=this.config.maxWidth/2);var B=this._data.color[F]<0?D.colors.down:D.colors.up;return this.els[1].attr({x:E-H-C,y:I-C,width:2*H+2*C,height:this.coord.y2(0)-I+2*C,fill:B,stroke:B}).attach(this.paper).show(),!0}},out:function(){this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel()}})}),f("../../../../chart/vs/kline",["require","exports","module","../base","../../util/tool","../../util/promise","../coordinate","../line/line","./comm"],function(A,E,m){function v(J,M){var H=M.x,l=M.y,I=95;J.font="12px arial",J.textBaseline="middle",J.fillStyle="#385e7c";var N,G;N=["\u4ef7\u683c","\u6da8\u8dcc\u5e45","\u6210\u4ea4\u91cf"];for(G=0;G<N.length;G++){J.fillText(N[G],H+I*G,l)}var L=M.data;for(var G=0;G<L.length;G++){var K=J.measureText(N[G]).width+5;J.fillText(L[G],H+I*G+K,l,I-K)}J.fillStyle="#3fa5eb",J.textAlign="end",J.font="14px yahei",J.fillText("\u7f8e\u4e1c\u65f6\u95f4\uff1a"+M.date,766,l)}var g=A("../base"),q=A("../../util/tool"),F=A("../../util/promise"),k=A("../coordinate"),D=A("../line/line"),C=A("./comm"),z=q.object_extend,p=q.array_find,B={red:"#d91a2a",green:"#17a63a",base:"#385e7c"};return g.addSubChart("kline-vs",{init:function(o,l){var l=this.config=z(l,{x:68,y:65,w:653,h:219,offset:30,autoClose:null,label:{fill:"#8bcfff",shift:15,offset:{right:56,left:-17}},grid:{stroke:"#81b3eb",fill:"#deedfd"},title:{x:14,y:18,w:775,h:26,fill:"#e2f2fe",stroke:"#bdcedb",shift:[7,118,240,362],font:'14px "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu',textY:36}},!1,!0);this.coord=new k(l.x,l.y,l.w,l.h,{offsetY:30}),this.date=[],this.onChange=o||function(){},this.titles=[]},bg:function(o){this.paper.set(this.titles).remove();if(!this.parent.isVs){return}var l=this.config,s=[104,217];o.rect(l.title.x,l.title.y,l.title.w,l.title.h,4).attr({fill:l.title.fill,stroke:l.title.stroke}),o.rect(l.x-1,l.y-1,l.w+2,l.h+2).attr({stroke:l.grid.stroke,fill:l.grid.fill}),this.coord.grid(o,8,12)},run:function(l){switch(l.t){case"date":this.date=l.d,this._isShow&&this.parent.draw()}},draw:function(){this.paper.set(this.titles).remove(),this.loader&&this.loader.cancel();if(!this.parent.isVs){return}this._data=null;var I=this,u=this.config,K=[I.data.getData("daily",I.date[0],I.date[1])],G={},J=[I.data.symbol];G[I.data.symbol]=!1;for(var H in I.parent.dataVs){K.push(I.parent.dataVs[H].getData("daily",I.date[0],I.date[1])),G[H]=!1,J.push(H)}C.getColor(G),this.titles=[];var s=[];this.loader=F.join(K).progress(function(){var o=I._data=[];o.chr=[],o.color=[],o.date=[],I.paper.set(s).remove();var X=[],O=[],M=[],l=arguments.length,P=[];for(var V=0;V<l;V++){P[V]=arguments[V][0].data.reverse(),X[V]=arguments[V][0].yprice||0,O[V]=X[V],o[V]=[],o.chr[V]=[],o.color[V]=G[J[V]]}var t,N=0;for(var R=0;R<l;R++){if(P[R].length){N=R;break}}var Q=[parseInt(P[N][P[N].length-1][0]),parseInt(P[N][0][0])];if(I.date[0]!=Q[0]||I.date[1]!=Q[1]){I.date=Q,I.onChange(Q),I.draw();return}for(;;){t=!1;for(var R=0;R<l;R++){!M[R]&&(M[R]=P[R].pop()),R==N&&M[R]&&(t=t?M[R][0]<t?M[R][0]:t:M[R][0]),R!=N}if(!t){break}o.date.push(t);for(var R=0;R<l;R++){M[R]&&M[R][0]<=t&&(X[R]=M[R][2],M[R]=null),o[R].push(X[R]),o.chr[R].push(O[R]==0?0:100*(X[R]-O[R])/O[R])}}var U=o.chr.join(",").replace(/NaN/g,"").split(",");I.coord.init();var W=Math.min.apply(null,U),L=Math.max.apply(null,U);I.coord.axis([0,o[0].length-1],[W,L]);var T=I.titles.cfg={x:u.title.x,y:u.title.y,w:u.title.w,h:u.title.h,data:[]};for(var V=0;V<l;V++){u.stroke=o.color[V],u.zero=!0,u["stroke-width"]=2,s[s.length]=D(I.paper,o.chr[V],I.coord,u),T.data[V]=[o.color[V],arguments[V][0].qt&&arguments[V][0].qt[1]||J[V],o.chr[V].slice(-1)[0]||0,J[V]]}I.titles[0]||(I.titles[0]=C.createTitle(I.parent.foreLayer,u.autoClose)),I.titles[0].attr(T),s[s.length]=I.coord.label(I.paper,{up:B.red,down:B.green,type:"right",num:9,offset:56,fix:function(S){return q.percent(S)}}),s[s.length]=I.coord.label(I.paper,{type:"bottom",num:7,offset:17,width:100,align:"center",fix:function(S){return o.date[S]?o.date[S].substr(0,4)+"/"+o.date[S].substr(4,2)+"/"+o.date[S].substr(6,2):""}}),I._isOver&&I.over()})},over:function(L,P,H){if(!this.parent.isVs){return}var Q=this,G=this.config;this.els||(this.els=[],this.els[0]=[],this.els[1]=[],this.els[2]=[],this.els[3]=[],this.els[4]=L.shape(g.drawShape.label).attr({x:0,y:G.y+G.h,width:87,type:"bottom"}).hide(),this.els[5]=L.shape(g.drawShape.line).attr({x:0,y:G.y,length:G.h,type:"y"}).hide().toBack());var O=this.coord.dx(P);if(O>=0&&this._data&&this._data.date[O]){P=this.coord.x2(O);var N=this._data,K=H,I=Number.MAX_VALUE;for(var M=0;M<N.length;M++){H=this.coord.y2(N.chr[M][O]),!this.els[0][M]&&(this.els[0][M]=L.circle(P,H,3).attr({"stroke-width":2,stroke:"#dd6f44",fill:"white"}).hide()),this.els[0][M].attr({x:P,y:H}).show(),!this.els[1][M]&&(this.els[1][M]=L.shape(g.drawShape.label).attr({x:G.x-2,y:0,align:"right",width:60,x1:G.x-G.label.shift,type:"left",fill:N.color[M]}).hide()),this.els[1][M].attr({y:H,text:parseFloat(N[M][O]).toFixed(Q.data.precision)}).show(),!this.els[2][M]&&(this.els[2][M]=L.shape(g.drawShape.label).attr({x:G.x+G.w+2,y:0,align:"left",width:60,x1:G.x+G.w+G.label.shift,type:"right",fill:N.color[M]}).hide()),this.els[2][M].attr({y:H,text:q.percent(N.chr[M][O])}).show(),!this.els[3][M]&&(this.els[3][M]=L.shape(g.drawShape.line).attr({x:G.x,y:0,length:G.w,type:"x"}).hide().toBack()),this.els[3][M].attr("y",H).show(),this.titles.cfg.data[M][2]=N.chr[M][O]||0;var J=Math.abs(H-K);J<I&&(I=J,this.els[1][M].toFront(),this.els[2][M].toFront())}return this.titles[0].attr(this.titles.cfg),this.els[4].attr({x:P,text:N.date[O].substr(0,4)+"/"+N.date[O].substr(4,2)+"/"+N.date[O].substr(6,2)}).show(),this.els[5].attr("x",P).show(),!0}},out:function(){this.paper.set(this.el).show(),this.paper.set(this.els).hide()},clear:function(){this.loader&&this.loader.cancel(),this.loader=null,this.paper.set(this.titles).remove()}})}),f("text",["module"],function(B){var q,g,v,G,m=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],F=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,E=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,A=typeof location!="undefined"&&location.href,t=A&&location.protocol&&location.protocol.replace(/\:/,""),D=A&&location.hostname,z=A&&(location.port||undefined),k=[],C=B.config&&B.config()||{};q={version:"2.0.6",strip:function(o){if(o){o=o.replace(F,"");var l=o.match(E);l&&(o=l[1])}else{o=""}return o},jsEscape:function(l){return l.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:C.createXhr||function(){var p,l,s;if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest}if(typeof ActiveXObject!="undefined"){for(l=0;l<3;l+=1){s=m[l];try{p=new ActiveXObject(s)}catch(o){}if(p){m=[s];break}}}return p},parseName:function(I){var p,K,H,l=!1,u=I.indexOf("."),J=I.indexOf("./")===0||I.indexOf("../")===0;return u!==-1&&(!J||u>1)?(p=I.substring(0,u),K=I.substring(u+1,I.length)):p=I,H=K||p,u=H.indexOf("!"),u!==-1&&(l=H.substring(u+1)==="strip",H=H.substring(0,u),K?K=H:p=H),{moduleName:p,ext:K,strip:l}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(L,I,K,H){var J,M,p,l=q.xdRegExp.exec(L);return l?(J=l[2],M=l[3],M=M.split(":"),p=M[1],M=M[0],(!J||J===I)&&(!M||M.toLowerCase()===K.toLowerCase())&&(!p&&!M||p===H)):!0},finishLoad:function(s,o,p,l){p=o?q.strip(p):p,C.isBuild&&(k[s]=p),l(p)},load:function(L,I,K,H){if(H.isBuild&&!H.inlineText){K();return}C.isBuild=H.isBuild;var J=q.parseName(L),M=J.moduleName+(J.ext?"."+J.ext:""),p=I.toUrl(M),l=C.useXhr||q.useXhr;!A||l(p,t,D,z)?q.get(p,function(o){q.finishLoad(L,J.strip,o,K)},function(o){K.error&&K.error(o)}):I([M],function(o){q.finishLoad(J.moduleName+"."+J.ext,J.strip,o,K)})},write:function(H,o,u,l){if(k.hasOwnProperty(o)){var p=k[o];/^\s*define\s*\(\s*function\s*\(/.test(p)||(p="define(function () { return '"+q.jsEscape(p)+"';});"),u.asModule(H+"!"+o,p+"\n")}},writeFile:function(J,M,l,H,N){var p=q.parseName(M),L=p.ext?"."+p.ext:"",K=p.moduleName+L,I=l.toUrl(p.moduleName+L)+".js";q.load(K,l,function(o){var s=function(u){return H(I,u)};s.asModule=function(O,u){return H.asModule(O,I,u)},q.write(J,K,s,N)},N)}};if(C.env==="node"||!C.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node){g=a.nodeRequire("fs"),q.get=function(o,l){var p=g.readFileSync(o,"utf8");p.indexOf("\ufeff")===0&&(p=p.substring(1)),l(p)}}else{if(C.env==="xhr"||!C.env&&q.createXhr()){q.get=function(I,p,H,l){var u=q.createXhr(),J;u.open("GET",I,!0);if(l){for(J in l){l.hasOwnProperty(J)&&u.setRequestHeader(J.toLowerCase(),l[J])}}C.onXhr&&C.onXhr(u,I),u.onreadystatechange=function(L){var s,K;u.readyState===4&&(s=u.status,s>399&&s<600?(K=new Error(I+" HTTP status: "+s),K.xhr=u,H(K)):p(u.responseText),C.onXhrComplete&&C.onXhrComplete(u,I))},u.send(null)}}else{if(C.env==="rhino"||!C.env&&typeof Packages!="undefined"&&typeof java!="undefined"){q.get=function(J,M){var H,l,I="utf-8",N=new java.io.File(J),p=java.lang.System.getProperty("line.separator"),L=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(N),I)),K="";try{H=new java.lang.StringBuffer,l=L.readLine(),l&&l.length()&&l.charAt(0)===65279&&(l=l.substring(1)),H.append(l);while((l=L.readLine())!==null){H.append(p),H.append(l)}K=String(H.toString())}finally{L.close()}M(K)}}else{if(C.env==="xpconnect"||!C.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces){v=Components.classes,G=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),q.get=function(I,s){var K,H,J={},p=new FileUtils.File(I);try{K=v["@mozilla.org/network/file-input-stream;1"].createInstance(G.nsIFileInputStream),K.init(p,1,0,!1),H=v["@mozilla.org/intl/converter-input-stream;1"].createInstance(G.nsIConverterInputStream),H.init(K,"utf-8",K.available(),G.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),H.readString(K.available(),J),H.close(),K.close(),s(J.value)}catch(l){throw new Error((p&&p.path||"")+": "+l)}}}}}}return q}),f("text!share.htm",[],function(){return'<form id="g-post-form" method="post" target="g-post-iframe"\r\n    action="http://ifzq.finance.qq.com/appstock/miniblog/blog/share">\r\n    <div class="Wbforward-title">\r\n		<div class="Wbforward-logo"></div>\r\n		<div class="Wbforward-hello">\u5e7f\u64ad\u5230\u817e\u8baf\u5fae\u535a</div>\r\n	</div>\r\n	<div class="Wbforward-box">\r\n		<div class="Wbforward-con">\r\n			<div class="opt-pos">\r\n				<div class="icast at">\r\n					<a target="_blank" href="#"></a>\r\n					\uff0c\u5e7f\u64ad\u7ed9\u4f60\u7684\u542c\u4f17\r\n				</div>\r\n				<div class="nums fr">\r\n					<span class="countTxt">\r\n						\u8fd8\u5269 <em>140</em>\r\n						\u5b57\r\n					</span>\r\n				</div>\r\n			</div>\r\n			<div class="text-con">\r\n				<textarea class="contentArea" id="msgTxt" accesskey="u" name="content" autocomplete="off" tabindex="1"></textarea>\r\n			</div>\r\n			<div class="opt-bt">\r\n				<div class="add-img">\r\n					<a href="javascript:void(0);">\u53d6\u6d88\u56fe\u7247</a>\r\n				</div>\r\n				<div class="cast-bt">\r\n					<input type="button" tabindex="2" title="\u5feb\u6377\u952e Ctrl+Enter" value="" class="sendBtn btnHasStr" id="btnSend"></div>\r\n			</div>\r\n			<div style="width: 521px; height: 60px; display: none;" class="publishMsg">\r\n				<div class="popBox">\r\n					<span class="ico_tsW">\r\n						<span class="ico_ts"></span>\r\n					</span>\r\n					<h2>\u5e7f\u64ad\u6210\u529f</h2>\r\n					<p></p>\r\n				</div>\r\n			</div>\r\n			<div style="display:block" class="thumb-box">\r\n				<div class="select"></div>\r\n				<img width="150"></div>\r\n		</div>\r\n	</div>\r\n	<div class="closeX" title="\u5173\u95ed">X</div>\r\n	\r\n	<input type="hidden" value="" name="uin">\r\n	<input type="hidden" value="hangqing" name="source">\r\n	<input type="hidden" value="" name="hqimg">\r\n</form>\r\n<iframe id="g-post-iframe" name="g-post-iframe" style="display:none;"></iframe>'}),f("../../vendor/require-css/normalize",[],function(){function m(B,t,u){if(B.match(p)||B.match(z)){return B}B=l(B);var o=u.match(z),A=t.match(z);return A&&(!o||o[1]!=A[1]||o[2]!=A[2])?v(B,t):k(v(B,t),u)}function v(B,u){B.substr(0,2)=="./"&&(B=B.substr(2));if(B.match(p)||B.match(z)){return B}var o=u.split("/"),A=B.split("/");o.pop();while(curPart=A.shift()){curPart==".."?o.pop():o.push(curPart)}return o.join("/")}function k(u,o){var A=o.split("/");A.pop(),o=A.join("/")+"/",i=0;while(o.substr(i,1)==u.substr(i,1)){i++}while(o.substr(i,1)!="/"){i--}o=o.substr(i+1),u=u.substr(i+1),A=o.split("/");var s=u.split("/");out="";while(A.shift()){out+="../"}while(curPart=s.shift()){out+=curPart+"/"}return out.substr(0,out.length-1)}var q=/([^:])\/+/g,l=function(o){return o.replace(q,"$1/")},z=/[^\:\/]*:\/\/([^\/])*/,p=/^(\/|data:)/,g=function(D,F,B){F=l(F),B=l(B);var A=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,E,t,D;while(E=A.exec(D)){t=E[3]||E[2]||E[5]||E[6]||E[4];var s;s=m(t,F,B);var C=E[5]||E[6]?1:0;D=D.substr(0,A.lastIndex-t.length-C-1)+s+D.substr(A.lastIndex-C-1),A.lastIndex=A.lastIndex+(s.length-t.length)}return D};return g.convertURIBase=m,g.absoluteURI=v,g.relativeURI=k,g}),f("../../vendor/require-css/css",[],function(){if(typeof window=="undefined"){return{load:function(o,l,p){p()}}}var C=document.getElementsByTagName("head")[0],H=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,q=!1,g=!0;H[1]||H[7]?q=parseInt(H[1])<6||parseInt(H[7])<=9:H[2]?g=!1:H[4]&&(q=parseInt(H[4])<18);var z={};z.pluginBuilder="./css-builder";var I,m,G=function(){I=document.createElement("style"),C.appendChild(I),m=I.styleSheet||I.sheet},F=0,B=[],v,E=function(l){F++,F==32&&(G(),F=0),m.addImport(l),I.onload=function(){A()}},A=function(){v();var l=B.shift();if(!l){v=null;return}v=l[1],E(l[0])},k=function(o,l){(!m||!m.addImport)&&G();if(m&&m.addImport){v?B.push([o,l]):(E(o),v=l)}else{I.textContent='@import "'+o+'";';var p=setInterval(function(){try{I.sheet.cssRules,clearInterval(p),l()}catch(s){}},10)}},D=function(o,u){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet";if(g){l.onload=function(){l.onload=function(){},setTimeout(u,7)}}else{var p=setInterval(function(){for(var J=0;J<document.styleSheets.length;J++){var s=document.styleSheets[J];if(s.href==l.href){return clearInterval(p),u()}}},10)}l.href=o,C.appendChild(l)};return z.normalize=function(o,l){return o.substr(o.length-4,4)==".css"&&(o=o.substr(0,o.length-4)),l(o)},z.load=function(s,o,p,l){(q?k:D)(o.toUrl(s+".css"),p)},z}),f("../../vendor/require-css/css!share",[],function(){}),f("share",["require","exports","module","text!./share.htm","css!./share.css"],function(o,k,p){var m=p.exports=function(s,q,u){this.content=s+" ",this.image=q,this.useImage=!0,this.init(),this.login=u||function(){}},g=function(q){return Math.ceil(q.replace(/[^\x00-\xff]/g,"xx").length/2)},l=function(s){if(s.getAttribute("flash-timer")){return}var q=s.innerHTML;s.innerHTML="&nbsp;";var u=setTimeout(function(){s.setAttribute("flash-timer",""),s.innerHTML=q},300);s.setAttribute("flash-timer",u)};m.prototype.init=function(){var v=o("text!./share.htm");o("css!./share.css"),this.dlg=__.dom.addEl({cls:"Wbforward",css:"display:none;z-index:889;",html:v},__.dom.f("g-popup-container")),__.dom.f(".thumb-box img",this.dlg).src=this.image,__.dom.f(".contentArea",this.dlg).value=this.content;var C=this,A=__.dom.f(".thumb-box",this.dlg);__.event.on(__.dom.f(".add-img a",this.dlg),"click",function(u){var s=u.target;s.innerHTML==="\u9009\u62e9\u56fe\u7247"?(s.innerHTML="\u53d6\u6d88\u56fe\u7247",A.style.display="block",C.useImage=!0):(s.innerHTML="\u9009\u62e9\u56fe\u7247",A.style.display="none",C.useImage=!1)}),__.event.on(__.dom.f(".closeX",this.dlg),"click",function(){C.hide()}),__.event.on(__.dom.f(".sendBtn",this.dlg),"click",function(){C._post()});var z=__.dom.f(".contentArea",this.dlg),B=__.dom.f(".countTxt",this.dlg),q=140;setInterval(function(){if(!C.isShow){return}var s=140-g(z.value);if(s===q){return}q=s,s<0?B.innerHTML='\u8d85\u51fa<em class="error">'+-s+"</em>\u5b57":B.innerHTML="\u5269\u4f59<em>"+s+"</em>\u5b57"},200)},m.prototype.initNick=function(q){var u=this,s="http://ifzq.finance.qq.com/appstock/miniblog/user/getUserinfo?_callback=define&"+Math.random();s+="&uin="+this.uin,o.async(s,function(v){if(v.code===0&&v.data){v=v.data;var t=__.dom.f(".icast a",u.dlg);__.dom.fillText(t,v.nick),t.href="http://t.qq.com/"+v.name,q&&q()}else{u.login()}})},m.prototype._post=function(){var s=__.dom.f("#g-post-form");s.hqimg&&!this.useImage&&__.dom.remEl(s.hqimg),!s.hqimg&&this.useImage&&__.dom.addEl({tag:"input",type:"hidden",name:"hqimg"},s),this.useImage&&(s.hqimg.value=this.image),__.dom.f("form",this.dlg).uin.value=this.uin;var q=g(s.content.value);if(q===0){s.content.value=this.content;return}if(q>140){l(__.dom.f(".countTxt",this.dlg));return}s.submit(),__.dom.f(".publishMsg",this.dlg).style.display="block",this.hide(500)},m.prototype.show=function(s){s&&(this.image=s,__.dom.f(".thumb-box img",this.dlg).src=this.image),this.uin=(__.cookie.get("uin")||__.cookie.get("luin")).replace(/o0*/,"");if(!this.uin){this.login();return}var q=this;this.isShow=!0,this.initNick(function(){q.isShow&&(q.hideTimer&&clearTimeout(q.hideTimer)&&(q.hideTimer=null),q.dlg.style.display="block",__.dom.setCenter(q.dlg))})},m.prototype.hide=function(s){this.isShow=!1,this.hideTimer&&clearTimeout(this.hideTimer)&&(this.hideTimer=null);if(s){var q=this;this.hideTimer=setTimeout(function(){q.hide()},s)}else{__.dom.f(".publishMsg",this.dlg).style.display="none",this.dlg.style.display="none"}}}),f("text!cn.htm",[],function(){return'<div class="g-option">\r\n    <div class="cur g-clk-normal">\u666e\u901a</div>\r\n    <div class="g-clk-logarithm">\u5bf9\u6570</div>\r\n    <!--<div class="g-clk-info">\u4fe1\u606f</div>-->\r\n    <div class="g-clk-draw" title="\u753b\u56fe\u5de5\u5177\u4ec5\u5728K\u7ebf\u72b6\u6001\u4e0b\u6709\u6548">\u753b\u7ebf</div>\r\n    <div class="g-clk-share" title="\u5206\u4eab\u5230\u817e\u8baf\u5fae\u535a">\u5206\u4eab</div>\r\n</div>\r\n<div class="g-draw-tool">\r\n    <div class="bar">\r\n        <div class="g-bg"></div><div class="g-clk-d~c g-bg"></div>\r\n    </div>\r\n    <div class="panel">\r\n        <div class="g-clk-d~1" title="\u7ebf\u6bb5"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~2" title="\u6491/\u538b\u7ebf"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~3" title="\u56de\u5f52\u7ebf"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~4" title="\u77e9\u5f62"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~5" title="\u5468\u671f\u7ebf"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~6" title="\u9ec4\u91d1\u5206\u5272\u7ebf"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~7" title="\u767e\u5206\u6bd4\u7ebf"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~8" title="\u6ce2\u6bb5\u7ebf"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~9" title="\u6590\u6ce2\u62c9\u5951\u7ebf"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~10" title="\u6da8\u6807\u8bb0"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~11" title="\u8dcc\u6807\u8bb0"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~12" title="\u6587\u672c"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~13" title="\u9009\u62e9"><div class="g-bg"></div></div>\r\n        <div class="g-clk-d~14" title="\u5220\u9664"><div class="g-bg"></div></div>\r\n    </div>\r\n    <div class="arrow g-bg"></div>\r\n</div>\r\n                    <div class="g-main">\r\n                    <iframe frameborder="0"></iframe>\r\n                    <div class="g-title">\r\n                        <div class="g-name"></div>\r\n                        <div class="g-code"></div>\r\n                        <div class="g-bg g-stat"></div>\r\n                      <div class="g-bg g-close g-clk-close"></div>\r\n                    </div>\r\n                    <div class="g-bg g-nav">\r\n                        <div class="g-bg left">\r\n                        <span class="cur g-clk-1 g-clk-0 g-clk-s">\u5f53\u65e5</span>\r\n                        <span class="g-clk-2 g-clk-0 g-clk-s">5\u65e5</span>\r\n                        <span class="g-clk-11 g-clk-0 g-clk-b g-hover">\u65e5K</span>\r\n                        <span class="g-clk-12 g-clk-0 g-clk-b g-hover">\u5468K</span>\r\n                        <span class="g-clk-13 g-clk-0 g-clk-b g-hover">\u6708K</span>\r\n                        <span class="g-clk-3 g-clk-0 g-clk-b">5\u5206\u949f</span>\r\n                        <span class="g-clk-4 g-clk-0 g-clk-b">30\u5206\u949f</span>\r\n                        <span class="g-clk-5 g-clk-0 g-clk-b">60\u5206\u949f</span>\r\n                        </div>\r\n                        <div class="line"></div>\r\n                        <span class="g-clk-6 g-clk-0 g-clk-b">1\u5e74</span>\r\n                        <span class="g-clk-7 g-clk-0 g-clk-b">3\u5e74</span>\r\n                        <span class="g-clk-8 g-clk-0 g-clk-b">5\u5e74</span>\r\n                    </div>\r\n                    <div class="g-bg g-nav-over">\r\n                        <span class="g-clk-fq cur">\u4e0d\u590d\u6743</span>\r\n                        <span class="g-clk-fq-f">\u524d\u590d\u6743</span>\r\n                        <span class="g-clk-fq-b">\u540e\u590d\u6743</span>\r\n                    </div>\r\n                    <div class="g-content">\r\n                      <div id="g-popup-k" style="margin:0 5px;"></div>\r\n                    </div>\r\n                    <div class="g-db">\r\n                        <form class="g-db-form">\r\n                        <div class="border"></div>\r\n                        <div class="left">\r\n                            <div>\u80a1\u7968\u5bf9\u6bd4</div>\r\n                            <div>\r\n                                <input type="text" value="\u62fc\u97f3/\u4ee3\u7801/\u540d\u79f0">\r\n                                <input type="submit" value="\u5bf9\u6bd4">\r\n                                <input name="ZHENGQUANDM" type="hidden">\r\n                            </div>\r\n                        </div>\r\n                        <div class="mid"></div>\r\n                        <div class="right">\r\n                            <div class="checkbox" style="display:none"><input class="g-clk-vs" type="checkbox"><span>&#10004</span><label></label></div>\r\n                        </div>\r\n                        </form>\r\n                    </div>\r\n                    </div>\r\n<div class="g-vs-tips">\r\n    <div>\u6700\u591a\u540c\u65f6\u5bf9\u6bd45\u53ea\u80a1\u7968\uff0c\u8bf7\u8c03\u6574\u540e\u518d\u8fdb\u884c\u5bf9\u6bd4\u3002</div>\r\n    <input type="button" value="\u786e\u5b9a">\r\n</div>                '}),f("../../vendor/require-css/css!cn",[],function(){}),f("cn",["require","exports","module","../../../../chart/base","../../../../chart/kline","../../../../chart/vs/kline","../../../../chart/kline2","../../../../chart/minutek","../../../../chart/trend","../../../../chart/trendm","../../../../chart/ma","../../../../chart/subgraph/subgraph","../../../../chart/subgraph/macd","../../../../chart/subgraph/rsi","../../../../chart/subgraph/kdj","../../../../chart/subgraph/dmi","../../../../chart/subgraph/obv","../../../../chart/subgraph/w&r","../../../../chart/subgraph/boll","../../../../chart/subgraph/sar","../../../../chart/volume","../../../../chart/minute","../../../../chart/vs/minute","../../../../chart/minute-5day","../../../../chart/vs/minute-5day","../../../../chart/minute-volume","../../../../util/tool","./share","text!./cn.htm","css!./cn.css"],function(ar,ad,ai){function X(k){var g=k.substr(0,5);return g=="sh000"||g=="sz399"||g=="sz131"||g=="sh204"}var af=ar("../../../../chart/base"),an=ar("../../../../chart/kline"),ae=ar("../../../../chart/vs/kline"),ah=ar("../../../../chart/kline2"),ac=ar("../../../../chart/minutek"),aw=ar("../../../../chart/trend"),aq=ar("../../../../chart/trendm"),ak=ar("../../../../chart/ma"),au=ar("../../../../chart/subgraph/subgraph"),ao=ar("../../../../chart/subgraph/macd"),ag=ar("../../../../chart/subgraph/rsi"),at=ar("../../../../chart/subgraph/kdj"),ab=ar("../../../../chart/subgraph/dmi"),aj=ar("../../../../chart/subgraph/obv"),ap=ar("../../../../chart/subgraph/w&r"),Y=ar("../../../../chart/subgraph/boll"),av=ar("../../../../chart/subgraph/sar"),aa=ar("../../../../chart/volume"),R=ar("../../../../chart/minute"),z=ar("../../../../chart/vs/minute"),Z=ar("../../../../chart/minute-5day"),q=ar("../../../../chart/vs/minute-5day"),I=ar("../../../../chart/minute-volume"),V=ar("../../../../util/tool"),al=ar("./share"),K=V.date_shift,G=ai.exports=function(k,g,l){this.symbol=k,this.name=g,this.initDom(),this.initChart(),this.initVs(),this.coordinate="normal",this._onClose=l};G.prototype.initVs=function(){function p(s){var t=window.XGGP;t?__.load("http://qt.gtimg.cn/q="+t.join(","),function(){for(var v=0;v<t.length;v++){var u=window["v_"+t[v]];u&&(u=u.split("~"),k.push(["cn"+u[2],u[1]]))}s()}):s()}var o=this.symbol;__.each(__.dom.$(".g-db .right .checkbox"),function(s){s.style.display!=="none"&&__.dom.remEl(s)});var k=[["sh000001","\u4e0a\u8bc1\u6307\u6570"],["sz399001","\u6df1\u8bc1\u6210\u6307"]],m=this,g=function(){m.addVs.apply(m,k.slice(0,10))};p(function(){k.length>2?setTimeout(function(){g()},0):__.load("http://stockhtm.finance.qq.com/sstock/quotpage/inc_hot/hot_all.js",function(){var s=window.v_hot_all;if(s){var t=[];__.each(s.split("|"),function(u){u=u.split("_"),t.push("s_"+(u[1]=="1"?"sh":"sz")+u[0])}),t=t.slice(0,10),__.load("http://qt.gtimg.cn/q="+t.join(","),function(){__.each(t,function(u){var v=window["v_"+u];v&&(u=v.split("~"),k.push([(u[0]=="1"?"sh":"sz")+u[2],u[1]]))}),g()})}})});var l=__.dom.f(".g-popup .g-vs-tips");__.event.on(__.dom.f(".g-popup .g-vs-tips input"),"click",function(){l.style.display="none"})},G.prototype.initChart=function(){var v=this;this.chart=new af("g-popup-k",this.symbol,{width:805,height:525,logo:!0}),this.chart.addSubChart("minute",R,{name:this.name,avg:!0,title:{shift:[7,90,,,8]}}),this.chart.addSubChart("minute",z,{name:this.name}),this.chart.addSubChart("minute",I),this.chart.addSubChart("minute-5day",Z,{name:this.name,title:{shift:[7,120,,,8]}}),this.chart.addSubChart("minute-5day",q,{name:this.name}),this.chart.addSubChart("minute-5day",I,{type:"5day"}),this.chart.addSubChart("kline",an,function(k){v.chart.execute("kline",aw,{t:"date",d:k})},{title:{shift:[,,218,,8]},useVs:!0}),this.chart.addSubChart("kline",ae);var T=this.chart.addSubChart("kline",aw,function(k){v.chart.execute("kline","*",{t:"date",d:k}),G.CLICK_MAP[0]()},function(C,A,k,t){var B=T.date.slice(0);g(k+100,t+10,A,function(D){B[C]=D,B[0]>B[1]&&(B=T.date.slice(0)),T.run({t:"date",d:B}),v.chart.execute("kline","*",{t:"date",d:B}),G.CLICK_MAP[0]()})});this.chart.addSubChart("kline",aa,{facing:!0});var p=af.CONSTANT["kline-limit"],l=this.chart.addSubChart("kline",au);l.addSubChart("kline",ao,{limit:p}),l.addSubChart("kline",ag,{limit:p}),l.addSubChart("kline",at,{limit:p}),l.addSubChart("kline",ab,{limit:p}),l.addSubChart("kline",aj,{limit:p}),l.addSubChart("kline",ap,{limit:p}),l.addSubChart("kline",Y,{limit:p}),l.addSubChart("kline",av,{limit:p}),this.chart.addSubChart("kline",ak,5,"#335fe6","left",{facing:!0,datatype:"volume"}),this.chart.addSubChart("kline",ak,10,"#ff6000","middle",{facing:!0,datatype:"volume"}),this.chart.addSubChart("kline",ak,20,"#ee6ac5","right",{facing:!0,datatype:"volume"});var s=this.chart.addSubChart("minutek",ac,function(k){v.chart.execute("minutek","*",{t:"date",d:k})},{label:{fill:"#80b9e6",shift:10,offset:{right:50,left:10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,shift:[7,7,7,280],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"},useVs:!1});this.chart.addSubChart("minutek",ak,5,"#335fe6","left",{limit:p,x:68,y:65,w:653,h:219,offset:30,datatype:"close",labelOffset:15,coord:s.coord}),this.chart.addSubChart("minutek",ak,10,"#ff6000","middle",{limit:p,x:68,y:65,w:653,h:219,offset:30,datatype:"close",labelOffset:15,coord:s.coord}),this.chart.addSubChart("minutek",ak,20,"#ee6ac5","right",{limit:p,x:68,y:65,w:653,h:219,offset:30,datatype:"close",labelOffset:15,coord:s.coord}),this.chart.addSubChart("minutek",aq,function(k){v.chart.execute("minutek","*",{t:"date",d:k})},{useVs:!1}),this.chart.addSubChart("minutek",aa,{limit:p});var N=this.chart.addSubChart("minutek",au,{centerX:!0});N.addSubChart("minutek",ao,{limit:p}),N.addSubChart("minutek",ag,{limit:p}),N.addSubChart("minutek",at,{limit:p}),N.addSubChart("minutek",ab,{limit:p}),N.addSubChart("minutek",aj,{limit:p}),N.addSubChart("minutek",ap,{limit:p}),N.addSubChart("minutek",Y,{limit:p}),N.addSubChart("minutek",av,{limit:p}),
this.chart.addSubChart("minutek",ak,5,"#335fe6","left",{limit:p,datatype:"volume"}),
this.chart.addSubChart("minutek",ak,10,"#ff6000","middle",{limit:p,datatype:"volume"}),
this.chart.addSubChart("minutek",ak,20,"#ee6ac5","right",{limit:p,datatype:"volume"});

var o=this.chart.addSubChart("kline2",ah,function(k){v.chart.execute("kline2","*",{t:"date",d:k})},{fq:{text:"\u524d\u590d\u6743",shift:40},title:{shift:[,,220,,]}});
this.chart.addSubChart("kline2",ak,5,"#335fe6","left",{limit:p,x:68,y:65,w:653,h:219,offset:30,datatype:"close",labelOffset:15,coord:o.coord}),
this.chart.addSubChart("kline2",ak,10,"#ff6000","middle",{limit:p,x:68,y:65,w:653,h:219,offset:30,datatype:"close",labelOffset:15,coord:o.coord}),
this.chart.addSubChart("kline2",ak,20,"#ee6ac5","right",{limit:p,x:68,y:65,w:653,h:219,offset:30,datatype:"close",labelOffset:15,coord:o.coord});
var E=this.chart.addSubChart("kline2",aw,function(k){v.chart.execute("kline2","*",{t:"date",d:k})},
function(A,D,C,k){var B=E.date.slice(0);g(C+100,k+10,D,function(t){B[A]=t,B[0]>B[1]&&(B=E.date.slice(0)),E.run({t:"date",d:B}),v.chart.execute("kline2","*",{t:"date",d:B})})},{useVs:!1});
this.chart.addSubChart("kline2",aa,{limit:p});
var S=this.chart.addSubChart("kline2",au,{centerX:!0});S.addSubChart("kline2",ao,{limit:p}),S.addSubChart("kline2",ag,{limit:p}),S.addSubChart("kline2",at,{limit:p}),S.addSubChart("kline2",ab,{limit:p}),S.addSubChart("kline2",aj,{limit:p}),S.addSubChart("kline2",ap,{limit:p}),S.addSubChart("kline2",Y,{limit:p}),S.addSubChart("kline2",av,{limit:p}),this.chart.addSubChart("kline2",ak,5,"#335fe6","left",{limit:p,datatype:"volume"}),this.chart.addSubChart("kline2",ak,10,"#ff6000","middle",{limit:p,datatype:"volume"}),this.chart.addSubChart("kline2",ak,20,"#ee6ac5","right",{limit:p,datatype:"volume"});var g=function(B,k,C,A){m&&(C=String(C),m.date=new Date(C.substr(0,4),C.substr(4,2)-1,C.substr(6,2)),m.refresh(),O.style.left=B+"px",O.style.top=k+"px",m.popup(O),__.dom.f(".DynarchCalendar-topCont").style.zIndex=999999,u=function(t){A(parseInt(t,10))})},u=function(){},O,m;__.load("widget.calendar",function(){O=__.dom.f("g-calendar-div"),O||(O=__.dom.addEl({css:"display: block;width: 0px;height: 0px;position: absolute;"},__.dom.f("g-popup-container"))),m=new __.widget.Calendar({animation:!1,align:"Bl/ / /B/r",onSelect:function(k){this.hide(),u(k.selection.print("%Y%m%d"))}})})},G.prototype.initDom=function(){var E=document.getElementById("g-popup-container"),m=document.getElementById("g-popup"),g=document.getElementById("g-popup-mask"),v=ar("text!./cn.htm"),H=this;if(!m){ar("css!./cn.css"),E=__.dom.addEl({id:"g-popup-container",cls:"g-popup-container"},document.body),g=__.dom.addEl({id:"g-popup-mask",cls:"g-popup-mask"},E),m=__.dom.addEl({id:"g-popup",cls:"g-popup",html:v},E);if(!X(this.symbol)){var k=__.dom.f(".g-nav-over"),D=function(){C&&clearTimeout(C),k.style.display="block"},C,A=function(){C&&clearTimeout(C),C=setTimeout(function(){k.style.display="none"},100)};__.each(__.dom.$(".g-hover"),function(l){__.event.on(l,"mouseover",function(){H._hover=l,k.style.left=l.offsetLeft-8+"px",D()}),__.event.on(l,"mouseout",function(){A()}),__.event.on(k,"mouseover",function(){D()}),__.event.on(k,"mouseout",function(){A()})})}}__.dom.f("#g-popup-k").innerHTML="";var p={sh:"\u4e0a\u6d77",sz:"\u6df1\u5733",hk:"\u9999\u6e2f",OQ:"NASDAQ",N:"NYSE"},B=this.symbol.split(".");B=B[1]&&p[B[1]]||p[B[0].substr(0,2)],B=B?B+": ":"",__.dom.f("#g-popup .g-name").innerHTML=this.name,__.dom.f("#g-popup .g-code").innerHTML=B+this.symbol.substr(2).replace(/\.[^.]+$/,""),this.popup=m,this.mask=g,this.container=E,this.onclick=function(l){H.clickHandler(l.target)},__.load("fn-smartbox",function(){var o=__.dom.f(".g-db-form"),l=__.dom.f('.g-db-form input[type="text"]'),s=__.widget.SmartBox.prototype._hlScroll;__.widget.SmartBox.prototype._hlScroll=function(){},H._smartbox=new __.widget.SmartBox("over",{zindex:1999999,autoSelect:!0,inputHint:"\u62fc\u97f3/\u4ee3\u7801/\u540d\u79f0",defaultType:"GP",showAll:!1,adjustLimit:20000,attach:{form:o,type:{value:"GP"},query:l,submit:__.dom.f('.g-db-form input[type="submit"]')},onclick:function(t){__.ua.ie&&l.focus();var u={1:"sh",51:"sz"};u[t[2]]&&(H.addVs([u[t[2]]+t[1],t[4],!0]),ax.log(37))}}),__.widget.SmartBox.prototype._hlScroll=s}),m.style.position="absolute",__.event.on(__.dom.f("#g-popup .g-title"),"mousedown",function(P){__.each(__.dom.$("body > textarea"),function(o){o.blur()});var M=parseInt(m.style.top,10),O=parseInt(m.style.left,10),L=__.dom.getDocumentXY(),N=m.clientWidth+57,S=m.clientHeight+30,l={t:M,r:L[0]-O-N,b:L[1]-M-S,l:O};__.drag.begin(P,m,!1,l,function(s,o){__.doc.onmousedown=__.doc.onselectstart=__.drag.oldSsHl,m.style.left=s+"px",m.style.top=o+"px",m.style.zIndex=888},function(s,o){m.style.left=s+"px",m.style.top=o+"px",m.style.zIndex=888})})},G.prototype.clickHandler=function(m){while(m){if(m.className){var k=m.className.split(" ");for(var o=0;o<k.length;o++){var l=k[o];if(l.substr(0,6)==="g-clk-"){l=l.substr(6).split("-");var g=[m].concat(l.slice(1));l=l[0],G.CLICK_MAP[l]&&G.CLICK_MAP[l].apply(this,g)}}}m=m.parentNode}};var J=new Date;J=J.getFullYear()*10000+(J.getMonth()+1)*100+J.getDate();var ax=new __.FnBoss(1731,(__.cookie.get("uin")||__.cookie.get("luin")||"").replace(/^o0+/,""));ax.log(100);var U=function(k){if(__.dom.hasClass(k,"cur")){return !1}var g=__.dom.f(".g-draw-tool .cur");return g&&__.dom.remClass(g,"cur"),__.dom.addClass(k,"cur"),!0},F=function(m,k){typeof m=="string"&&(m=m.split(" "));for(var o=0;o<m.length;o++){var l=m[o];l==="draw"&&!k&&W(this);var g=__.dom.f(".g-clk-"+l);g&&(k?(__.dom.remClass(g,"disable"),l==="logarithm"&&this.coordinate==="logarithm"?__.dom.addClass(g,"cur"):l==="normal"&&this.coordinate==="normal"&&__.dom.addClass(g,"cur")):(__.dom.addClass(g,"disable"),__.dom.remClass(g,"cur")))}},Q=function(g){__.dom.f(".g-db").style.display=g?"block":"none"},W=function(k){k.chart.execute("kline2","*",{t:"userdraw",d:""}),k.chart.execute("minutek","*",{t:"userdraw",d:""}),__.dom.f(".g-draw-tool").style.display="none",__.dom.remClass(__.dom.f(".g-clk-draw "),"cur");var g=__.dom.f(".g-draw-tool .cur");g&&__.dom.remClass(g,"cur")},am=function(k){var g=k.substr(0,2),l=k.substr(2);return g==="us"?"http://stockhtm.finance.qq.com/astock/ggcx/"+l+".htm":g==="hk"?"http://stock.qq.com/"+k:"http://finance.qq.com/"};G.CLICK_MAP={fq:function(l,g){var m=l.innerHTML,k=this;__.dom.f(".g-nav-over").style.display="none",this._hover&&!__.dom.hasClass(this._hover,"cur")&&this.clickHandler(this._hover);if(__.dom.hasClass(l,"cur")){return}__.each(__.dom.$(".g-nav-over span"),function(o){o==l?__.dom.addClass(o,"cur"):__.dom.remClass(o,"cur")}),this.chart.setScene("kline2").execute("kline2","*",[{t:"fq",d:g}])},s:function(){this.chart.canvas.size(0,405)},b:function(){this.chart.canvas.size(0,525)},0:function(k){var g=__.dom.$(".g-nav span");for(var l=0;l<g.length;l++){g[l]==k?__.dom.addClass(g[l],"cur"):__.dom.remClass(g[l],"cur")}},1:function(){this.chart.setScene("minute"),F.call(this,"draw normal logarithm"),Q(!0),ax.log(1)},2:function(){this.chart.setScene("minute-5day"),F.call(this,"draw"),F.call(this,"normal logarithm"),Q(!0),ax.log(2)},3:function(){this.chart.setScene("minutek").execute("minutek","*",[{t:"type",d:"minuteK5"},{t:"period",d:5},{t:"date",d:[]}]),F.call(this,"normal logarithm draw",!0),Q(),W(this),ax.log(3)},4:function(){this.chart.setScene("minutek").execute("minutek","*",[{t:"type",d:"minuteK30"},{t:"period",d:30},{t:"date",d:[]}]),F.call(this,"normal logarithm draw",!0),Q(),W(this),ax.log(4)},5:function(){this.chart.setScene("minutek").execute("minutek","*",[{t:"type",d:"minuteK60"},{t:"period",d:60},{t:"date",d:[]}]),F.call(this,"normal logarithm draw",!0),Q(),W(this),ax.log(5)},6:function(){this.chart.setScene("kline").execute("kline","*",[{t:"type",d:"daily"},{t:"style",d:"Mountain"},{t:"date",d:[K(J,"-1y"),J]}]),F.call(this,"draw"),F.call(this,"normal logarithm",!this.chart.isVs),Q(!0),ax.log(6)},7:function(){this.chart.setScene("kline").execute("kline","*",[{t:"type",d:"daily"},{t:"style",d:"Mountain"},{t:"date",d:[K(J,"-3y"),J]}]),F.call(this,"draw"),F.call(this,"normal logarithm",!this.chart.isVs),Q(!0),ax.log(7)},8:function(){this.chart.setScene("kline").execute("kline","*",[{t:"type",d:"daily"},{t:"style",d:"Mountain"},{t:"date",d:[K(J,"-5y"),J]}]),F.call(this,"draw"),F.call(this,"normal logarithm",!this.chart.isVs),Q(!0),ax.log(8)},11:function(){this.chart.setScene("kline2").execute("kline2","*",[{t:"type",d:"daily"},{t:"style",d:"Candlestick"},{t:"date",d:[]}]),F.call(this,"normal logarithm draw",!0),Q(),W(this),ax.log(11)},12:function(){this.chart.setScene("kline2").execute("kline2","*",[{t:"type",d:"weekly"},{t:"style",d:"Candlestick"},{t:"date",d:[]}]),F.call(this,"normal logarithm draw",!0),Q(),W(this),ax.log(12)},13:function(){this.chart.setScene("kline2").execute("kline2","*",[{t:"type",d:"monthly"},{t:"style",d:"Candlestick"},{t:"date",d:[]}]),F.call(this,"normal logarithm draw",!0),Q(),W(this),ax.log(13)},close:function(){this.close();var g=this;__.each(__.dom.$(".g-nav-over span"),function(k){k.className.match(/cur/)&&__.each(__.dom.$(".fq li"),function(l){l.innerHTML==k.innerHTML&&g.clickHandler(l)})}),ax.log(14)},normal:function(k){if(__.dom.hasClass(k,"cur")||__.dom.hasClass(k,"disable")){return}var g=__.dom.f(".g-clk-logarithm");__.dom.remClass(g,"cur"),__.dom.addClass(k,"cur"),this.chart.execute("kline","*",{t:"coordinate",d:""}),this.chart.execute("kline2","*",{t:"coordinate",d:""}),this.chart.execute("minutek","*",{t:"coordinate",d:""}),this.coordinate="normal",ax.log(15)},logarithm:function(k){if(__.dom.hasClass(k,"cur")||__.dom.hasClass(k,"disable")){return}var g=__.dom.f(".g-clk-normal");__.dom.remClass(g,"cur"),__.dom.addClass(k,"cur"),this.chart.execute("kline","*",{t:"coordinate",d:"logarithm"}),this.chart.execute("kline2","*",{t:"coordinate",d:"logarithm"}),this.chart.execute("minutek","*",{t:"coordinate",d:"logarithm"}),this.coordinate="logarithm",ax.log(16)},draw:function(g){if(__.dom.hasClass(g,"cur")||__.dom.hasClass(g,"disable")){return}__.dom.addClass(g,"cur"),__.dom.f(".g-draw-tool").style.display="block",this.clickHandler(__.dom.f(".g-draw-tool .panel > div")),ax.log(18)},share:function(){var l=(__.cookie.get("uin")||__.cookie.get("luin")||"").replace(/o0*/,""),g=G.CLICK_MAP.share,m=function(){__.load("widget.login",function(){__.widget.login.open(function(){g.call(k)},{zIndex:999999})})},k=this;l?(this.share=this.share||new al("#"+this.name+"# "+am(this.symbol),this.chart.canvas.toDataURL(),function(){m()}),this.share.show(this.chart.canvas.toDataURL())):m(),ax.log(19)},"d~c":function(){W(this),ax.log(20)},"d~1":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"segment"}),ax.log(21)},"d~2":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"chengyaxian"}),ax.log(22)},"d~3":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"huiguitongdao"}),ax.log(23)},"d~4":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"rect"}),ax.log(24)},"d~5":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"zhouqixian"}),ax.log(25)},"d~6":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"huangjinfengexian"}),ax.log(26)},"d~7":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"baifenbixian"}),ax.log(27)},"d~8":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"boduanxian"}),ax.log(28)},"d~9":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"feibolaqixian"}),ax.log(29)},"d~10":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"zhangbiaoji"}),ax.log(30)},"d~11":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"diebiaoji"}),ax.log(31)},"d~12":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"wenben"}),ax.log(32)},"d~13":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"select"}),ax.log(33)},"d~14":function(g){U(g)&&this.chart.execute(this.chart.scene,"*",{t:"userdraw",d:"rem"}),ax.log(34)},vs:function(l){var g=l.getAttribute("data-vs").split(", "),m=g[0];if(l.checked){var k=this.chart.addVs(m);ax.log(35),k||(l.checked=!1,__.dom.f(".g-popup .g-vs-tips").style.display="block",__.dom.f(".g-popup .g-vs-tips input").focus())}else{this.chart.remVs(m),ax.log(36),__.dom.f(".g-popup .g-vs-tips input").click()}F.call(this,"normal logarithm",!this.chart.isVs&&this.chart.scene!="minute"&&this.chart.scene!="minute-5day")}},G.prototype.close=function(){if(!this.isOpen){return}this.isOpen=!1,this.chart.setScene(""),this.popup.style.display="none",this.popup.style.opacity="0.0",this.mask.style.display="none",this.container.style.display="none",clearInterval(this.timer),__.event.off(this.popup,"click",this.onclick);if(this._onClose){var g={type:!1,fq:0};__.each(__.dom.$(".g-nav span",this.popup),function(k,l){__.dom.hasClass(k,"cur")&&(g.type=l)}),__.each(__.dom.$(".g-nav-over span",this.popup),function(k,l){__.dom.hasClass(k,"cur")&&(g.fq=l)}),this._onClose(g)}},G.prototype._stat=function(){var g=this;__.load("http://qt.gtimg.cn/"+Math.random()+"&q=marketStat",function(){var l=window.v_marketStat.split("|");for(var o=0;o<l.length;o++){var m=l[o].split("_");if(m[0]==g.symbol.substr(0,2).toUpperCase()){var k=__.dom.f("#g-popup .g-stat");k.innerHTML=m[2],m[2].length==6&&(k.style.fontSize="11px",k.style.paddingLeft="20px",k.style.width="68px",k.style.whiteSpace="nowrap")}}})},G.prototype.open=function(m,k){var o=this,l=__.dom.$(".g-nav span")[m];(k||k==0)&&o.clickHandler(__.dom.$(".g-nav-over span")[k]),l?o.clickHandler(l):o.opend?o.clickHandler(__.dom.f(".g-nav span.cur")):(o.opend=!0,o.clickHandler(__.dom.f(".g-nav span")));if(o.isOpen){return}o.isOpen=!0,o._stat(),o.timer=setInterval(function(){o._stat()},60000),o.popup.style.display="block",o.popup.style.opacity="1.0",o.mask.style.display="block",o.container.style.display="block";var g=__.dom.getWindowXY();o.popup.style.left=(g[0]>o.popup.clientWidth?g[0]-o.popup.clientWidth:0)/2+"px",o.popup.style.top=(g[1]>o.popup.clientHeight?g[1]-o.popup.clientHeight:0)/2+"px",o.container.style.height=__.dom.getDocumentXY()[1]+"px",__.dom.setCenter(o.popup),__.event.on(o.popup,"click",o.onclick)},G.prototype.addVs=function(){var M={};M[this.symbol]=!0;var ay=this._addVs=this._addVs||M,B=arguments,g=B.length,E=__.dom.f(".g-db .right .checkbox"),az=__.dom.f(".g-db .right"),A=this,T=function(m){var l=m.getAttribute("data-vs");if(l&&l.split(", ")[0]==L[0]){m.checked=!0,G.CLICK_MAP.vs.call(A,m);return}};for(var P=0;P<g;P++){var L=B[P];if(ay[L[0]]){__.each(__.dom.$(".g-db .right .checkbox input"),T)}else{ay[L[0]]=!0;var D=E.cloneNode(!0),O=D.getElementsByTagName("input")[0];O.setAttribute("data-vs",L.join(", ")),D.getElementsByTagName("label")[0].innerHTML=L[1],D.style.display="block",az.appendChild(D);var H=D.clientHeight||21,k=az.clientHeight||45;if(D.offsetTop-az.offsetTop+H>=k){if(k==45){az.style.height="66px",az.style.marginTop="15px",k=66}else{var N=__.dom.$(".g-db .right .checkbox");N.pop();while(D.offsetTop-az.offsetTop+H>=k){var S=N.pop();if(!S){break}S.getElementsByTagName("input")[0].checked||__.dom.remEl(S)}}}if(L[2]){var C=this.chart.addVs(L[0]);C?O.checked=!0:(__.dom.f(".g-popup .g-vs-tips").style.display="block",__.dom.f(".g-popup .g-vs-tips input").focus())}}}}}),f("main",["require","exports","module","../../../../chart/base","../../../../chart/kline","../../../../chart/kline2","../../../../chart/minutek","../../../../chart/trend","../../../../chart/trendm","../../../../chart/ma","../../../../chart/subgraph/subgraph","../../../../chart/subgraph/macd","../../../../chart/subgraph/rsi","../../../../chart/subgraph/kdj","../../../../chart/subgraph/dmi","../../../../chart/subgraph/obv","../../../../chart/subgraph/w&r","../../../../chart/subgraph/boll","../../../../chart/subgraph/sar","../../../../chart/volume","../../../../chart/minute","../../../../chart/vs/minute","../../../../chart/minute-5day","../../../../chart/vs/minute-5day","../../../../chart/minute-volume","../../../../util/tool","./cn"],function(ai,R,aa){function G(k){var g=k.substr(0,5);return g=="sh000"||g=="sz399"||g=="sz131"||g=="sh204"}var W=ai("../../../../chart/base"),ae=ai("../../../../chart/kline"),U=ai("../../../../chart/kline2"),Z=ai("../../../../chart/minutek"),P=ai("../../../../chart/trend"),am=ai("../../../../chart/trendm"),ah=ai("../../../../chart/ma"),ac=ai("../../../../chart/subgraph/subgraph"),ak=ai("../../../../chart/subgraph/macd"),af=ai("../../../../chart/subgraph/rsi"),Y=ai("../../../../chart/subgraph/kdj"),aj=ai("../../../../chart/subgraph/dmi"),K=ai("../../../../chart/subgraph/obv"),ab=ai("../../../../chart/subgraph/w&r"),ag=ai("../../../../chart/subgraph/boll"),H=ai("../../../../chart/subgraph/sar"),al=ai("../../../../chart/volume"),J=ai("../../../../chart/minute"),Q=ai("../../../../chart/vs/minute"),z=ai("../../../../chart/minute-5day"),I=ai("../../../../chart/vs/minute-5day"),q=ai("../../../../chart/minute-volume"),D=ai("../../../../util/tool"),V=D.date_shift,ad=ai("./cn"),X=aa.exports=function(k,g){this.symbol=k,this.name=g,this.initDom(),this.initChart(),this.clickHandler(__.dom.f(".h5-panel .nav div"));var l=this;__.each(__.dom.$(".fq li"),function(m){m.innerHTML=="\u524d\u590d\u6743"&&l.clickHandler(m)}),l.clickHandler(__.dom.$(".g-clk-min")[0])};X.prototype.initChart=function(){function T(k){return D.object_extend(k,{w:400,y:270,h:60,color:{down:"#40b936",up:"#ef695f"},grid:{top:!0,fill:"#f0f7fc",stroke:"#d9e6ef"},label:{offset:{left:-10}}},!1,!0)}function o(k){return D.object_extend(k,{facing:!0,w:425,y:233,h:40,grid:{fill:"#f0f7fc",stroke:"#d9e6ef"}},!1,!0)}function l(k){return D.object_extend(k,{w:425,y:285,h:40,tab:{shift:7,w:47,h:15},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"}},!1,!0)}var v=this;this.chart=new W(__.dom.f(".h5-panel .contain"),this.symbol,{width:525,height:401}),this.chart.addSubChart("minute",J,{name:this.name,avg:!0,w:400,y:41,h:186,label:{fill:"#80b9e6",shift:10,offset:{right:50,left:-10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,y:5,w:482,h:26,textY:23,shift:[4,77,192,280,0],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"}}),this.chart.addSubChart("minute",Q,{name:this.name,w:400,y:41,h:186,label:{fill:"#80b9e6",shift:10,offset:{right:50,left:-10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,y:5,w:482,h:26,textY:23,shift:[7,90,190,280,0],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"},autoClose:function(k){v.chart.remVs(k.data[3])}}),this.chart.addSubChart("minute",q,T()),this.chart.addSubChart("minute-5day",z,{name:this.name,avg:!0,w:400,y:41,h:186,label:{fill:"#80b9e6",shift:10,offset:{right:50,left:-10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,y:5,w:482,h:26,textY:23,shift:[7,100,190,280,0],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"}}),this.chart.addSubChart("minute-5day",I,{name:this.name,w:400,y:41,h:186,label:{fill:"#80b9e6",shift:10,offset:{right:50,left:-10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,y:5,w:482,h:26,textY:23,shift:[7,90,190,280],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"},autoClose:function(k){v.chart.remVs(k.data[3])}}),this.chart.addSubChart("minute-5day",q,T({type:"5day"})),this.chart.addSubChart("kline",ae,function(k){v.chart.execute("kline",P,{t:"date",d:k})},{w:425,y:41,h:156,label:{fill:"#80b9e6",shift:10,offset:{right:50,left:-10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,y:5,w:507,h:26,textY:19,shift:[7,7,7,280],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"},useVs:!1});var p=this.chart.addSubChart("kline",P,function(k){v.chart.execute("kline","*",{t:"date",d:k})},null,{showDate:!1,y:345,w:425,grid:{fill:"#f0f7fc",stroke:"#d9e6ef"}});this.chart.addSubChart("kline",al,o());var N=W.CONSTANT["kline-limit"],m=this.chart.addSubChart("kline",ac,l());m.addSubChart("kline",ak,{limit:N}),m.addSubChart("kline",af,{limit:N}),m.addSubChart("kline",Y,{limit:N}),m.addSubChart("kline",aj,{limit:N}),m.addSubChart("kline",K,{limit:N}),m.addSubChart("kline",ab,{limit:N}),m.addSubChart("kline",ag,{limit:N}),m.addSubChart("kline",H,{limit:N}),this.chart.addSubChart("kline",ah,5,"#335fe6","left",{facing:!0,datatype:"volume",w:425,y:233,h:40}),this.chart.addSubChart("kline",ah,10,"#ff6000","middle",{facing:!0,datatype:"volume",w:425,y:233,h:40}),this.chart.addSubChart("kline",ah,20,"#ee6ac5","right",{facing:!0,datatype:"volume",w:425,y:233,h:40});var u=this.chart.addSubChart("minutek",Z,function(k){v.chart.execute("minutek","*",{t:"date",d:k})},{w:425,y:41,h:156,label:{fill:"#80b9e6",shift:10,offset:{right:50,left:10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,y:5,w:507,h:26,textY:19,shift:[7,7,7,280],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"},useVs:!1});this.chart.addSubChart("minutek",ah,5,"#335fe6","left",{limit:N,x:68,y:41,w:425,h:40,offset:30,datatype:"close",labelOffset:15,coord:u.coord}),this.chart.addSubChart("minutek",ah,10,"#ff6000","middle",{limit:N,x:68,y:41,w:425,h:40,offset:30,datatype:"close",labelOffset:15,coord:u.coord}),this.chart.addSubChart("minutek",ah,20,"#ee6ac5","right",{limit:N,x:68,y:41,w:425,h:40,offset:30,datatype:"close",labelOffset:15,coord:u.coord}),this.chart.addSubChart("minutek",am,function(k){v.chart.execute("minutek","*",{t:"date",d:k})},null,{y:345,w:425,grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},useVs:!1}),this.chart.addSubChart("minutek",al,{limit:N,x:67,y:234,w:425,h:40,offset:30});var E=this.chart.addSubChart("minutek",ac,{centerX:!0,y:285,w:425,h:40,tab:{shift:7,w:47,h:15}});E.addSubChart("minutek",ak,{limit:N}),E.addSubChart("minutek",af,{limit:N}),E.addSubChart("minutek",Y,{limit:N}),E.addSubChart("minutek",aj,{limit:N}),E.addSubChart("minutek",K,{limit:N}),E.addSubChart("minutek",ab,{limit:N}),E.addSubChart("minutek",ag,{limit:N}),E.addSubChart("minutek",H,{limit:N}),this.chart.addSubChart("minutek",ah,5,"#335fe6","left",{limit:N,datatype:"volume",w:425,y:233,h:40}),this.chart.addSubChart("minutek",ah,10,"#ff6000","middle",{limit:N,datatype:"volume",w:425,y:233,h:40}),this.chart.addSubChart("minutek",ah,20,"#ee6ac5","right",{limit:N,datatype:"volume",w:425,y:233,h:40});var S=this.chart.addSubChart("kline2",U,function(k){v.chart.execute("kline2","*",{t:"date",d:k})},{fq:{text:"\u524d\u590d\u6743",shift:40},w:425,y:41,h:156,label:{fill:"#80b9e6",shift:10,offset:{right:50,left:-10}},grid:{fill:"#f0f7fc",stroke:"#d9e6ef"},line:{fill:["rgba(175,219,252,1)","rgba(227,242,252,0)"],stroke:"#005d98"},title:{x:7,y:5,w:507,h:26,textY:19,shift:[7,7,7,280],fill:"#f0f7fc",color:"#385e7c",font:'12px arial,"\u5b8b\u4f53"',stroke:"#d9e6ef"}});this.chart.addSubChart("kline2",ah,5,"#335fe6","left",{limit:N,x:68,y:41,w:425,h:156,offset:30,datatype:"close",labelOffset:15,coord:S.coord}),this.chart.addSubChart("kline2",ah,10,"#ff6000","middle",{limit:N,x:68,w:425,y:41,h:156,offset:30,datatype:"close",labelOffset:15,coord:S.coord}),this.chart.addSubChart("kline2",ah,20,"#ee6ac5","right",{limit:N,x:68,w:425,y:41,h:156,offset:30,datatype:"close",labelOffset:15,coord:S.coord});var g=this.chart.addSubChart("kline2",P,function(k){v.chart.execute("kline2","*",{t:"date",d:k})},function(C,k,L,A){},{useVs:!1,showDate:!1,y:345,w:425,grid:{fill:"#f0f7fc",stroke:"#d9e6ef"}});this.chart.addSubChart("kline2",al,o());var s=this.chart.addSubChart("kline2",ac,l({centerX:!0}));s.addSubChart("kline2",ak,{limit:N}),s.addSubChart("kline2",af,{limit:N}),s.addSubChart("kline2",Y,{limit:N}),s.addSubChart("kline2",aj,{limit:N}),s.addSubChart("kline2",K,{limit:N}),s.addSubChart("kline2",ab,{limit:N}),s.addSubChart("kline2",ag,{limit:N}),s.addSubChart("kline2",H,{limit:N}),this.chart.addSubChart("kline2",ah,5,"#335fe6","left",{limit:N,datatype:"volume",w:425,y:233,h:40}),this.chart.addSubChart("kline2",ah,10,"#ff6000","middle",{limit:N,datatype:"volume",w:425,y:233,h:40}),this.chart.addSubChart("kline2",ah,20,"#ee6ac5","right",{limit:N,datatype:"volume",w:425,y:233,h:40})},X.prototype.initDom=function(){this.container=__.dom.f(".h5-panel"),__.dom.f(".h5-panel .contain").innerHTML="",G(this.symbol)&&__.each(__.dom.$(".h5-panel .nav ul"),function(k){__.dom.remEl(k)});var g=this;__.event.on(g.container,"click",function(k){g.clickHandler(k.target)}),__.load("fn-smartbox",function(){var k=__.dom.f(".h5-panel form"),m=__.dom.f('.h5-panel input[type="text"]'),l=__.widget.SmartBox.prototype._hlScroll;__.widget.SmartBox.prototype._hlScroll=function(){},g._smartbox=new __.widget.SmartBox("",{zindex:1999999,autoSelect:!0,inputHint:"\u62fc\u97f3/\u4ee3\u7801/\u540d\u79f0",defaultType:"GP",showAll:!1,adjustLimit:20000,attach:{form:k,type:{value:"GP"},query:m,submit:__.dom.f(".h5-panel button")},onclick:function(o){__.ua.ie&&m.focus();var p={1:"sh",51:"sz"};p[o[2]]&&(m.value=o[1],g.addVs(p[o[2]]+o[1]),F.log(37))}}),__.widget.SmartBox.prototype._hlScroll=l})},X.prototype.clickHandler=function(m){while(m){if(m.className){var k=m.className.split(" ");for(var o=0;o<k.length;o++){var l=k[o];if(l.substr(0,6)==="g-clk-"){l=l.substr(6).split("-");var g=[m].concat(l.slice(1));l=l[0],X.CLICK_MAP[l]&&X.CLICK_MAP[l].apply(this,g)}}}m=m.parentNode}};var B=new Date;B=B.getFullYear()*10000+(B.getMonth()+1)*100+B.getDate();var F=new __.FnBoss(1738,(__.cookie.get("uin")||__.cookie.get("luin")||"").replace(/^o0+/,""));F.log(100);var an=function(g){};X.CLICK_MAP={fq:function(k,g){if(__.dom.hasClass(k,"active")){return}var l="g-clk-fq"+(g?"-"+g:"");__.each(__.dom.$(".h5-panel .nav li"),function(m){__.dom.hasClass(m,l)?__.dom.addClass(m,"active"):__.dom.remClass(m,"active")}),this.chart.setScene("kline2").execute("kline2","*",[{t:"fq",d:g}])},sm:function(){this.chart.canvas.size(0,350),__.dom.f(".h5-panel .vs").style.display="block",__.dom.f(".h5-panel .contain").style.height="350px"},bg:function(){this.chart.canvas.size(0,401),__.dom.f(".h5-panel .vs").style.display="none",__.dom.f(".h5-panel .contain").style.height="401px"},nav:function(k){var g=__.dom.$(".h5-panel .nav div");for(var l=0;l<g.length;l++){g[l]==k?(this._index=l,__.dom.addClass(g[l],"active")):__.dom.remClass(g[l],"active")}},min:function(){this.chart.setScene("minute"),an(!0),F.log(1)},min5:function(){this.chart.setScene("minute-5day"),an(!0),F.log(2)},m5:function(){this.chart.setScene("minutek").execute("minutek","*",[{t:"type",d:"minuteK5"},{t:"period",d:5},{t:"date",d:[]}]),an(!0),F.log(3)},m30:function(){this.chart.setScene("minutek").execute("minutek","*",[{t:"type",d:"minuteK30"},{t:"period",d:30},{t:"date",d:[]}]),an(!0),F.log(4)},m60:function(){this.chart.setScene("minutek").execute("minutek","*",[{t:"type",d:"minuteK60"},{t:"period",d:60},{t:"date",d:[]}]),an(!0),F.log(5)},y1:function(){this.chart.setScene("kline").execute("kline","*",[{t:"type",d:"daily"},{t:"style",d:"Mountain"},{t:"date",d:[V(B,"-1y"),B]}]),an(!0),F.log(6)},y3:function(){this.chart.setScene("kline").execute("kline","*",[{t:"type",d:"daily"},{t:"style",d:"Mountain"},{t:"date",d:[V(B,"-3y"),B]}]),an(!0),F.log(7)},y5:function(){this.chart.setScene("kline").execute("kline","*",[{t:"type",d:"daily"},{t:"style",d:"Mountain"},{t:"date",d:[V(B,"-5y"),B]}]),an(!0),F.log(8)},kd:function(){this.chart.setScene("kline2").execute("kline2","*",[{t:"type",d:"daily"},{t:"style",d:"Candlestick"},{t:"date",d:[]}]),an(),F.log(11)},kw:function(){this.chart.setScene("kline2").execute("kline2","*",[{t:"type",d:"weekly"},{t:"style",d:"Candlestick"},{t:"date",d:[]}]),an(),F.log(12)},km:function(){this.chart.setScene("kline2").execute("kline2","*",[{t:"type",d:"monthly"},{t:"style",d:"Candlestick"},{t:"date",d:[]}]),an(),F.log(13)},pop:function(){if(!this._popChart){var g=this;this._popChart=new ad(this.symbol,this.name,function(k){g.clickHandler(__.dom.$(".h5-panel .nav .fq li")[k.fq]),k.type!==!1&&g.clickHandler(__.dom.$(".h5-panel .nav div")[k.type])})}this._fqSelection=__.dom.f(".fq .active")&&__.dom.f(".fq .active").innerHTML.slice(0,1),this._fqSelection=="\u540e"?this._fqSelection=2:this._fqSelection=="\u524d"?this._fqSelection=1:this._fqSelection=0,this._popChart.open(this._index||0,this._fqSelection)},vs:function(l){var g=l.getAttribute("data-vs").split(", "),m=g[0];if(l.checked){var k=this.chart.addVs(m);F.log(35),k||(l.checked=!1,__.dom.f(".g-popup .g-vs-tips").style.display="block",__.dom.f(".g-popup .g-vs-tips input").focus())}else{this.chart.remVs(m),F.log(36),__.dom.f(".g-popup .g-vs-tips input").click()}}},X.prototype.addVs=function(k){var g=this.chart.addVs(k);if(!g){var l=__.dom.f(".h5-panel .contain .g-vs-tips");l||(l=__.dom.addEl({cls:"g-vs-tips",html:'<div>\u6700\u591a\u540c\u65f6\u5bf9\u6bd45\u53ea\u80a1\u7968\uff0c\u8bf7\u8c03\u6574\u540e\u518d\u8fdb\u884c\u5bf9\u6bd4\u3002</div><input type="button" value="\u786e\u5b9a">'},__.dom.f(".h5-panel .contain")),__.event.on(__.dom.f("input",l),"click",function(){l.style.display="none"})),l.style.display="block"}}}),c.config({paths:{text:"../../vendor/require/text"},map:{"*":{css:"../../vendor/require-css/css"}},shim:{__:{init:function(){return window.__}}}}),f("index",["require","./main"],function(k){if(!document.createElement("canvas").getContext){return}var g=k("./main"),l=new g(g_Symbol,g_Name)}),function(m){var k=document,o="appendChild",l="styleSheet",g=k.createElement("style");g.type="text/css",k.getElementsByTagName("head")[0][o](g),g[l]?g[l].cssText=m:g[o](k.createTextNode(m))}('.Wbforward .Wbforward-title .Wbforward-logo,.Wbforward .Wbforward-box .Wbforward-con .add-img,.Wbforward .Wbforward-box .Wbforward-con .sendBtn,.Wbforward .Wbforward-box .Wbforward-con .thumb-box .select {\r\n	background: url(http://mat1.gtimg.com/finance/images/stock/p/hqhk_gg/flashpanel/wbforward.png) no-repeat;\r\n}\r\n\r\n.Wbforward {\r\n	background: #fafcff;\r\n	border: 1px solid #b5c1ca;\r\n	position: absolute;\r\n	width: 602px;\r\n}\r\n\r\n.Wbforward .Wbforward-title {\r\n	background: url(http://mat1.gtimg.com/finance/images/stock/p/hqhk_gg/flashpanel/wbforward-title.png) repeat-x;\r\n	height: 25px;\r\n}\r\n\r\n.Wbforward .Wbforward-title .Wbforward-logo {\r\n	background-position: -86px 0;\r\n	float: left;\r\n	width: 10px;\r\n	height: 14px;\r\n	margin: 6px 7px;\r\n	display: inline;\r\n}\r\n\r\n.Wbforward .Wbforward-title .Wbforward-hello {\r\n	float: left;\r\n	color: #666666;\r\n	line-height: 25px;\r\n}\r\n\r\n.Wbforward .Wbforward-box {\r\n	margin: 15px auto;\r\n	overflow: hidden;\r\n	width: 570px;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .opt-pos {\r\n	height: 20px;\r\n	font: 12px/1.231 Tahoma,Arial,"Simsun";\r\n	color: #666666;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .opt-pos a {\r\n	height: 20px;\r\n	font: 12px/1.231 Tahoma,Arial,"Simsun";\r\n	color: #666666;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .opt-pos .at {\r\n	float: left;\r\n	height: 20px;\r\n	line-height: 20px;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .opt-pos .nums {\r\n	float: right;\r\n	padding-right: 15px;\r\n	text-align: right;\r\n	vertical-align: middle;\r\n	height:25px;\r\n	overflow: hidden;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .opt-pos .nums em {\r\n	position: relative;\r\n	font-family: Georgia,Tahoma,Arial;\r\n	font-size: 20px;\r\n	font-style: normal;\r\n	vertical-align: middle;\r\n}\r\n.Wbforward .Wbforward-box .Wbforward-con .opt-pos .nums em.error {\r\n	color:#E56C0A;\r\n}\r\n.Wbforward .Wbforward-box .Wbforward-con .text-con {\r\n	line-height: 20px;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .text-con .contentArea {\r\n	border: 1px solid #D0D0D0;\r\n	border-radius: 6px 6px 6px 6px;\r\n	font-family: Tahoma,Arial;\r\n	font-size: 12px;\r\n	height: 66px;\r\n	line-height: 21px;\r\n	margin: 0 auto;\r\n\r\n	-ms-overflow-y: auto;\r\n	overflow-y: auto;\r\n	width: 98%;\r\n	word-wrap: break-word;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .add-img {\r\n	width: 120px;\r\n	padding: 5px 0 5px 25px;\r\n	background-position: -105px -25px;\r\n	line-height: 20px;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .add-img a {\r\n	color: #2B4A78;\r\n	text-decoration: none;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .add-img a:hover {\r\n	text-decoration: underline;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .cast-bt {\r\n	padding-top: 6px;\r\n	float: right;\r\n	width: 85px;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .sendBtn {\r\n	width: 86px;\r\n	height: 32px;\r\n	margin: 0;\r\n	padding: 0;\r\n	border: none;\r\n	background-position: 0 0;\r\n	cursor: pointer;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .thumb-box {\r\n	width: 156px;\r\n	position: relative;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .thumb-box img {\r\n	border: 3px solid #74cbec;\r\n}\r\n\r\n.Wbforward .Wbforward-box .Wbforward-con .thumb-box .select {\r\n	background-position: -108px 0;\r\n	height: 15px;\r\n	position: absolute;\r\n	right: 10px;\r\n	bottom: 12px;\r\n	width: 19px;\r\n	z-index: 1;\r\n}\r\n\r\n.Wbforward .popBox {\r\n	background: none repeat scroll 0 0 #FFFFFF;\r\n	padding: 13px 30px 17px;\r\n}\r\n\r\n.Wbforward .popBox .ico_tsW {\r\n	float: none;\r\n	position: absolute;\r\n	display: inline;\r\n	height: 21px;\r\n	margin-left: 8px;\r\n	margin-right: 8px;\r\n	overflow: hidden;\r\n	width: 21px;\r\n}\r\n\r\n.Wbforward .popBox .ico_tsW .ico_ts {\r\n	background: url("http://mat1.gtimg.com/www/mb/images/b4_101112.png") no-repeat scroll 0 0 transparent;\r\n	display: block;\r\n	height: 100%;\r\n	width: 100%;\r\n}\r\n\r\n.Wbforward .popBox h2 {\r\n	font: 18px/21px "MicroSoft YaHei","Simhei";\r\n	padding-left: 37px;\r\n}\r\n\r\n.Wbforward .closeX {\r\n	position: absolute;\r\n	right: 0;\r\n	top: 5px;\r\n	width: 20px;\r\n	height: 20px;\r\n	font-family: Verdana;\r\n	font-size: 11px;\r\n	color: #666;\r\n	cursor: pointer;\r\n}\r\n\r\n.Wbforward .publishMsg {\r\n	position: absolute;\r\n	top: 70px;\r\n	top: 64px9;\r\n	_top: 66px;\r\n	left: 18px;\r\n	display: none;\r\n	overflow: hidden;\r\n	height: 60px;\r\n	background: #FFF;\r\n}\r\n\r\n.Wbforward .countTxt em {\r\n	top: -5px;\r\n}.g-popup-container {\r\n  position: absolute;left:0px;right:0px;top:0px;bottom:0px;\r\n  display: none;\r\n  z-index: 999999;\r\n}\r\n\r\n.g-popup-mask {\r\n  position: absolute;left:0px;right:0px;top:0px;bottom:0px;\r\n  background:black;opacity: 0.7;\r\n  display: none;\r\n  z-index: -2;\r\n}\r\n.g-popup {position:absolute;width:814px;\r\n\r\n  opacity:0;display:none; \r\n                  /* \u5b9a\u4e49\u52a8\u753b\u7684\u8fc7\u7a0b */\r\n                  -webkit-transition: opacity .2s ease-in;\r\n                  -moz-transition:    opacity .2s ease-in;\r\n                  -o-transition:      opacity .2s ease-in;\r\n                  transition:         opacity .2s ease-in;\r\n                }\r\n.g-popup .g-main {display: absolute;left:0px;top:0px;width:100%;height:100%;bottom:0px;right:0px;\r\nborder-radius: 4px;border: 1px solid rgba(76,76,76,0.5);box-shadow: 0px 0px 5px #333333;\r\nz-index: 2;\r\n}\r\n.g-popup .g-bg {background:url(http://mat1.gtimg.com/finance/images/stock/p/quotpage/bg20130321.png) no-repeat;}\r\n                .g-popup iframe {width:814px;height:600px;position:absolute;top:0px;left:0px;z-index:-1;}\r\n                .g-popup .g-title {width:100%;height:39px;background: #c2dcee;}\r\n                .g-popup .g-name {color:#0062a5;font-size:14px;font-family:Yahei;float:left;margin-left:20px;height:39px;line-height:39px;text-shadow:0 0 1px rgba(255,255,255,0.5);}\r\n                .g-popup .g-code {color:#5396c3;font-size:14px;font-family:"Helvetica LT Std",Yahei;float:left;margin-left:7px;height:39px;line-height:39px;text-shadow:0 0 1px rgba(255,255,255,0.5);}\r\n                .g-popup .g-stat {font:12px SimSun;color:#1c628d;float:left;width:62px;padding-left:28px;height:23px;line-height:23px;margin-left:27px;margin-top:8px;}\r\n                .g-popup .g-close {position:absolute;top:6px;right:31px;cursor:pointer;width:28px;height:28px;background-position: 0 -89px;}\r\n                .g-popup .g-nav {width:100%;height:33px;line-height:33px;background-position:0 -23px;background-repeat:repeat-x;font-size:14px;font-family:Arial;overflow:hidden;}\r\n                .g-popup .g-nav div.left {height:33px;padding:0 5px 0 13px;background-position:0 -56px;background-repeat:repeat-x;float:left;}\r\n                .g-popup .g-nav span{\r\n                  font-size:14px;font-family:Arial;display:block;float:left;color:#fff;text-align:center;cursor:pointer;width:60px;height:27px;line-height:27px;margin-top:8px;}\r\n                .g-popup .g-nav span.cur {background: #fff;cursor:default;color:#2da9ff;}\r\n                .g-popup .g-nav div.line {width:1px;height:32px;margin-top:1px;background:#529bcd;float:left;margin-right:5px;}\r\n                .g-popup .g-nav-over {\r\n                  position: absolute;\r\n                  z-index: 1;\r\n                  border:none;\r\n                  display: none;\r\n                  width:82px;\r\n                  height:90px;\r\n                  padding-top:17px;\r\n                  top:68px;\r\n                  background-position:0 -579px;\r\n                }\r\n                .g-popup .g-nav-over span {\r\n                  margin:3px 0 3px 7px;\r\n                  font-size:14px;\r\n                  font-family:Arial;display:block;color:#fff;text-align:center;cursor:pointer;\r\n                  width:66px;height:24px;line-height:24px;\r\n                  border-radius: 12px;\r\n                }\r\n                .g-popup .g-nav-over span.cur {\r\n                  background: #3797f1;\r\n                }\r\n                .g-popup .g-nav-over span:hover {\r\n                  background: #3797f1;\r\n                }\r\n                .g-popup .g-content {width:100%;height:auto;background: #ffffff;overflow: hidden;\r\n                  /* \u5b9a\u4e49\u52a8\u753b\u7684\u8fc7\u7a0b */\r\n                  -webkit-transition: height .2s ease-in;\r\n                  -moz-transition:    height .2s ease-in;\r\n                  -o-transition:      height .2s ease-in;\r\n                  transition:         height .2s ease-in;\r\n                }                \r\n.g-popup .g-option {position:absolute;top:82px;right:-57px;width:57px;background:#ccc9c7;\r\n  border-radius:0 4px 4px 0;\r\n  box-shadow:0px 0px 5px #333333;\r\n  z-index: -1;\r\n  padding:15px 0 15px 0;\r\n  overflow-x:hidden;\r\n}\r\n.g-popup .g-option div {width:58px;height:36px;line-height:36px;text-align:center;color:#474443;font-size:13px;font-family:YaHei;cursor: pointer;}\r\n.g-popup .g-option div.disable {color:#a8a5a3;cursor:default;}\r\n.g-popup .g-option div.cur {color:#ffffff;cursor:default;background:#6f6259;box-shadow: inset 0px 0px 1px 1px rgba(0,0,0,0.5);}\r\n\r\n\r\n.g-popup .g-draw-tool {position:absolute;top:48px;right:-1px;width:60px;\r\n  border:1px solid #bab5b5;\r\n  background:rgba(237,237,237,0.9);\r\n  border-radius:4px 4px;\r\n  z-index: 3;\r\n  display: none;\r\n}\r\n.g-popup .g-draw-tool .bar {height:23px;border-bottom:1px solid #bab5b5;\r\n  background: -moz-linear-gradient(top,rgba(255,255,255,0.5),rgba(255,255,255,0) 17px,rgba(184,191,197,1));\r\n  background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(255,255,255,0.5)), to(rgba(184,191,197,1)), color-stop(.75,rgba(255,255,255,0)));\r\n  position: relative;\r\n}\r\n.g-popup .g-draw-tool .bar div:first-child {\r\n    position:absolute;left:6px;top:8px;width:9px;height:9px;background-position:-39px -89px;}\r\n.g-popup .g-draw-tool .bar div:last-child {\r\n    cursor:pointer;position:absolute;right:6px;top:7px;width:10px;height:10px;background-position:-48px -89px;}\r\n.g-popup .g-draw-tool .arrow {width:11px;height:10px;background-position:-28px -89px;\r\n  position: absolute;right:-11px;top:130px;\r\n}\r\n.g-popup .g-draw-tool .panel >div {width:34px;height:34px;margin:1px auto;cursor:pointer;border:1px solid transparent;}\r\n.g-popup .g-draw-tool .panel >div div {width:33px;height:33px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(1) div {background-position:0 -117px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(2) div {background-position:0 -150px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(3) div {background-position:0 -183px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(4) div {background-position:0 -216px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(5) div {background-position:0 -249px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(6) div {background-position:0 -282px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(7) div {background-position:0 -315px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(8) div {background-position:0 -348px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(9) div {background-position:0 -381px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(10) div {background-position:0 -414px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(11) div {background-position:0 -447px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(12) div {background-position:0 -480px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(13) div {background-position:0 -513px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(14) div {background-position:0 -546px;}\r\n.g-popup .g-draw-tool .panel >div.cur div {border:1px solid #8d8581;}\r\n.g-popup .g-draw-tool .panel >div.cur {cursor:default;background:#887e77;box-shadow:inset 0 0 18px rgba(62,53,47,0.31);\r\nborder:1px solid #ffffff;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(1).cur div {background-position:-33px -117px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(2).cur div {background-position:-33px -150px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(3).cur div {background-position:-33px -183px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(4).cur div {background-position:-33px -216px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(5).cur div {background-position:-33px -249px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(6).cur div {background-position:-33px -282px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(7).cur div {background-position:-33px -315px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(8).cur div {background-position:-33px -348px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(9).cur div {background-position:-33px -381px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(10).cur div {background-position:-33px -414px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(11).cur div {background-position:-33px -447px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(12).cur div {background-position:-33px -480px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(13).cur div {background-position:-33px -513px;}\r\n.g-popup .g-draw-tool .panel >div:nth-child(14).cur div {background-position:-33px -546px;}\r\n\r\n\r\n.g-popup .g-db {height:92px;width:100%;background:#dde8f3;}\r\n.g-popup .g-db .border {width:100%;height:0px;border-top:1px solid #c2dffb;border-bottom:1px solid #ffffff;}\r\n.g-popup .g-db .left {float:left;margin:8px 0 0 35px;width:352px;height:52px;}\r\n.g-popup .g-db .left div:nth-child(1) {height:27px;line-height:27px;color:#81a1c4;font-family:simsun;font-size:12px;}\r\n.g-popup .g-db .left input[type=\'text\'] {\r\n    float: left;\r\n    padding:0 0 0 13px;\r\n    height:32px;width:237px;border:1px solid #a0b5cb;border-right:none;\r\n    box-shadow:0 0 1px #FFFFFF,inset 0 0 1px rgba(0,0,0,0.4);background:#f5fbff;color:#b3b6b8;\r\n    font-size:12px;\r\n  }\r\n.g-popup .g-db .left input[type=\'submit\'] {\r\n  float: left;\r\n  width:77px;height:34px;\r\n  background:#4f90c1;\r\n  border:none;\r\n  border-top:1px solid #8db5d8;\r\n  border-bottom:1px solid #356790;\r\n  font-size:13px;font-family:YaHei;color:#ffffff;\r\n  text-shadow:0 0 1px rgba(0,0,0,0.3);\r\n  box-shadow:0 0 2px #1a5481,inset 0 0 1px #70b6eb;\r\n}\r\n.g-popup .g-db .mid {float:left;height:51px;width:0px;margin-top:19px;border-right:1px solid #c2dffb;border-left:1px solid #ffffff;}\r\n.g-popup .g-db .right {\r\n  float:left;width:392px;\r\n  color:#81a1c4;\r\n  font-size:12px;font-family:simsun;\r\n  margin-top: 30px;\r\n  height:45px;overflow: hidden;\r\n}\r\n.g-popup .checkbox {\r\n  position:relative;\r\n  float: left;\r\n  height:21px;line-height:21px;\r\n}\r\n.g-popup .checkbox input {\r\n  position:absolute;\r\n  width:100%;\r\n  height:100%;\r\n  z-index:100;\r\n  opacity:0;\r\n  cursor:pointer;\r\n  left:0px;top:0px;\r\n}\r\n.g-popup .checkbox span {\r\n  display:block;\r\n  float:left;\r\n  width:10px;height:10px;\r\n  box-shadow:0 0 1px #ffffff;\r\n  border:1px solid #638eb0;\r\n  background:#ffffff;\r\n  color:transparent;\r\n  text-shadow: 0 0 1px rgba(0,0,0,0.68),inset 0 0 1px rgba(19,62,107,0.65);\r\n  margin:5px 10px 5px 10px;\r\n}\r\n.g-popup .checkbox label{\r\n  height:21px;line-height: 21px;display: block;float:left;\r\n}\r\n.g-popup .checkbox input:checked ~ span{\r\n  color:#ffffff;\r\n  background:#8caccd;\r\n  font-size:14px;\r\n  line-height: 14px;\r\n} \r\n/*    .g-popup {border:1px solid rgb(76,76,76);\r\n                    filter:progid:DXImageTransform.Microsoft.Shadow(color=#333333,direction=0,strength=5)\r\n                           progid:DXImageTransform.Microsoft.Shadow(color=#333333,direction=90,strength=5)\r\n                           progid:DXImageTransform.Microsoft.Shadow(color=#333333,direction=180,strength=5)\r\n                           progid:DXImageTransform.Microsoft.Shadow(color=#333333,direction=270,strength=5);\r\n                }\r\n.g-popup .g-close {top:10px;}*/\r\n\r\n.g-popup .g-vs-tips {\r\n  display: none;\r\n  width:314px;\r\n  height:189px;\r\n  position: absolute;\r\n  left:200px;\r\n  top:200px;\r\n  background: #f5fbff;\r\n  box-shadow: 2px 4px 5px 0px rgba(2,30,49,0.62),inset 0px -1px rgba(8,27,40,0.75)\r\n}\r\n.g-popup .g-vs-tips div{\r\n  font-family: "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu;\r\n  font-size: 14px;\r\n  color:#105787;\r\n  margin-top:60px;\r\n  width:100%;\r\n  text-align: center;\r\n}\r\n.g-popup .g-vs-tips input{\r\n  display: block;\r\n  margin:33px auto;\r\n  width:130px;\r\n  height:43px;\r\n  color:#ffffff;\r\n  font:bold 18px "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu;\r\n  text-shadow:0.5px 1px 1px rgba(0,0,0,0.33);\r\n  background: #2989cb;\r\n  background-image: -webkit-gradient(linear, center top, center bottom, from(#59aae2), to(#2989cb));\r\n  background-image: -webkit-linear-gradient(top, #59aae2, #2989cb);\r\n  background-image: -moz-linear-gradient(top, #59aae2, #2989cb);\r\n  background-image: -o-linear-gradient(top, #59aae2, #2989cb);\r\n  background-image: -ms-linear-gradient(top, #59aae2, #2989cb);\r\n  background-image: linear-gradient(to bottom, #59aae2, #2989cb);\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#59aae2\', endColorstr=\'#2989cb\',GradientType=1 ); /* IE6-9 */\r\n  /*-webkit-box-shadow: 1px 2px 0 #3075a4,inset 0.5px 2px 0 rgba(255,255,255,0.3);\r\n  -moz-box-shadow: 1px 2px 0 #3075a4,inset 1px 2px 0 rgba(255,255,255,0.3);*/\r\n  box-shadow: 1px 2px 2px #3075a4,inset 1px 2px 1px rgba(255,255,255,0.3);\r\n  border-radius: 5px;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\ntable.DynarchCalendar-titleCont {margin-left:auto;margin-right: auto;}\r\n.DynarchCalendar table{margin:auto;}'),a(["index"])})();if(document.createElement("canvas").getContext){__.dom.f("#mod-flashpanel").style.display="none";__.dom.f(".h5-panel").style.display="block";try{__.QosSS.set("flashpanel")}catch(e){}}else{__.dom.f("#mod-flashpanel").style.display="block";__.dom.f(".h5-panel").style.display="none";var _getFlashVersion=function(){var c=false,d=null;if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){c=a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")[0]}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){d=1;var b=3;while(d){try{b++;d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);c=b}catch(l){d=null}}}else{try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(k){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");c=6;d.AllowScriptAccess="always"}catch(g){if(c==6){return c}}try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(f){}}if(d!==null&&d!==undefined){c=d.GetVariable("$version").split(" ")[1].split(",")[0]}}}return c};__.flashVersion=_getFlashVersion();if(__.flashVersion>=9){__.app.stock.quotpage.flashmgr.init(g_Symbol);__.app.stock.quotpage.flashmgr.refreshQuot(window["v_"+g_Symbol]);_fdp_init(_fdp_conf.flashCtn,window["v_"+g_Symbol])}else{var tmpEl=$("ykc105");if(tmpEl){tmpEl.style.display="none"}}try{var ktype=location.search.match(/[?|&]ktype=([0-9]*)/)}catch(e){var ktype=false}var gImgs=["19","6","7","8","9","10","11","12","13","14","16","17","18","20","21","22"];ktype=ktype&&ktype[1];if(ktype!==null&&gImgs){if(ktype=="6"){ktype=101}else{if(ktype=="13"){ktype=102}else{for(var i=0;i<gImgs.length;i++){if(ktype==gImgs[i]){ktype=i;break}}}}}var url="http://img.gtimg.cn/images/",urlk=url+"kline/hushen/stocks/",urlt=url+"techindex/hushen/stocks/",code=g_Code;__.app.stock.quotpage.quotimg.init({img:[[url+"hq_parts/hushen/stocks/"+code+".png","\u5206\u65f6\u56fe",30],[urlk+"day/"+code+".png","\u65e5K\u7ebf",0],[urlk+"one_month/"+code+".png","\u65e5K\u7ebf-1\u6708",0],[urlk+"three_month/"+code+".png","\u65e5K\u7ebf-3\u6708",0],[urlk+"six_month/"+code+".png","\u65e5K\u7ebf-6\u6708",0],[urlk+"one_year/"+code+".png","\u65e5K\u7ebf-1\u5e74",0],[urlk+"two_year/"+code+".png","\u65e5K\u7ebf-2\u5e74",0],[urlk+"three_year/"+code+".png","\u65e5K\u7ebf-3\u5e74",0],[urlk+"week/"+code+".png","\u5468K\u7ebf",0],[urlk+"month/"+code+".png","\u6708K\u7ebf",0],[urlk+"min_5/"+code+".png","5\u5206\u949fK\u7ebf",5*60],[urlk+"min_30/"+code+".png","30\u5206\u949fK\u7ebf",30*60],[urlk+"min_60/"+code+".png","60\u5206\u949fK\u7ebf",60*60],[urlt+"macd/"+code+".png","MACD\u6280\u672f\u56fe",0],[urlt+"kdj/"+code+".png","KDJ\u6280\u672f\u56fe",0],[urlt+"rsi/"+code+".png","RSI\u6280\u672f\u56fe",0]],id:ktype,zoomCfg:{"mod-flashpanel":[{overflow:"hidden"},{overflow:"visible"}]},sub_doms:"mod-txbp lb1 wbforward-btn main-quotinfo-col-2 mod-tools mod-xggp mod-xgbk emoney-ad flash-ad-1 flash-ad"});__.QosSS.set("flashpanel")}(function(){var c=__,d="__.app.stock.quotpage.related",b="1.1.0",a=(function(){var u=c.Lang,p=c.config.win,B=c.Dom,k=c.Table,A=k.processors,o=[],l=0,g=function(C){if(l==C){return}l=C;if(l==1){s()}},s=function(C){if(__.lang.isFunction(C)){o.push(C)}if(l==1){__.each(o,function(D){D()})}},z=9,m={list:""},q=false,t=function(){u.e(B.$(".suspension"),function(D){if(D.title){return}var C=D.getAttribute("symbol");if(C){if(p["suspension_"+C]){D.title=p["suspension_"+C]["REASON"]+" "+p["suspension_"+C]["PERIOD"];D.href="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+C.substr(2)+".htm#notice"}else{c.load("http://stockjs.finance.qq.com/sstock/list/suspension/js/"+C+".js?"+Math.random(),(function(){var F=D,E=C;return function(){if(p["suspension_"+E]){F.title=p["suspension_"+E]["REASON"]+" "+p["suspension_"+E]["PERIOD"];F.href="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+E.substr(2)+".htm#notice"}else{F.title="\u505c\u724c"}}}()))}}})},f=function(C){var D=__.dom.f("#mod-xggp .xggp-data"),G,F;__.each(C.split(","),function(H){G=__.global["v_"+H],F=__.dom.f(".xggp-"+H,D);if(G&&D){G=G.split("~");F.innerHTML=G[8].indexOf("S")>0?('<a class="fc1 suspension" symbol="'+__.fnTable.mapNumMarket[G[0]]+G[2]+'">\u505c\u724c</a>'):(G[3]+"&nbsp;"+__.fnTable.processors.GET_PERCENT(G[5]))}});t();g(1);try{__.app.QosSS.set("SetXgData")}catch(E){}},v=function(C){if(q){return}for(var F in C){m[F]=C[F]}if(!("cron" in C)){m.cron=new __.CronLoader()}var D=[],E=__.dom.f("#mod-xggp .xggp-data");__.load("tools",function(){__.tools.ifLoad("http://ifzq.gtimg.cn/stock/relate/data/relate?code="+g_Symbol,function(G){__.each(G,function(H){if(D.length>=6){return}D.push("s_"+H.code);__.dom.addEl({tag:"li",html:['<span><a title="',H.name,"(",H.code,')" href="',__.fnTable.getPageUrl(H.code.substr(2),H.code.substr(0,2)=="sh"?1:51),'?pgv_ref=fi_quote_related_stock">',H.name,'</a></span> (<span class="xggp-s_',H.code,'">--</span>)'].join("")},E)});m.cron.subscribe({name:"relatedStocks",qtName:D.join(","),interval:4,judge:4,noWait:true,onOk:function(H){f(this.qtName)}})})});if(!("cron" in C)){m.cron.start()}q=true};return{init:v,onReady:s}}());c.set(d,a)}());__.app.stock.quotpage.related.onReady(function(){__.QosSS.set("xggp")});__.app.stock.quotpage.related.init({});(function(){var c=__,b="1.0.0",d="__.app.stock.quotpage.xgbk",a=(function(){var C=c.Dom,z=c.Lang,o=c.config.win,t=c.Table,m=t.processors,B=false,g=false,k=false,u=null,q={},A=[],f=0,E=function(F){if(f==F){return}f=F;if(f==1){p()}},p=function(F){if(__.lang.isFunction(F)){A.push(F)}if(f==1){__.each(A,function(G){G()})}},v=function(F){z.e(B,function(H){var G=H.getAttribute("bkqt");if(G&&o["v_bkqt"+G]){var I=o["v_bkqt"+G].split("~");H.innerHTML=m.GET_PERCENT(parseFloat(I[8]).toFixed(2));o["v_bkqt"+G]=null}});E(1)},D=function(){if(u){q.cron._run(u)}else{u=q.cron.subscribe({noWait:true,qtName:g.join(","),interval:10,judge:10,onOk:function(){v();keys=s().join(",");if(this.qtName!=keys){this.qtName=keys;q.cron._run(u)}}})}},s=function(){if(g){return g}var H=C.f("#mod-xgbk .xgbk-data"),G=__.global.g_Xgbk,F=[];if(G&&G.length>0){__.each(G,function(I){F.push("bkqt"+I.code);__.dom.addEl({tag:"li",html:['<a href="http://stockapp.finance.qq.com/mstats/#mod=list&amp;id=bd',I.code,'" target="_blank">',I.name,'</a><span bkqt="',I.code,'" class="xgbk-zdf">--</span>'].join("")},H)});B=C.$(".xgbk-zdf",H)}else{__.dom.f("#mod-xgbk .xgbk-none").style.display="block"}return F},l=function(F){if(k){return}z.objExtend(q,F);if(!("cron" in F)){q.cron=new c.CronLoader()}var G=C.f("#mod-xgbk .xgbk-data");__.load("tools",function(){__.tools.ifLoad("http://ifzq.gtimg.cn/stock/relate/data/plate?code="+g_Symbol,function(H){g=[];__.each(H,function(I){if(g.length>4){return}g.push("bkqt"+I.code);__.dom.addEl({tag:"li",html:['<a href="http://stockapp.finance.qq.com/mstats/#mod=list&amp;id=bd',I.code,'" target="_blank">',I.name,'</a><span bkqt="',I.code,'" class="xgbk-zdf">--</span>'].join("")},G)});B=C.$(".xgbk-zdf",G);D()})});if(!("cron" in F)){q.cron.start()}k=true};return{init:l,onReady:p}}());c.set(d,a)}());__.app.stock.quotpage.xgbk.onReady(function(){__.QosSS.set("xgbk")});__.app.stock.quotpage.xgbk.init({cron:_CRON});(function(){var c=__,d="__.app.stock.quotpage.rt_zjlx",b="1.0.0",a=(function(){var l=null;var C="";var G="";var B={ff_zhuli_data:null,ff_sanhu_data:null,today_net_in_data:null};var E=[],g=0,K=function(L){if(g==L){return}g=L;if(g==1){z()}},z=function(L){if(__.lang.isFunction(L)){E.push(L)}if(g==1){__.each(E,function(M){M()})}};var p=function(L){var M=[];M.push('<table border="0" align="center" cellpadding="0" cellspacing="0" width="238" style="margin-left:6px;_width:230px;">');M.push("    <tr>");M.push("        <td>");M.push('            <div style="text-align:left;margin-top:3px;">\u4eca\u65e5\u4e3b\u529b\u589e\u51cf\u4ed3:<div class="il" id="net_in_value"></div> <div class="il" style="color:#868686;font-weight:normal;padding-right:15px;*padding-right:5px;float:right;_float:none;_padding-left:35px;">\u5355\u4f4d(<div class="il" id="in_out_unit"></div>)</div></div>');M.push("        </td>");M.push("    </tr>");M.push('    <tr height="95">');M.push('        <td colspan="2" align="center" class="vab" valign="bottom" style="cursor:pointer" title="\u70b9\u51fb\u67e5\u770b\u4e3b\u529b\u52a8\u5411" onclick="__.app.stock.quotpage.rt_zjlx.gotoFlowPage();">');M.push('            <div style="position:relative;">');M.push('                <div class="bar_obj zhuli_in_bar">');M.push('                    <div id="zhuli_in_text" class="bar_text"></div>');M.push('                    <div id="zhuli_in_bar" class="bar red_bar" style="height:0;"></div>');M.push("                </div>");M.push('                <div class="bar_obj zhuli_out_bar">');M.push('                    <div id="zhuli_out_text" class="bar_text"></div>');M.push('                    <div id="zhuli_out_bar" class="bar green_bar" style="border-top:1px solid #1DA309;border-bottom:none;height:0;"></div>');M.push("                </div>");M.push('                <div class="bar_obj sanhu_in_bar">');M.push('                    <div id="sanhu_in_text" class="bar_text"></div>');M.push('                    <div id="sanhu_in_bar" class="bar red_bar" style="height:0;"></div>');M.push("                </div>");M.push('                <div class="bar_obj sanhu_out_bar">');M.push('                    <div id="sanhu_out_text" class="bar_text"></div>');M.push('                    <div id="sanhu_out_bar" class="bar green_bar" style="border-top:1px solid #1DA309;border-bottom:none;height:0;"></div>');M.push("                </div>");M.push("            </div>");M.push('            <div class="ruler"></div><div class="ruler nolb"></div>');M.push("        </td>");M.push("    </tr>");M.push('    <tr align="" style="height:25px;">');M.push("        <td>");M.push('            <div class="desc_zhuli">\u4e3b\u529b</div>');M.push('            <div class="desc_sanhu">\u6563\u6237</div>');M.push("        </td>");M.push("    </tr>");M.push("    <tr>");M.push('        <td style="text-align:left;">');M.push('            <div class="il fc1" style="margin-left:3px;"><a href="http://finance.qq.com/data/?ggzlzc" target="_blank" boss="14001">\u4eca\u65e5\u4e3b\u529b\u589e\u4ed3\u524d50\u540d</a></div>');M.push('            <div class="il fc1" style="margin-left:10px;"><a href="http://finance.qq.com/data/?ggwrzc" target="_blank" boss="14002">5\u65e5\u4e3b\u529b\u589e\u4ed3\u524d50\u540d</a></div>');M.push("        </td>");M.push("    </tr>");M.push("    <tr>");M.push("        <td>");M.push('            <div class="dotted_line" style="width: 226px; margin: 5px 0; _width:220px; font-size:1px;line-height:1px;*margin-right:10px;"></div>');M.push("        <td>");M.push("    </tr>");M.push("    <tr>");M.push("        <td>");M.push('            <div style="font-weight:bold;text-align:left;">\u6700\u8fd15\u65e5\u4e3b\u529b\u589e\u51cf\u4ed3 <div class="il" style="color:#868686;font-weight:normal;padding-right:15px;float:right;_float:none;_padding-right:0;_padding-left:40px;">\u5355\u4f4d(<div class="il" id="nday_unit"></div>)</div></div>');M.push("        </td>");M.push("    </tr>");M.push('    <tr height="90">');M.push("    <td>");M.push('        <div style="position:relative;height:10px;" id="nday_red_bar_list">');M.push('            <div class="bar_obj nday_red_bar nday_red_bar_1">');M.push('                <div class="bar_text"></div>');M.push('                <div class="bar red_bar" style="height:0;"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_red_bar bar nday_red_bar_2">');M.push('                <div class="bar_text"></div>');M.push('                <div class="bar red_bar" style="height:0;"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_red_bar bar nday_red_bar_3">');M.push('                <div class="bar_text"></div>');M.push('                <div class="bar red_bar" style="height:0;"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_red_bar bar nday_red_bar_4">');M.push('                <div class="bar_text"></div>');M.push('                <div class="bar red_bar" style="height:0;"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_red_bar bar nday_red_bar_5">');M.push('                <div class="bar_text"></div>');M.push('                <div class="bar red_bar" style="height:0;"></div>');M.push("            </div>");M.push("        </div>");M.push('        <div class="liner"></div>');M.push('        <div style="position:relative;" id="nday_green_bar_list">');M.push('            <div class="bar_obj nday_green_bar nday_green_bar_1">');M.push('                <div id="zhuli_in_bar" class="bar green_bar" style="height:0;"></div>');M.push('                <div class="bar_text"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_green_bar nday_green_bar_2">');M.push('                <div id="zhuli_in_bar" class="bar green_bar" style="height:0;"></div>');M.push('                <div class="bar_text"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_green_bar nday_green_bar_3">');M.push('                <div id="zhuli_in_bar" class="bar green_bar" style="height:0;"></div>');M.push('                <div class="bar_text"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_green_bar nday_green_bar_4">');M.push('                <div id="zhuli_in_bar" class="bar green_bar" style="height:0;"></div>');M.push('                <div class="bar_text"></div>');M.push("            </div>");M.push('            <div class="bar_obj nday_green_bar nday_green_bar_5">');M.push('                <div id="zhuli_in_bar" class="bar green_bar" style="height:0;"></div>');M.push('                <div class="bar_text"></div>');M.push("            </div>");M.push("        </div>");M.push("    </td>");M.push("    </tr>");M.push("    <tr>");M.push('        <td style="">');M.push('            <div class="legend red_legend"><span></span>\u8d44\u91d1\u6d41\u5165</div>');M.push('            <div class="legend green_legend"><span></span>\u8d44\u91d1\u6d41\u51fa</div>');M.push('            <div class="il" style="color:#868686;font-weight:normal;padding-right:15px;_float:left;_padding-right:0;">\u5355\u4f4d(<div class="il" id="in_out_unit">\u4e07\u5143</div>)</div>');M.push("        </td>");M.push("    </tr>");M.push("</table>");__.Dom.f(L).innerHTML=M.join("")};var A=function(M){M=M.sort(function(O,N){O=parseFloat(O);N=parseFloat(N);return O-N});var L=M[0];if(L>=10000){return"y"}else{if(L>0&&L<10000){return"w"}else{return""}}};var t=function(N,M){N=parseFloat(N);var L=N<0?-1:1;N=Math.abs(N);if(M=="y"){N=N*0.0001}switch(true){case N-100<0:N=Number(L*N).toFixed(2);break;case N-1000<0:N=Number(L*N).toFixed(1);break;case N-10000<0||N-10000>=0:N=Number(L*N).toFixed(0);break;default:N=Number(L*N).toFixed(2);break}if(isNaN(N)){N="0.0"}return N};var v=0;var s=[];var F=0;var f=function(){var M=function(){window.clearTimeout(F);v=0;s=[];F=0};if(s.length<=0){M();return}v++;switch(v){case 1:for(var N=0;N<s.length;N++){var O=s[N];var P=__.Dom.f(O.id);var L=O.color;P.style.fontWeight="bold";switch(L){case"r":P.style.color="red";break;case"g":P.style.color="green";break;case"b":P.style.color="blue";break}}break;case 3:for(var N=0;N<s.length;N++){var O=s[N];var P=__.Dom.f(O.id);P.style.color="#000"}break;case 2:for(var N=0;N<s.length;N++){var O=s[N];var P=__.Dom.f(O.id);P.style.fontWeight="normal"}break}if(v>3){M()}else{window.setTimeout(arguments.callee,400)}};var k=function(){var L="http://qt.gtimg.cn/r=@R@&q=ff_@CODE@ http://stock.gtimg.cn/data/view/ggdx.php?t=1&q=@CODE@&r=@R@";__.load(L.replace(/@CODE@/ig,C).replace(/@R@/ig,Math.random()),function(){if(typeof window.v_ggdx_flow=="undefined"||typeof window["v_ff_"+C]=="undefined"){return}if(typeof window.v_ggdx_flow=="string"&&!!window.v_ggdx_flow){v_ggdx_flow=v_ggdx_flow.split("^");for(var M=0;M<v_ggdx_flow.length;M++){v_ggdx_flow[M]=v_ggdx_flow[M].split("~")}}if(typeof window["v_ff_"+C]=="string"&&!!window["v_ff_"+C]){window["v_ff_"+C]=window["v_ff_"+C].split("~")}var Q=Math.max(window["v_ff_"+C][1],window["v_ff_"+C][2],window["v_ff_"+C][5],window["v_ff_"+C][6]);var O=A([window["v_ff_"+C][1],window["v_ff_"+C][2],window["v_ff_"+C][5],window["v_ff_"+C][6]]);u("zhuli",window["v_ff_"+C].slice(1,5),Q,O,B.ff_zhuli_data);u("sanhu",window["v_ff_"+C].slice(5,9),Q,O,B.ff_sanhu_data);H(window["v_ff_"+C],O);var P=parseFloat(window["v_ff_"+C][3])+parseFloat(window["v_ff_"+C][7]);if(isNaN(P)){P=0}var N=[];if(v_ggdx_flow){for(var M=0;M<v_ggdx_flow.length;M++){if(v_ggdx_flow[M][3]!=G){N.push(v_ggdx_flow[M])}}}N=[[P,window["v_ff_"+C][3],window["v_ff_"+C][7],G]].concat(N);q(N);B.ff_zhuli_data=window["v_ff_"+C].slice(1,5);B.ff_sanhu_data=window["v_ff_"+C].slice(5,9);B.today_net_in_data=P;f();K(1)})};var I=__.config.ua.ie==6?60:70;var m=5;var u=function(S,N,R,T,M){var O=N[0];var U=N[1];var Q=function(W,X){var V=W==X?I:(I/X*W);if(V<m){V=m}if(W==0){V=0}return V};var L=Q(O,R);var P=Q(U,R);__.Dom.f(S+"_in_bar").style.height=__.Dom.f(S+"_in_bar").style.fontSize=L+"px";__.Dom.f(S+"_out_bar").style.height=__.Dom.f(S+"_out_bar").style.fontSize=P+"px";__.Dom.f(S+"_in_text").innerHTML=t(O,T);if(M!=null&&M[0]!=O){s.push({id:S+"_in_text",color:"r"})}__.Dom.f(S+"_out_text").innerHTML=t(U,T);if(M!=null&&M[1]!=U){s.push({id:S+"_out_text",color:"b"})}};var H=function(P,N){var M=parseFloat(P[3]);var L=parseFloat(P[9]);__.Dom.f("net_in_value").innerHTML=(M>0?"+":"")+t(M,N);__.Dom.f("net_in_value").style.color=M>0?"#FE0002":M<0?"#009900":"";var O=Number(Math.abs(M/L*100)).toFixed(2);if(isNaN(O)){O="0.0"}__.Dom.f("in_out_unit").innerHTML=N=="y"?"\u4ebf\u5143":"\u4e07\u5143"};var J=__.config.ua.ie==6?20:25;var o=3;var q=function(Q){var U=1;var O=function(ae,ag,aj,ad,ak,ai,aa){var af='                                <a title="@DATE@" style="text-decoration:none;">                                <div title="@DATE@" class="bar_obj nday_red_bar nday_red_bar_@DAY@">                                    <div class="bar_text" id="@ID@">@VOLUMN@</div>                                    <div class="bar red_bar" style="height:@HEIGHT@px;line-height:@HEIGHT@px;font-size:@HEIGHT@px;"></div>                                </div>                                </a>                                ';var ac='                                <a title="@DATE@" style="text-decoration:none;">                                <div title="@DATE@" class="bar_obj nday_green_bar nday_green_bar_@DAY@">                                    <div class="bar green_bar" style="height:@HEIGHT@px;line-height:@HEIGHT@px;font-size:@HEIGHT@px;"></div>                                    <div class="bar_text" id="@ID@">-@VOLUMN@</div>                                </div>                                </a>                                ';var ah=D(aa,"@Y@-@M@-@D@");var Z=ae=="r"?af:ac;Z=Z.replace(/@TYPE@/ig,ae=="r"?"red":"green").replace(/@DAY@/ig,ag).replace(/@ID@/ig,ai?"today_net_in":"").replace(/@DATE@/ig,!ah?"\u4eca\u65e5":ah);var ab=aj==ad?J:(J/ad*aj);if(ab<o){ab=o}if(aj==0){ab=0}Z=Z.replace(/@HEIGHT@/ig,ab);Z=Z.replace(/@VOLUMN@/ig,t(aj,ak));return Z};var X=Q.concat([]).reverse();var R=Q.concat([]).sort(function(aa,Z){return -1*(Math.abs(parseFloat(aa[U]))-Math.abs(parseFloat(Z[U])))});var S=Math.abs(R[0][U]);var Y=Math.abs(R[R.length-1][U]);var W=A([Y]);__.Dom.f("nday_unit").innerHTML=W=="y"?"\u4ebf\u5143":"\u4e07\u5143";__.Dom.f("nday_red_bar_list").style.display="block";__.Dom.f("nday_red_bar_list").innerHTML="";__.Dom.f("nday_green_bar_list").innerHTML="";var L=Math.min(5,X.length);for(var P=0;P<L;P++){var V=X[P][U];var M=X[P][3];if(isNaN(V)){V=0}var T=P+1;var N=O(V>=0?"r":"g",T,Math.abs(V),S,W,(M==G),M);if(V>=0){__.Dom.f("nday_red_bar_list").innerHTML+=N}else{__.Dom.f("nday_green_bar_list").innerHTML+=N}if(P===L-1){if(B.today_net_in_data_1!=null&&B.today_net_in_data_1!=V){B.today_net_in_data_1=V;s.push({id:"today_net_in",color:(V>=0?"r":"g")})}}}};var D=function(L,M){M=M||"@Y@-@M@-@D@";if(L&&L.length>=8){L=L.replace(/[^0-9]*/ig,"");return M.replace(/@Y@/ig,L.substring(0,4)).replace(/@M@/ig,L.substring(4,6)).replace(/@D@/ig,L.substring(6,8))}else{return L}};return{onReady:z,init:function(M,L,N){L=L===null||L==undefined?"div-zjlx":L;C=M;G=D(N,"@M@-@D@");p(L);k()},start:function(){var L=this;var M=function(){L.stop();k();l=window.setTimeout(arguments.callee,10000)};M()},stop:function(){window.clearTimeout(l)},gotoFlowPage:function(){if(C){var L=C.replace(/[^0-9]*/ig,"");location.href="http://stockhtm.finance.qq.com/sstock/quotpage/q/"+L+".htm#flow"}},goto5dayPage:function(){window.open("http://finance.qq.com/data/?ggwrzc","_blank")}}}());c.set(d,a)}());(function(){var c=__,b="1.1.0",d="__.app.stock.quotpage.zjlx",a=(function(){var z=c.Dom,u=c.Event,p=function(){},k=function(B,A,D){try{if(typeof window.g_FNC_BOSS_CLICK=="function"){window.g_FNC_BOSS_CLICK(B,A,D)}}catch(C){}},t=z.f("#btn-wdpk"),g=z.f("#btn-zjlx"),q=z.f("#mod-wdpk"),v=z.f("#mod-zjlx"),m=false,o=function(A){if(A=="wdpk"){v.style.display="none";q.style.display="block";t.className="on";g.className="off";__.app.stock.quotpage.rt_zjlx.stop()}else{q.style.display="none";v.style.display="block";g.className="on";t.className="off";__.app.stock.quotpage.rt_zjlx.start()}},l=null,f=null,s=function(A){if(m){return}__.app.stock.quotpage.rt_zjlx.onReady(function(){__.QosSS.set("zjlx")});__.app.stock.quotpage.rt_zjlx.init(A,v);u.on(t,"click",function(){o("wdpk")});u.on(g,"click",function(){o("zjlx")});u.on(g,"mouseover",function(){if(f!==null){clearTimeout(f);f=null}if(l===null){l=setTimeout(function(){o("zjlx");k("zjlx","zjlx","")},300)}});u.on(g,"mouseout",function(){if(l!==null){clearTimeout(l);l=null}});u.on(t,"mouseover",function(){if(l!==null){clearTimeout(l);l=null}if(f===null){f=setTimeout(function(){o("wdpk");k("wdpk","wdpk","")},300)}});u.on(t,"mouseout",function(){if(f!==null){clearTimeout(f);f=null}});m=true};return{init:s}}());c.set(d,a)}());__.app.stock.quotpage.zjlx.init(g_Symbol);(function(){__.set("__.app.detail");__.app.detail={loadPrice:function(){if(this._cron_price){return}this._current="price";var a=this;this._cron_price=this._CRON.subscribe({noWait:true,qtName:"s_p"+this._symbol+","+this._symbol,interval:10,judge:function(b){if(a._current=="price"){if(b%10==0){return 3}}return 0},onOk:function(b){var c=__.global["v_s_p"+a._symbol],d=__.global["v_"+a._symbol];if(c&&d){a.setPrice(c.split("^"),d.split("~"))}}})},setPrice:function(a,b){__.fnTable.fill(a,"tr-price",[function(c){return __.fnTable.processors.GET_COLOR(c[0],c[0]-b[4])},function(c){return __.fnTable.processors.GET_COLOR(parseInt(c[2]),c[0]-b[4])},function(c){if(b[36]==0){return"--"}else{return(100*parseInt(c[2])/b[36]).toFixed(3)+"%"}}],{lineCount:5})},loadDadan:function(){if(this._cron_dadan){return}this._current="dadan";var a=this;this._cron_dadan=this._CRON.subscribe({noWait:true,qtName:"s_dd"+a._symbol,interval:10,judge:function(b){if(a._current=="dadan"){if(b%10==0){return 3}}return 0},onOk:function(b){var c=__.global["v_s_dd"+a._symbol];if(c){a.setDadan(c.split("^"))}}})},setDadan:function(a){__.fnTable.fill(a,"tr-dadan",[1,2,3,function(b){if(b[4]=="B"){return __.fnTable.processors.GET_COLOR("\u4e70\u76d8",1)}else{if(b[4]=="S"){return __.fnTable.processors.GET_COLOR("\u5356\u76d8",-1)}else{return __.fnTable.processors.GET_COLOR("\u4e2d\u6027\u76d8",0)}}}],{lineCount:5})},loadDetail:function(){this._current="detail"},init:function(a){a=a||{};this._CRON=a.cron||new __.CronLoader();this._symbol=a.symbol;if(!a.cron){this._CRON.start()}var b=this;this._spans=__.dom.$("#ykd span").slice(0,3);this._divs=[__.dom.f("ykd0"),__.dom.f("ykd1"),__.dom.f("ykd2")];this._hrefMore=__.dom.f("ykdMore");this._href=["/sstock/quotpage/q/"+this._symbol.substr(2)+".htm#detail","/sstock/quotpage/q/"+this._symbol.substr(2)+".htm#price","/sstock/quotpage/q/"+this._symbol.substr(2)+".htm#dadan",];__.event.on(b._spans,"click",function(d){var c=d.target;__.each(b._spans,function(g,f){if(g==c){__.dom.addClass(g,"yk_on");__.dom.remClass(b._divs[f],"undis");b._hrefMore.href=b._href[f];if(f==1){b.loadPrice()}else{if(f==2){b.loadDadan()}else{b.loadDetail()}}}else{__.dom.remClass(g,"yk_on");__.dom.addClass(b._divs[f],"undis")}})})}}}());__.app.detail.init({cron:_CRON,symbol:g_Symbol});(function(){__.set("__.app.pkfx");var c=[],a=0,d=function(f){if(a==f){return}a=f;if(a==1){b()}},b=function(f){if(__.lang.isFunction(f)){c.push(f)}if(a==1){__.each(c,function(g){g()})}};__.app.pkfx={set:function(g){if(this._node&&g&&g.length>3){var f=58,t,s,p=Number(g[0]),m=Number(g[1]),l=Number(g[2]),k=Number(g[3]);if((p+m)>(l+k)){t=f;s=(l+k)*f/(p+m)}else{s=f;t=(p+m)*f/(l+k)}var q=['<table width="218" border="0" align="center" cellpadding="0" cellspacing="0" class="l24">','<tr><td width="29">\u4e70\u76d8</td>','<td width="63"><div class="fl cbg bg2" style="width:',(t*p/(p+m)).toFixed(0),'px;"></div><div class="fl cbg bg6" style="width:',(t*m/(p+m)).toFixed(0),'px;"></div></td>','<td class="fc2">\u5927\u5355:',(p*100).toFixed(1),'%</td><td class="fc6">\u5c0f\u5355:',(m*100).toFixed(1),"%</td>","</tr><tr><td>\u5356\u76d8</td>",'<td><div class="fl cbg bg3" style="width:',(s*l/(l+k)).toFixed(0),'px;"></div><div class="fl cbg bg7" style="width:',(s*k/(l+k)).toFixed(0),'px;"></div></td>','<td class="fc3">\u5927\u5355:',(l*100).toFixed(1),'%</td><td class="fc7">\u5c0f\u5355:',(k*100).toFixed(1),"%</td>","</tr></table>"].join("");this._node.innerHTML=q;try{__.app.QosSS.set("SetPkfx")}catch(o){}}d(1)},load:function(){var f=this;this._cronId=this._CRON.subscribe({qtName:"s_pk"+this._symbol,interval:10,judge:10,noWait:true,onOk:function(g){var k=__.global["v_s_pk"+f._symbol];if(k){f.set(k.split("~"))}}})},init:function(f){f=f||{};this._symbol=f.symbol;this._node=__.dom.f(f.node);this._CRON=f.cron||new __.CronLoader();this.load();if(!f.cron){this._CRON.start()}},onReady:b}}());__.app.pkfx.onReady(function(){__.QosSS.set("pkfx")});__.app.pkfx.init({symbol:g_Symbol,conr:_CRON,node:"pkfx"});
/*  |xGv00|39dfff19973a04d6caf0dccdebb26862 */